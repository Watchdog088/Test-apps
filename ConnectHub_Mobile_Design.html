<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ConnectHub - Complete Prototype</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #4f46e5;
            --secondary: #ec4899;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--bg-primary);
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            padding-bottom: 70px;
        }

        /* Top Navigation Bar */
        .top-nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(22, 33, 62, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 8px 16px;
        }

        .nav-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 56px;
        }

        .nav-logo {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .nav-actions {
            display: flex;
            gap: 8px;
        }

        .nav-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }

        .nav-btn:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.1);
        }

        .badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--error);
            color: white;
            font-size: 10px;
            font-weight: 700;
            min-width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
            border: 2px solid var(--bg-card);
        }

        /* Pill-Shaped Navigation Bar */
        .pill-nav-container {
            display: flex;
            gap: 8px;
            padding: 8px 16px 12px;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .pill-nav-container::-webkit-scrollbar {
            display: none;
        }

        .pill-nav-button {
            padding: 10px 24px;
            border-radius: 25px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .pill-nav-button:active {
            transform: scale(0.95);
        }

        .pill-nav-button.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            background: rgba(22, 33, 62, 0.98);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            padding: 8px 16px 12px;
            z-index: 100;
        }

        .nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 12px;
            transition: all 0.2s;
            position: relative;
        }

        .nav-item:active {
            transform: scale(0.95);
            background: var(--glass);
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item-icon {
            font-size: 24px;
        }

        .nav-item-label {
            font-size: 11px;
            font-weight: 600;
        }

        /* Content Container */
        .content {
            padding: 16px;
            padding-bottom: 80px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
        }

        .section-link {
            font-size: 14px;
            color: var(--primary);
            cursor: pointer;
            font-weight: 600;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        /* Stories Section - Card Based */
        .stories-cards-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .story-card {
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .story-card:active {
            transform: scale(0.98);
        }

        .story-card-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            position: relative;
        }

        .story-card-image.add {
            background: var(--glass);
            border: 2px dashed var(--glass-border);
        }

        .story-add-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .story-card-info {
            padding: 12px;
        }

        .story-card-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .story-card-meta {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Post Card */
        .post-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 12px;
        }

        .post-header-info {
            flex: 1;
        }

        .post-author {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .post-meta {
            font-size: 13px;
            color: var(--text-muted);
        }

        .post-menu {
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
        }

        .post-content {
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .post-image {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            margin-bottom: 12px;
        }

        .post-actions {
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            border-top: 1px solid var(--glass-border);
        }

        .post-action {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px;
            border-radius: 8px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .post-action:active {
            background: var(--glass);
        }

        .post-action.active {
            color: var(--error);
        }

        /* Create Post */
        .create-post {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
        }

        .create-post-input {
            flex: 1;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 12px 16px;
            color: var(--text-muted);
            font-size: 15px;
        }

        .create-post-actions {
            display: flex;
            gap: 12px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--glass-border);
        }

        .create-action {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px;
            background: var(--glass);
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--bg-primary);
            z-index: 200;
            display: none;
            overflow-y: auto;
        }

        .modal.show {
            display: block;
        }

        .modal-header {
            position: sticky;
            top: 0;
            background: rgba(22, 33, 62, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 10;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--glass);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
        }

        .modal-title {
            flex: 1;
            font-size: 18px;
            font-weight: 700;
        }

        .modal-content {
            padding: 16px;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 12px;
            padding: 14px 24px;
            font-size: 15px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn:disabled {
            opacity: 0.5;
        }

        /* List Items */
        .list-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .list-item:active {
            transform: scale(0.98);
        }

        .list-item-icon {
            font-size: 24px;
            width: 40px;
            text-align: center;
        }

        .list-item-content {
            flex: 1;
        }

        .list-item-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .list-item-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .list-item-arrow {
            font-size: 18px;
            color: var(--text-muted);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            padding: 12px 20px;
            border-radius: 24px;
            z-index: 1000;
            display: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .toast.show {
            display: block;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translate(-50%, 20px);
                opacity: 0;
            }
            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }

        /* Input Fields */
        .input-field {
            width: 100%;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 14px 16px;
            color: var(--text-primary);
            font-size: 15px;
            font-family: inherit;
            margin-bottom: 12px;
        }

        .input-field::placeholder {
            color: var(--text-muted);
        }

        .textarea-field {
            min-height: 120px;
            resize: vertical;
        }

        /* Toggle Switch */
        .toggle-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .toggle-switch {
            width: 50px;
            height: 28px;
            background: var(--text-muted);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: var(--success);
        }

        .toggle-slider {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            right: calc(100% - 26px);
            transition: all 0.3s;
        }

        .toggle-switch.active .toggle-slider {
            right: 2px;
        }

        /* Video Camera Interface */
        .camera-interface {
            position: relative;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
        }

        .camera-controls {
            position: absolute;
            bottom: 30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 0 20px;
        }

        .camera-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--glass);
            border: 3px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
        }

        .camera-btn.record {
            width: 80px;
            height: 80px;
            background: var(--error);
        }

        /* Dating Cards */
        .dating-card {
            background: var(--bg-card);
            border-radius: 24px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid var(--glass-border);
        }

        .dating-card-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
        }

        .dating-card-info {
            padding: 20px;
        }

        .dating-card-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .dating-card-details {
            font-size: 15px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .dating-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .dating-btn {
            flex: 1;
            padding: 16px;
            border-radius: 50%;
            border: none;
            font-size: 32px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .dating-btn.pass {
            background: var(--glass);
        }

        .dating-btn.like {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .dating-btn.super {
            background: linear-gradient(135deg, var(--accent), var(--success));
        }

        /* Game Card */
        .game-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
            display: flex;
            gap: 16px;
            cursor: pointer;
        }

        .game-icon {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            flex-shrink: 0;
        }

        .game-info {
            flex: 1;
        }

        .game-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .game-stats {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Stats Display */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Search Bar */
        .search-bar {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }

        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 15px;
            outline: none;
        }

        /* Profile Header */
        .profile-header {
            text-align: center;
            padding: 20px;
        }

        .profile-avatar-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin: 0 auto 16px;
            border: 4px solid var(--glass-border);
        }

        .profile-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .profile-bio {
            font-size: 15px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-bottom: 20px;
        }

        .profile-stat {
            text-align: center;
        }

        .profile-stat-value {
            font-size: 20px;
            font-weight: 700;
        }

        .profile-stat-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Event Card */
        .event-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .event-date {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .event-date-box {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .event-month {
            font-size: 12px;
            font-weight: 600;
        }

        .event-day {
            font-size: 24px;
            font-weight: 700;
        }

        .event-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .event-details {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Live Badge */
        .live-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background: var(--error);
            color: white;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Message List */
        .message-list {
            margin-bottom: 16px;
        }

        .message-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .message-item:active {
            background: rgba(255, 255, 255, 0.08);
        }

        .message-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message-content {
            flex: 1;
            min-width: 0;
        }

        .message-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .message-preview {
            font-size: 14px;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .message-time {
            font-size: 12px;
            color: var(--text-muted);
        }

        .message-unread {
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 700;
        }

        /* Chat Interface */
        .chat-messages {
            padding: 16px;
            height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .chat-bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            margin-bottom: 12px;
            font-size: 15px;
            line-height: 1.4;
        }

        .chat-bubble.sent {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }

        .chat-bubble.received {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-bottom-left-radius: 4px;
        }

        .chat-input-container {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            background: rgba(22, 33, 62, 0.98);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            padding: 12px 16px;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 10px 16px;
            color: var(--text-primary);
            font-size: 15px;
            outline: none;
        }

        .chat-send-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }

        /* Notification Item */
        .notification-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .notification-item.unread {
            background: rgba(79, 70, 229, 0.1);
            border-color: var(--primary);
        }

        .notification-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-text {
            font-size: 14px;
            line-height: 1.4;
            margin-bottom: 4px;
        }

        .notification-time {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Group Card */
        .group-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
        }

        .group-header {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .group-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
        }

        .group-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .group-members {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Save Collection */
        .collection-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 0;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
            overflow: hidden;
            cursor: pointer;
        }

        .collection-preview {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
        }

        .collection-info {
            padding: 16px;
        }

        .collection-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .collection-count {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* FAB Button */
        .fab {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            z-index: 99;
        }

        .fab:active {
            transform: scale(0.95);
        }

        /* Trending Card */
        .trending-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .trending-tag {
            display: inline-block;
            padding: 6px 12px;
            background: var(--primary);
            border-radius: 16px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .trending-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .trending-stats {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Friend Card */
        .friend-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 8px;
        }

        .friend-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .friend-info {
            flex: 1;
        }

        .friend-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .friend-mutual {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .friend-actions {
            display: flex;
            gap: 8px;
        }

        .friend-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            border: none;
        }

        .friend-btn.primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .friend-btn.secondary {
            background: var(--glass);
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <div class="top-nav">
            <div class="nav-main">
                <div class="nav-logo">ConnectHub</div>
                <div class="nav-actions">
                    <div class="nav-btn" onclick="openModal('createNew')">‚ûï</div>
                    <div class="nav-btn" onclick="openModal('searchModal')">üîç</div>
                    <div class="nav-btn" onclick="openScreen('menu')">‚ò∞</div>
                </div>
            </div>
            
            <!-- Pill-Shaped Navigation Bar -->
            <div class="pill-nav-container">
                <div class="pill-nav-button active" onclick="switchPillTab(this, 'feed')">Feed</div>
                <div class="pill-nav-button" onclick="switchPillTab(this, 'stories')">Stories</div>
                <div class="pill-nav-button" onclick="switchPillTab(this, 'live')">Live</div>
                <div class="pill-nav-button" onclick="switchPillTab(this, 'trending')">Trending</div>
                <div class="pill-nav-button" onclick="switchPillTab(this, 'groups')">Groups</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- SECTION 1: FEED SCREEN -->
            <div id="feed-screen" class="screen active">
                <!-- Create Post -->
                <div class="card" onclick="openModal('createPost')">
                    <div style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                        <div class="post-avatar">üë§</div>
                        <div class="create-post-input">What's on your mind?</div>
                    </div>
                    <div class="create-post-actions">
                        <div class="create-action" onclick="event.stopPropagation(); openModal('addPhoto')">
                            üì∑ Photo
                        </div>
                        <div class="create-action" onclick="event.stopPropagation(); openModal('addVideo')">
                            üé• Video
                        </div>
                        <div class="create-action" onclick="event.stopPropagation(); openModal('addFeeling')">
                            üòä Feeling
                        </div>
                    </div>
                </div>

                <!-- Feed Posts -->
                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">üë§</div>
                        <div class="post-header-info">
                            <div class="post-author">Sarah Johnson</div>
                            <div class="post-meta">2 hours ago ‚Ä¢ üåç Public</div>
                        </div>
                        <div class="post-menu" onclick="openModal('postOptions')">‚ãØ</div>
                    </div>
                    <div class="post-content">
                        Just finished an amazing project! Feeling proud üéâ
                    </div>
                    <div class="post-image">üé®</div>
                    <div class="post-actions">
                        <div class="post-action" onclick="toggleLikePost(this)">
                            <span>üëç</span> Like
                        </div>
                        <div class="post-action" onclick="openModal('comments')">
                            <span>üí¨</span> Comment
                        </div>
                        <div class="post-action" onclick="sharePost()">
                            <span>üîÑ</span> Share
                        </div>
                    </div>
                </div>

                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">üòä</div>
                        <div class="post-header-info">
                            <div class="post-author">Mike Chen</div>
                            <div class="post-meta">5 hours ago ‚Ä¢ üë• Friends</div>
                        </div>
                        <div class="post-menu" onclick="openModal('postOptions')">‚ãØ</div>
                    </div>
                    <div class="post-content">
                        Beautiful sunset today! Nature is amazing üåÖ
                    </div>
                    <div class="post-image">üåÖ</div>
                    <div class="post-actions">
                        <div class="post-action" onclick="toggleLikePost(this)">
                            <span>üëç</span> Like
                        </div>
                        <div class="post-action" onclick="openModal('comments')">
                            <span>üí¨</span> Comment
                        </div>
                        <div class="post-action" onclick="sharePost()">
                            <span>üîÑ</span> Share
                        </div>
                    </div>
                </div>
            </div>

            <!-- STORIES SCREEN (NEW) -->
            <div id="stories-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üìñ Stories</div>
                </div>

                <!-- Stories as Cards -->
                <div class="stories-cards-container">
                    <div class="story-card" onclick="openModal('createStory')">
                        <div class="story-card-image add">
                            <div class="story-add-icon">‚ûï</div>
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">Create Story</div>
                            <div class="story-card-meta">Share a moment</div>
                        </div>
                    </div>
                    <div class="story-card" onclick="openModal('viewStory')">
                        <div class="story-card-image" style="background: linear-gradient(135deg, #4f46e5, #ec4899);">
                            üë§
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">Sarah Johnson</div>
                            <div class="story-card-meta">2h ago</div>
                        </div>
                    </div>
                    <div class="story-card" onclick="openModal('viewStory')">
                        <div class="story-card-image" style="background: linear-gradient(135deg, #10b981, #06b6d4);">
                            üòä
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">Mike Chen</div>
                            <div class="story-card-meta">5h ago</div>
                        </div>
                    </div>
                    <div class="story-card" onclick="openModal('viewStory')">
                        <div class="story-card-image" style="background: linear-gradient(135deg, #f59e0b, #ef4444);">
                            üé®
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">Emily Rodriguez</div>
                            <div class="story-card-meta">8h ago</div>
                        </div>
                    </div>
                    <div class="story-card" onclick="openModal('viewStory')">
                        <div class="story-card-image" style="background: linear-gradient(135deg, #06b6d4, #4f46e5);">
                            üöÄ
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">David Kim</div>
                            <div class="story-card-meta">12h ago</div>
                        </div>
                    </div>
                    <div class="story-card" onclick="openModal('viewStory')">
                        <div class="story-card-image" style="background: linear-gradient(135deg, #ec4899, #ef4444);">
                            üé≠
                        </div>
                        <div class="story-card-info">
                            <div class="story-card-name">Jessica Lee</div>
                            <div class="story-card-meta">15h ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: LIVE SCREEN -->
            <div id="live-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üî¥ Live Now</div>
                    <div class="section-link" onclick="openModal('liveSettings')">Settings</div>
                </div>

                <div class="card">
                    <div class="list-item" onclick="openModal('startLive')">
                        <div class="list-item-icon">üé•</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Go Live</div>
                            <div class="list-item-subtitle">Start broadcasting now</div>
                        </div>
                        <div class="list-item-arrow">‚Üí</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Active Streams</div>
                </div>

                <div class="card" onclick="openModal('viewLive')">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div class="post-avatar">üë§</div>
                        <div style="flex: 1;">
                            <div class="post-author">Sarah's Gaming Stream</div>
                            <div class="post-meta">
                                <span class="live-badge">
                                    <span class="live-dot"></span> LIVE
                                </span>
                                <span style="margin-left: 8px;">1.2K watching</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-image">üéÆ</div>
                    <div class="post-content">Epic gaming session! Come join the fun!</div>
                </div>

                <div class="list-item" onclick="openModal('savedLives')">
                    <div class="list-item-icon">üîñ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Saved Lives</div>
                        <div class="list-item-subtitle">12 saved broadcasts</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>

            <!-- SECTION 3: TRENDING SCREEN -->
            <div id="trending-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üî• Trending</div>
                </div>

                <div class="trending-card" onclick="openModal('trendingDetails')">
                    <div class="trending-tag">#1 TRENDING</div>
                    <div class="trending-title">New AI Features Released</div>
                    <div class="trending-stats">45.2K posts ‚Ä¢ Trending for 3 hours</div>
                    <div class="post-actions" style="border-top: 1px solid var(--glass-border); margin-top: 12px;">
                        <div class="post-action" onclick="event.stopPropagation(); toggleLikePost(this)">
                            <span>üëç</span> Like
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); openModal('comments')">
                            <span>üí¨</span> Comment
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); sharePost()">
                            <span>üîÑ</span> Share
                        </div>
                    </div>
                </div>

                <div class="trending-card" onclick="openModal('trendingDetails')">
                    <div class="trending-tag">#2 TRENDING</div>
                    <div class="trending-title">Tech Conference 2025</div>
                    <div class="trending-stats">32.1K posts ‚Ä¢ Trending for 1 hour</div>
                    <div class="post-actions" style="border-top: 1px solid var(--glass-border); margin-top: 12px;">
                        <div class="post-action" onclick="event.stopPropagation(); toggleLikePost(this)">
                            <span>üëç</span> Like
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); openModal('comments')">
                            <span>üí¨</span> Comment
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); sharePost()">
                            <span>üîÑ</span> Share
                        </div>
                    </div>
                </div>

                <div class="trending-card" onclick="openModal('trendingDetails')">
                    <div class="trending-tag">#3 TRENDING</div>
                    <div class="trending-title">Climate Action Summit</div>
                    <div class="trending-stats">28.5K posts ‚Ä¢ Trending for 5 hours</div>
                    <div class="post-actions" style="border-top: 1px solid var(--glass-border); margin-top: 12px;">
                        <div class="post-action" onclick="event.stopPropagation(); toggleLikePost(this)">
                            <span>üëç</span> Like
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); openModal('comments')">
                            <span>üí¨</span> Comment
                        </div>
                        <div class="post-action" onclick="event.stopPropagation(); sharePost()">
                            <span>üîÑ</span> Share
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 4: GROUPS SCREEN -->
            <div id="groups-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üë• Your Groups</div>
                    <div class="section-link" onclick="openModal('createGroup')">+ New</div>
                </div>

                <div class="group-card" onclick="openModal('groupDetails')">
                    <div class="group-header">
                        <div class="group-icon">üíª</div>
                        <div>
                            <div class="group-title">Tech Enthusiasts</div>
                            <div class="group-members">2,456 members</div>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary);">
                        A community for technology lovers
                    </div>
                </div>

                <div class="group-card" onclick="openModal('groupDetails')">
                    <div class="group-header">
                        <div class="group-icon">üé®</div>
                        <div>
                            <div class="group-title">Creative Designers</div>
                            <div class="group-members">1,832 members</div>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary);">
                        Share your creative work and ideas
                    </div>
                </div>

                <div class="group-card" onclick="openModal('groupDetails')">
                    <div class="group-header">
                        <div class="group-icon">üìö</div>
                        <div>
                            <div class="group-title">Book Club</div>
                            <div class="group-members">945 members</div>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary);">
                        Monthly book discussions and reviews
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Discover Groups</div>
                </div>

                <div class="group-card">
                    <div class="group-header">
                        <div class="group-icon">üéÆ</div>
                        <div>
                            <div class="group-title">Gaming Community</div>
                            <div class="group-members">5,234 members</div>
                        </div>
                    </div>
                    <button class="btn">Join Group</button>
                </div>
            </div>

            <!-- SECTION 10: FRIENDS SCREEN -->
            <div id="friends-screen" class="screen">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search friends..." />
                </div>

                <div class="section-header">
                    <div class="section-title">All Friends</div>
                    <div class="section-link" onclick="openModal('allFriends')">See All (234)</div>
                </div>

                <div class="friend-card">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah Johnson</div>
                        <div class="friend-mutual">12 mutual friends</div>
                    </div>
                    <div class="friend-actions">
                        <button class="friend-btn primary" onclick="sendMessage()">Message</button>
                    </div>
                </div>

                <div class="friend-card">
                    <div class="friend-avatar">üòä</div>
                    <div class="friend-info">
                        <div class="friend-name">Mike Chen</div>
                        <div class="friend-mutual">8 mutual friends</div>
                    </div>
                    <div class="friend-actions">
                        <button class="friend-btn primary" onclick="sendMessage()">Message</button>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">People You May Know</div>
                </div>

                <div class="friend-card">
                    <div class="friend-avatar">üé®</div>
                    <div class="friend-info">
                        <div class="friend-name">Emily Rodriguez</div>
                        <div class="friend-mutual">5 mutual friends</div>
                    </div>
                    <div class="friend-actions">
                        <button class="friend-btn primary" onclick="addFriend(this)">Add Friend</button>
                        <button class="friend-btn secondary" onclick="removeSuggestion(this)">‚úï</button>
                    </div>
                </div>

                <div class="friend-card">
                    <div class="friend-avatar">üöÄ</div>
                    <div class="friend-info">
                        <div class="friend-name">David Kim</div>
                        <div class="friend-mutual">3 mutual friends</div>
                    </div>
                    <div class="friend-actions">
                        <button class="friend-btn primary" onclick="addFriend(this)">Add Friend</button>
                        <button class="friend-btn secondary" onclick="removeSuggestion(this)">‚úï</button>
                    </div>
                </div>
            </div>

            <!-- SECTION 11: DATING SCREEN -->
            <div id="dating-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üíï Dating</div>
                    <div class="section-link" onclick="openModal('datingSettings')">Settings</div>
                </div>

                <div class="dating-card">
                    <div class="dating-card-image">üë§</div>
                    <div class="dating-card-info">
                        <div class="dating-card-name">Sarah, 28</div>
                        <div class="dating-card-details">üìç 5 miles away ‚Ä¢ Artist & Designer</div>
                        <div class="post-content">Love hiking, photography, and meeting new people ‚ú®</div>
                        <div class="dating-actions" style="justify-content: space-between;">
                            <button class="dating-btn pass" onclick="passDatingProfile()">‚úï</button>
                            <button class="dating-btn super" onclick="superLike()">‚≠ê</button>
                            <button class="dating-btn like" onclick="likeDatingProfile()">üíö</button>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card" onclick="openModal('recentMatches')">
                        <div class="stat-value">12</div>
                        <div class="stat-label">New Matches</div>
                    </div>
                    <div class="stat-card" onclick="openModal('profileViews')">
                        <div class="stat-value">45</div>
                        <div class="stat-label">Profile Views</div>
                    </div>
                    <div class="stat-card" onclick="openModal('superLikes')">
                        <div class="stat-value">3</div>
                        <div class="stat-label">Super Likes Left</div>
                    </div>
                    <div class="stat-card" onclick="openModal('todayActivity')">
                        <div class="stat-value">23</div>
                        <div class="stat-label">Today's Activity</div>
                    </div>
                </div>
            </div>

            <!-- SECTION 12: PROFILE SCREEN -->
            <div id="profile-screen" class="screen">
                <div class="profile-header">
                    <div class="profile-avatar-large">üë§</div>
                    <div class="profile-name">John Doe</div>
                    <div class="profile-bio">Tech enthusiast | Traveler | Coffee lover ‚òï</div>
                    <div class="profile-stats">
                        <div class="profile-stat" onclick="openModal('friendsList')">
                            <div class="profile-stat-value">234</div>
                            <div class="profile-stat-label">Friends</div>
                        </div>
                        <div class="profile-stat" onclick="openModal('followersList')">
                            <div class="profile-stat-value">1.2K</div>
                            <div class="profile-stat-label">Followers</div>
                        </div>
                        <div class="profile-stat" onclick="openModal('followingList')">
                            <div class="profile-stat-value">456</div>
                            <div class="profile-stat-label">Following</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 12px; margin-top: 12px;">
                        <button class="btn" onclick="openModal('editProfile')" style="flex: 1;">Edit Profile</button>
                        <button class="btn" onclick="shareProfile()" style="flex: 1;">Share Profile</button>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Recent Posts</div>
                    <div class="section-link" onclick="openModal('allPosts')">See All</div>
                </div>

                <div class="post-card">
                    <div class="post-content">Great day at the beach! üèñÔ∏è</div>
                    <div class="post-image">üèñÔ∏è</div>
                    <div class="post-meta">Yesterday at 3:24 PM</div>
                </div>
            </div>

            <!-- SECTION 14: SAVED SCREEN -->
            <div id="saved-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üîñ Saved Items</div>
                    <div class="section-link" onclick="openModal('createCollection')">+ Collection</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Collections</div>
                </div>

                <div class="collection-card" onclick="openModal('viewCollection')">
                    <div class="collection-preview">üì∏</div>
                    <div class="collection-info">
                        <div class="collection-title">Travel Inspiration</div>
                        <div class="collection-count">24 items</div>
                    </div>
                </div>

                <div class="collection-card" onclick="openModal('viewCollection')">
                    <div class="collection-preview">üç≥</div>
                    <div class="collection-info">
                        <div class="collection-title">Recipes</div>
                        <div class="collection-count">18 items</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Recent Saves</div>
                </div>

                <div class="post-card">
                    <div class="post-content">Amazing sunset photography tips!</div>
                    <div class="post-image">üì∑</div>
                    <div class="post-meta">Saved 2 hours ago</div>
                </div>
            </div>

            <!-- SECTION 15: EVENTS SCREEN -->
            <div id="events-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üìÖ Events</div>
                    <div class="section-link" onclick="openModal('createEvent')">+ Create</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Upcoming</div>
                </div>

                <div class="event-card" onclick="openModal('viewEvent')">
                    <div class="event-date">
                        <div class="event-date-box">
                            <div class="event-month">NOV</div>
                            <div class="event-day">15</div>
                        </div>
                        <div>
                            <div class="event-title">Tech Conference 2025</div>
                            <div class="event-details">üìç Convention Center ‚Ä¢ 9:00 AM</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px; margin-top: 12px;">
                        <button class="btn" style="flex: 1;" onclick="event.stopPropagation(); markInterested()">Interested</button>
                        <button class="btn" style="flex: 1;" onclick="event.stopPropagation(); shareEvent()">Share</button>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Hosting</div>
                </div>

                <div class="event-card">
                    <div class="event-date">
                        <div class="event-date-box">
                            <div class="event-month">NOV</div>
                            <div class="event-day">20</div>
                        </div>
                        <div>
                            <div class="event-title">Coffee Meetup</div>
                            <div class="event-details">üìç Starbucks Downtown ‚Ä¢ 3:00 PM</div>
                        </div>
                    </div>
                    <div class="post-meta" style="margin-top: 8px;">12 people interested</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Past Events</div>
                </div>

                <div class="event-card">
                    <div class="event-date">
                        <div class="event-date-box">
                            <div class="event-month">OCT</div>
                            <div class="event-day">28</div>
                        </div>
                        <div>
                            <div class="event-title">Halloween Party</div>
                            <div class="event-details">Attended</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 16: GAMING HUB SCREEN -->
            <div id="gaming-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üéÆ Gaming Hub</div>
                    <div class="section-link" onclick="openModal('gamingNotifications')">
                        <span>üîî</span> Notifications
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">Level 42</div>
                        <div class="stat-label">Gaming Level</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">156</div>
                        <div class="stat-label">Games Won</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">68%</div>
                        <div class="stat-label">Win Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">230</div>
                        <div class="stat-label">Total Games</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Play Now</div>
                    <div class="section-link" onclick="openModal('allGames')">View All</div>
                </div>

                <div class="game-card" onclick="playGame('puzzle')">
                    <div class="game-icon">üß©</div>
                    <div class="game-info">
                        <div class="game-title">Puzzle Master</div>
                        <div class="game-stats">Play time: 12h 34m ‚Ä¢ High Score: 2,450</div>
                    </div>
                </div>

                <div class="game-card" onclick="playGame('racing')">
                    <div class="game-icon">üèéÔ∏è</div>
                    <div class="game-info">
                        <div class="game-title">Speed Racer</div>
                        <div class="game-stats">Play time: 8h 22m ‚Ä¢ High Score: 18,900</div>
                    </div>
                </div>

                <div class="game-card" onclick="playGame('cards')">
                    <div class="game-icon">üÉè</div>
                    <div class="game-info">
                        <div class="game-title">Card Champion</div>
                        <div class="game-stats">Play time: 15h 45m ‚Ä¢ High Score: 5,670</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Leaderboard</div>
                    <div class="section-link" onclick="openModal('fullLeaderboard')">View All</div>
                </div>

                <div class="list-item">
                    <div style="font-size: 24px; font-weight: 700; color: #ffd700;">ü•á</div>
                    <div class="list-item-content">
                        <div class="list-item-title">ProGamer123</div>
                        <div class="list-item-subtitle">5,890 points</div>
                    </div>
                </div>

                <div class="list-item">
                    <div style="font-size: 24px; font-weight: 700; color: #c0c0c0;">ü•à</div>
                    <div class="list-item-content">
                        <div class="list-item-title">GameMaster</div>
                        <div class="list-item-subtitle">5,234 points</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Daily Challenges</div>
                </div>

                <div class="card">
                    <div class="list-item-title">Win 3 games today</div>
                    <div style="margin: 12px 0;">
                        <div style="background: var(--glass); height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); width: 66%; height: 100%;"></div>
                        </div>
                    </div>
                    <div class="list-item-subtitle">2/3 completed ‚Ä¢ Reward: 500 XP</div>
                </div>
            </div>

            <!-- SECTION 9: MEDIA SCREEN -->
            <div id="media-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üìπ Media</div>
                </div>
                <div class="camera-interface">
                    üìπ
                    <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 12px;">
                        <div class="nav-btn" onclick="openModal('cameraSettings')">‚öôÔ∏è</div>
                        <div class="nav-btn" onclick="switchCamera()">üîÑ</div>
                    </div>
                    <div class="camera-controls">
                        <div class="camera-btn" onclick="openGallery()">üñºÔ∏è</div>
                        <div class="camera-btn record" onclick="toggleRecording()">‚è∫Ô∏è</div>
                        <div class="camera-btn" onclick="openModal('goLive')">üî¥</div>
                    </div>
                    <div style="position: absolute; bottom: 120px; display: flex; gap: 12px;">
                        <button class="btn" onclick="openModal('arFeatures')">AR Effects</button>
                        <button class="btn" onclick="openModal('postOptions')">Post</button>
                    </div>
                </div>
            </div>

            <!-- SECTION 13: SETTINGS SCREEN -->
            <div id="settings-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">‚öôÔ∏è Settings</div>
                </div>

                <div class="list-item" onclick="openModal('editPersonalInfo')">
                    <div class="list-item-icon">üë§</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Edit Personal Info</div>
                        <div class="list-item-subtitle">Name, email, phone</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('changePassword')">
                    <div class="list-item-icon">üîí</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Change Password</div>
                        <div class="list-item-subtitle">Update your password</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('accountPreferences')">
                    <div class="list-item-icon">‚öôÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Account Preferences</div>
                        <div class="list-item-subtitle">Language, timezone</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('privacySettings')">
                    <div class="list-item-icon">üîê</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy Settings</div>
                        <div class="list-item-subtitle">Who can see your content</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('blockingSettings')">
                    <div class="list-item-icon">üö´</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Blocking Settings</div>
                        <div class="list-item-subtitle">Manage blocked accounts</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('dataSettings')">
                    <div class="list-item-icon">üíæ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Data Settings</div>
                        <div class="list-item-subtitle">Download your data</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Push Notifications</div>
                        <div class="list-item-subtitle">Get notified about activity</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>

                <div class="list-item" onclick="openModal('emailPreferences')">
                    <div class="list-item-icon">üìß</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Email Preferences</div>
                        <div class="list-item-subtitle">Manage email notifications</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('aboutConnectHub')">
                    <div class="list-item-icon">‚ÑπÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">About ConnectHub</div>
                        <div class="list-item-subtitle">Version 2.5.1</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('termsOfService')">
                    <div class="list-item-icon">üìÑ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Terms of Service</div>
                        <div class="list-item-subtitle">Legal information</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <button class="btn" style="margin-top: 20px; background: var(--error);">
                    Logout
                </button>
            </div>

            <!-- SECTION 7: MESSAGES SCREEN -->
            <div id="messages-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üí¨ Messages</div>
                    <div class="section-link" onclick="openModal('newMessage')">+ New</div>
                </div>

                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search messages..." />
                </div>

                <div class="message-list">
                    <div class="message-item" onclick="openModal('chatWindow')">
                        <div class="message-avatar">üë§</div>
                        <div class="message-content">
                            <div class="message-name">Sarah Johnson</div>
                            <div class="message-preview">Hey! How are you doing?</div>
                        </div>
                        <div>
                            <div class="message-time">2m</div>
                            <div class="message-unread">3</div>
                        </div>
                    </div>

                    <div class="message-item" onclick="openModal('chatWindow')">
                        <div class="message-avatar">üòä</div>
                        <div class="message-content">
                            <div class="message-name">Mike Chen</div>
                            <div class="message-preview">That's awesome!</div>
                        </div>
                        <div>
                            <div class="message-time">1h</div>
                        </div>
                    </div>

                    <div class="message-item" onclick="openModal('chatWindow')">
                        <div class="message-avatar">üé®</div>
                        <div class="message-content">
                            <div class="message-name">Emily Rodriguez</div>
                            <div class="message-preview">Check out my new design!</div>
                        </div>
                        <div>
                            <div class="message-time">3h</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 8: NOTIFICATIONS SCREEN -->
            <div id="notifications-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üîî Notifications</div>
                    <div class="section-link" onclick="markAllAsRead()">Mark all as read</div>
                </div>

                <div class="notification-item unread" onclick="goToPost(this)">
                    <div class="notification-icon">üëç</div>
                    <div class="notification-content">
                        <div class="notification-text">
                            <strong>Sarah Johnson</strong> liked your post
                        </div>
                        <div class="notification-time">5 minutes ago</div>
                    </div>
                </div>

                <div class="notification-item unread" onclick="goToPost(this)">
                    <div class="notification-icon">üí¨</div>
                    <div class="notification-content">
                        <div class="notification-text">
                            <strong>Mike Chen</strong> commented on your photo
                        </div>
                        <div class="notification-time">1 hour ago</div>
                    </div>
                </div>

                <div class="notification-item" onclick="goToPost(this)">
                    <div class="notification-icon">üë•</div>
                    <div class="notification-content">
                        <div class="notification-text">
                            <strong>Emily Rodriguez</strong> sent you a friend request
                        </div>
                        <div class="notification-time">3 hours ago</div>
                    </div>
                </div>

                <div class="notification-item" onclick="goToPost(this)">
                    <div class="notification-icon">üìÖ</div>
                    <div class="notification-content">
                        <div class="notification-text">
                            <strong>Tech Conference 2025</strong> is starting tomorrow
                        </div>
                        <div class="notification-time">5 hours ago</div>
                    </div>
                </div>

                <div class="notification-item" onclick="goToPost(this)">
                    <div class="notification-icon">üéÆ</div>
                    <div class="notification-content">
                        <div class="notification-text">
                            You leveled up to <strong>Level 42</strong>!
                        </div>
                        <div class="notification-time">Yesterday</div>
                    </div>
                </div>
            </div>

            <!-- SECTION 17: HELP & SUPPORT SCREEN -->
            <div id="help-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">üí° Help & Support</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Popular Topics</div>
                </div>

                <div class="list-item" onclick="openModal('accountSecurity')">
                    <div class="list-item-icon">üîí</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Account Security</div>
                        <div class="list-item-subtitle">Password, 2FA, login issues</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('privacyHelp')">
                    <div class="list-item-icon">üîê</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy Settings</div>
                        <div class="list-item-subtitle">Control who sees your content</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('messagingHelp')">
                    <div class="list-item-icon">üí¨</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Messaging Features</div>
                        <div class="list-item-subtitle">Send messages, photos, videos</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Report a Problem</div>
                </div>

                <div class="list-item" onclick="openModal('reportProblem')">
                    <div class="list-item-icon">‚ö†Ô∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Report an Issue</div>
                        <div class="list-item-subtitle">Technical problems, bugs</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Contact Support</div>
                </div>

                <div class="list-item" onclick="openModal('liveChat')">
                    <div class="list-item-icon">üí¨</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Live Chat Support</div>
                        <div class="list-item-subtitle">Chat with our team</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('emailSupport')">
                    <div class="list-item-icon">üìß</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Email Support</div>
                        <div class="list-item-subtitle">support@connecthub.com</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="window.open('https://help.connecthub.com', '_blank')">
                    <div class="list-item-icon">üåê</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Visit Help Center</div>
                        <div class="list-item-subtitle">Browse all articles</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>

            <!-- MENU SCREEN -->
            <div id="menu-screen" class="screen">
                <div class="section-header">
                    <div class="section-title">Menu</div>
                </div>

                <div class="list-item" onclick="openScreen('profile')">
                    <div class="list-item-icon">üë§</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Profile</div>
                        <div class="list-item-subtitle">View your profile</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('notifications')">
                    <div class="list-item-icon">üîî</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Notifications</div>
                        <div class="list-item-subtitle">5 new notifications</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('video')">
                    <div class="list-item-icon">üìπ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Camera & Video</div>
                        <div class="list-item-subtitle">Create video content</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('gaming')">
                    <div class="list-item-icon">üéÆ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Gaming Hub</div>
                        <div class="list-item-subtitle">Level 42 ‚Ä¢ Play games</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('events')">
                    <div class="list-item-icon">üìÖ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Events</div>
                        <div class="list-item-subtitle">Upcoming & hosting</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('saved')">
                    <div class="list-item-icon">üîñ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Saved</div>
                        <div class="list-item-subtitle">Your saved items</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('settings')">
                    <div class="list-item-icon">‚öôÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Settings</div>
                        <div class="list-item-subtitle">Account & privacy</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('marketplace')">
                    <div class="list-item-icon">üõçÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Marketplace</div>
                        <div class="list-item-subtitle">Buy & sell items</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openScreen('help')">
                    <div class="list-item-icon">üí°</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Help & Support</div>
                        <div class="list-item-subtitle">Get help</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <button class="btn" style="margin-top: 20px; background: var(--error);" onclick="showToast('Logged out')">
                    Logout
                </button>
            </div>

            <!-- MARKETPLACE SCREEN -->
            <div id="marketplace-screen" class="screen">
                <!-- Marketplace Top Actions -->
                <div style="padding: 16px; display: flex; gap: 12px; border-bottom: 1px solid var(--glass-border);">
                    <button class="nav-btn" style="width: auto; padding: 0 16px; border-radius: 12px;" onclick="marketplaceToggleNotifications()">
                        üîî
                        <span class="badge" id="marketplaceNotificationsBadge">3</span>
                    </button>
                    <button class="nav-btn" style="width: auto; padding: 0 16px; border-radius: 12px;" onclick="marketplaceOpenModal('cart')" id="marketplaceCartBtn">
                        üõí
                        <span class="badge" id="marketplaceCartBadge" style="display: none;">0</span>
                    </button>
                    <button class="nav-btn" style="width: auto; padding: 0 16px; border-radius: 12px;" onclick="marketplaceOpenModal('orders')">üì¶</button>
                </div>

                <!-- Marketplace Notifications Panel -->
                <div class="notifications-panel" id="marketplaceNotificationsPanel">
                    <div class="notification-header">
                        <div class="notification-title">Notifications</div>
                        <button class="nav-btn" style="width: 32px; height: 32px; font-size: 14px;" onclick="marketplaceMarkAllRead()">‚úì</button>
                    </div>
                    <div class="notification-list">
                        <div class="notification-item unread" onclick="marketplaceHandleNotification('order')">
                            <div class="notification-icon">üì¶</div>
                            <div class="notification-text">Your order #ORD-2024-001 has been delivered!</div>
                            <div class="notification-time">5 minutes ago</div>
                        </div>
                        <div class="notification-item unread" onclick="marketplaceHandleNotification('message')">
                            <div class="notification-icon">üí¨</div>
                            <div class="notification-text">Sarah Miller sent you a message about MacBook Pro</div>
                            <div class="notification-time">15 minutes ago</div>
                        </div>
                        <div class="notification-item unread" onclick="marketplaceHandleNotification('sale')">
                            <div class="notification-icon">üí∞</div>
                            <div class="notification-text">Your item "Guitar" has been sold for $280!</div>
                            <div class="notification-time">1 hour ago</div>
                        </div>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="search-bar" style="margin: 0 16px 16px;">
                    <span>üîç</span>
                    <input type="text" class="search-input" id="marketplaceSearchInput" placeholder="Search items..." oninput="marketplaceSearchItems(this.value)">
                </div>

                <!-- Tabs -->
                <div style="display: flex; gap: 8px; padding: 0 16px 16px; overflow-x: auto; scrollbar-width: none;">
                    <div class="pill-nav-button active" onclick="marketplaceSwitchTab('browse')">Browse</div>
                    <div class="pill-nav-button" onclick="marketplaceSwitchTab('selling')">My Listings</div>
                    <div class="pill-nav-button" onclick="marketplaceSwitchTab('wishlist')">Wishlist</div>
                    <div class="pill-nav-button" onclick="marketplaceSwitchTab('messages')">Messages</div>
                </div>

                <!-- Browse Tab -->
                <div id="marketplace-browse-tab" class="tab-content active">
                    <div class="section-header">
                        <div class="section-title">Categories</div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding: 0 16px 16px;">
                        <div class="category-card" onclick="marketplaceFilterByCategory('electronics')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üì±</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Electronics</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('clothing')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üëï</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Clothing</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('home')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üè†</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Home</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('books')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üìö</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Books</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('sports')">
                            <div style="font-size: 32px; margin-bottom: 8px;">‚öΩ</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Sports</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('toys')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üß∏</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Toys</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('music')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üéµ</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Music</div>
                        </div>
                        <div class="category-card" onclick="marketplaceFilterByCategory('other')">
                            <div style="font-size: 32px; margin-bottom: 8px;">üì¶</div>
                            <div style="font-size: 12px; font-weight: 600; color: var(--text-secondary);">Other</div>
                        </div>
                    </div>

                    <div class="section-header">
                        <div class="section-title">Featured Listings</div>
                        <div class="section-link" id="marketplaceResultsCount">16 items</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 16px 16px;" id="marketplaceListingsGrid">
                        <!-- Listings will be dynamically inserted here -->
                    </div>
                </div>

                <!-- My Listings Tab -->
                <div id="marketplace-selling-tab" class="tab-content">
                    <div class="stats-grid" style="padding: 16px; margin-bottom: 0;">
                        <div class="stat-card">
                            <div class="stat-value">5</div>
                            <div class="stat-label">Active</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">12</div>
                            <div class="stat-label">Sold</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">$2.4K</div>
                            <div class="stat-label">Earned</div>
                        </div>
                    </div>

                    <div class="section-header">
                        <div class="section-title">My Active Listings</div>
                        <div class="section-link" onclick="marketplaceOpenModal('createListing')">+ New</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 16px 16px;" id="marketplaceMyListingsGrid"></div>
                </div>

                <!-- Wishlist Tab -->
                <div id="marketplace-wishlist-tab" class="tab-content">
                    <div class="section-header">
                        <div class="section-title">Saved Items</div>
                        <div class="section-link" id="marketplaceWishlistCount">0 items</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 16px 16px;" id="marketplaceWishlistGrid"></div>

                    <div id="marketplaceEmptyWishlist" class="empty-state" style="display: none;">
                        <div class="empty-icon">üîñ</div>
                        <div class="empty-title">No Saved Items</div>
                        <div class="empty-text">Items you save will appear here</div>
                    </div>
                </div>

                <!-- Messages Tab -->
                <div id="marketplace-messages-tab" class="tab-content">
                    <div class="message-list-item" onclick="marketplaceOpenChat('Sarah Miller', 'SM')">
                        <div class="message-avatar" style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; font-weight: 600;">SM</div>
                        <div class="message-content">
                            <div class="message-name">Sarah Miller</div>
                            <div class="message-preview">Hi! Is the MacBook still available?</div>
                        </div>
                        <div class="message-time">2m</div>
                    </div>

                    <div class="message-list-item" onclick="marketplaceOpenChat('Mike Johnson', 'MJ')">
                        <div class="message-avatar" style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; font-weight: 600;">MJ</div>
                        <div class="message-content">
                            <div class="message-name">Mike Johnson</div>
                            <div class="message-preview">Great condition! When can I pick it up?</div>
                        </div>
                        <div class="message-time">1h</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-items">
                <div class="nav-item active" onclick="switchBottomTab('social')">
                    <div class="nav-item-icon">üè†</div>
                    <div class="nav-item-label">Social</div>
                </div>
                <div class="nav-item" onclick="switchBottomTab('dating')">
                    <div class="nav-item-icon">üíï</div>
                    <div class="nav-item-label">Dating</div>
                </div>
                <div class="nav-item" onclick="switchBottomTab('messages')">
                    <div class="nav-item-icon">üí¨</div>
                    <div class="nav-item-label">Messages</div>
                    <span class="badge">3</span>
                </div>
                <div class="nav-item" onclick="switchBottomTab('media')">
                    <div class="nav-item-icon">üé•</div>
                    <div class="nav-item-label">Media</div>
                </div>
                <div class="nav-item" onclick="switchBottomTab('friends')">
                    <div class="nav-item-icon">üë•</div>
                    <div class="nav-item-label">Friends</div>
                </div>
            </div>
        </div>

        <!-- Toast -->
        <div id="toast" class="toast"></div>

        <!-- MODALS START HERE -->

        <!-- Search Modal -->
        <div id="searchModalModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('searchModal')">‚úï</div>
                <div class="modal-title">Search</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" id="mainSearchInput" placeholder="Search ConnectHub..." oninput="handleSearch(this.value)" />
                    <span onclick="clearSearch()" style="cursor: pointer;">‚úï</span>
                </div>

                <div id="searchDefault">
                    <div class="section-header">
                        <div class="section-title">Recent Searches</div>
                        <div class="section-link" onclick="clearRecentSearches()">Clear</div>
                    </div>

                    <div class="list-item">
                        <div class="list-item-icon">üîç</div>
                        <div class="list-item-content">
                            <div class="list-item-title">AI Technology</div>
                        </div>
                        <div style="cursor: pointer;" onclick="removeSearch(this)">‚úï</div>
                    </div>

                    <div class="list-item">
                        <div class="list-item-icon">üîç</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Tech Conference</div>
                        </div>
                        <div style="cursor: pointer;" onclick="removeSearch(this)">‚úï</div>
                    </div>

                    <div class="section-header">
                        <div class="section-title">Trending Searches</div>
                    </div>

                    <div class="list-item">
                        <div class="list-item-icon">üî•</div>
                        <div class="list-item-content">
                            <div class="list-item-title">#NewFeatures</div>
                            <div class="list-item-subtitle">45.2K posts</div>
                        </div>
                    </div>

                    <div class="list-item">
                        <div class="list-item-icon">üî•</div>
                        <div class="list-item-content">
                            <div class="list-item-title">#TechNews</div>
                            <div class="list-item-subtitle">32.1K posts</div>
                        </div>
                    </div>

                    <div class="section-header">
                        <div class="section-title">Quick Links</div>
                    </div>

                    <div class="list-item" onclick="closeModal('searchModal'); openScreen('friends')">
                        <div class="list-item-icon">üë•</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Find Friends</div>
                        </div>
                        <div class="list-item-arrow">‚Üí</div>
                    </div>

                    <div class="list-item" onclick="closeModal('searchModal'); switchMainTab('groups')">
                        <div class="list-item-icon">üë•</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Discover Groups</div>
                        </div>
                        <div class="list-item-arrow">‚Üí</div>
                    </div>

                    <div class="list-item" onclick="closeModal('searchModal'); openScreen('events')">
                        <div class="list-item-icon">üìÖ</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Browse Events</div>
                        </div>
                        <div class="list-item-arrow">‚Üí</div>
                    </div>
                </div>

                <div id="searchResults" style="display: none;">
                    <div class="section-header">
                        <div class="section-title">Search Results</div>
                    </div>

                    <div class="list-item">
                        <div class="post-avatar">üë§</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Sarah Johnson</div>
                            <div class="list-item-subtitle">234 mutual friends</div>
                        </div>
                    </div>

                    <div class="list-item">
                        <div class="group-icon" style="width: 40px; height: 40px; font-size: 20px;">üíª</div>
                        <div class="list-item-content">
                            <div class="list-item-title">Tech Enthusiasts</div>
                            <div class="list-item-subtitle">2,456 members</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Create New Modal -->
        <div id="createNewModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createNew')">‚úï</div>
                <div class="modal-title">Create New</div>
            </div>
            <div class="modal-content">
                <div class="list-item" onclick="openModal('createPost')">
                    <div class="list-item-icon">üìù</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Post</div>
                        <div class="list-item-subtitle">Share your thoughts</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('createStory')">
                    <div class="list-item-icon">‚≠ê</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Story</div>
                        <div class="list-item-subtitle">Share a moment</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('goLive')">
                    <div class="list-item-icon">üî¥</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Live Video</div>
                        <div class="list-item-subtitle">Broadcast to friends</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('uploadMedia')">
                    <div class="list-item-icon">üì∑</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Photo/Video</div>
                        <div class="list-item-subtitle">Upload from gallery</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('createEvent')">
                    <div class="list-item-icon">üìÖ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Event</div>
                        <div class="list-item-subtitle">Plan a gathering</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('createGroup')">
                    <div class="list-item-icon">üë•</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Group</div>
                        <div class="list-item-subtitle">Start a community</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('createPoll')">
                    <div class="list-item-icon">üìä</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Poll</div>
                        <div class="list-item-subtitle">Ask a question</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>

                <div class="list-item" onclick="openModal('createFundraiser')">
                    <div class="list-item-icon">üí∞</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Fundraiser</div>
                        <div class="list-item-subtitle">Raise money for a cause</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <!-- Create Post Modal -->
        <div id="createPostModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createPost')">‚úï</div>
                <div class="modal-title">Create Post</div>
                <button class="btn" style="width: auto; padding: 8px 20px;" onclick="publishPost()">Post</button>
            </div>
            <div class="modal-content">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                    <div class="post-avatar">üë§</div>
                    <div>
                        <div class="post-author">John Doe</div>
                        <div class="post-meta">üåç Public</div>
                    </div>
                </div>
                <textarea class="input-field textarea-field" placeholder="What's on your mind?"></textarea>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                    <div class="create-action" onclick="showToast('Photo added')">
                        üì∑ Photo
                    </div>
                    <div class="create-action" onclick="showToast('Video added')">
                        üé• Video
                    </div>
                    <div class="create-action" onclick="showToast('Location added')">
                        üìç Location
                    </div>
                    <div class="create-action" onclick="showToast('Tag friends')">
                        üë• Tag People
                    </div>
                </div>
            </div>
        </div>

        <!-- Comments Modal -->
        <div id="commentsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('comments')">‚úï</div>
                <div class="modal-title">Comments</div>
            </div>
            <div class="modal-content">
                <div style="margin-bottom: 16px;">
                    <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                        <div class="post-avatar" style="width: 32px; height: 32px; font-size: 14px;">üòä</div>
                        <div style="flex: 1;">
                            <div style="background: var(--glass); border-radius: 16px; padding: 10px 14px; margin-bottom: 6px;">
                                <div style="font-size: 13px; font-weight: 600; margin-bottom: 4px;">Mike Chen</div>
                                <div style="font-size: 14px;">This is amazing! üéâ</div>
                            </div>
                            <div style="padding: 0 14px; font-size: 12px; color: var(--text-muted); display: flex; gap: 12px;">
                                <span onclick="showToast('Liked')" style="cursor: pointer;">Like</span>
                                <span onclick="showToast('Reply added')" style="cursor: pointer;">Reply</span>
                                <span>2h</span>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                        <div class="post-avatar" style="width: 32px; height: 32px; font-size: 14px;">üé®</div>
                        <div style="flex: 1;">
                            <div style="background: var(--glass); border-radius: 16px; padding: 10px 14px; margin-bottom: 6px;">
                                <div style="font-size: 13px; font-weight: 600; margin-bottom: 4px;">Emily</div>
                                <div style="font-size: 14px;">Love it! Keep it up!</div>
                            </div>
                            <div style="padding: 0 14px; font-size: 12px; color: var(--text-muted); display: flex; gap: 12px;">
                                <span onclick="showToast('Liked')" style="cursor: pointer;">Like</span>
                                <span onclick="showToast('Reply added')" style="cursor: pointer;">Reply</span>
                                <span>5h</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="position: sticky; bottom: 0; background: var(--bg-primary); padding: 16px 0; display: flex; gap: 10px;">
                    <input type="text" class="input-field" style="margin-bottom: 0;" placeholder="Write a comment..." />
                    <button class="chat-send-btn" onclick="showToast('Comment posted')">‚û§</button>
                </div>
            </div>
        </div>

        <!-- Chat Window Modal -->
        <div id="chatWindowModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('chatWindow')">‚Üê</div>
                <div class="post-avatar" style="width: 32px; height: 32px; font-size: 14px; margin-right: 8px;">üë§</div>
                <div class="modal-title">Sarah Johnson</div>
            </div>
            <div class="modal-content">
                <div class="chat-messages" style="height: calc(100vh - 250px);">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 12px; color: var(--text-muted);">Today</div>
                    </div>
                    <div class="chat-bubble received">
                        Hey! How are you doing?
                    </div>
                    <div class="chat-bubble sent">
                        Hi Sarah! I'm doing great, thanks! üòä
                    </div>
                    <div class="chat-bubble received">
                        That's awesome! Want to grab coffee later?
                    </div>
                    <div class="chat-bubble sent">
                        Sure! That sounds great üëç
                    </div>
                </div>
                <div style="position: sticky; bottom: 0; background: var(--bg-primary); padding: 16px 0; display: flex; gap: 10px;">
                    <input type="text" class="input-field" style="margin-bottom: 0;" placeholder="Type a message..." />
                    <button class="chat-send-btn" onclick="showToast('Message sent')">‚û§</button>
                </div>
            </div>
        </div>

        <!-- New Message Modal -->
        <div id="newMessageModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('newMessage')">‚úï</div>
                <div class="modal-title">New Message</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search people..." />
                </div>
                <div class="friend-card" onclick="closeModal('newMessage'); openModal('chatWindow');">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah Johnson</div>
                        <div class="friend-mutual">Online</div>
                    </div>
                </div>
                <div class="friend-card" onclick="closeModal('newMessage'); openModal('chatWindow');">
                    <div class="friend-avatar">üòä</div>
                    <div class="friend-info">
                        <div class="friend-name">Mike Chen</div>
                        <div class="friend-mutual">Active 2h ago</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Story Modal -->
        <div id="createStoryModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createStory')">‚úï</div>
                <div class="modal-title">Create Story</div>
            </div>
            <div class="modal-content">
                <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); height: 400px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 64px; margin-bottom: 20px;">
                    üì∑
                </div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                    <button class="btn" onclick="showToast('Camera opened')">
                        üì∑ Camera
                    </button>
                    <button class="btn" onclick="showToast('Gallery opened')">
                        üñºÔ∏è Gallery
                    </button>
                </div>
            </div>
        </div>

        <!-- View Story Modal -->
        <div id="viewStoryModal" class="modal">
            <div style="background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary)); height: 100vh; display: flex; align-items: center; justify-content: center; font-size: 100px; position: relative;" onclick="closeModal('viewStory')">
                ‚ú®
                <div style="position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 12px;">
                    <div class="post-avatar" style="width: 32px; height: 32px; font-size: 14px;">üë§</div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600;">Sarah</div>
                        <div style="font-size: 12px; color: var(--text-muted);">2 hours ago</div>
                    </div>
                </div>
                <div style="position: absolute; top: 20px; right: 20px; cursor: pointer;" onclick="event.stopPropagation(); closeModal('viewStory')">
                    ‚úï
                </div>
            </div>
        </div>

        <!-- Go Live Modal -->
        <div id="goLiveModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('goLive')">‚úï</div>
                <div class="modal-title">Go Live</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Add a title..." />
                <textarea class="input-field textarea-field" placeholder="Add a description..."></textarea>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy</div>
                        <div class="list-item-subtitle">Public</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <button class="btn" onclick="closeModal('goLive'); showToast('Going live...')">
                    üî¥ Start Live
                </button>
            </div>
        </div>

        <!-- View Live Modal -->
        <div id="viewLiveModal" class="modal">
            <div style="background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary)); height: 100vh; display: flex; align-items: center; justify-content: center; font-size: 100px; position: relative;">
                üéÆ
                <div style="position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 12px;">
                    <div class="post-avatar" style="width: 32px; height: 32px; font-size: 14px;">üë§</div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600;">Sarah's Gaming Stream</div>
                        <div style="font-size: 12px;">
                            <span class="live-badge">
                                <span class="live-dot"></span> LIVE
                            </span>
                            <span style="margin-left: 8px;">1.2K watching</span>
                        </div>
                    </div>
                </div>
                <div style="position: absolute; top: 20px; right: 20px; cursor: pointer;" onclick="closeModal('viewLive')">
                    ‚úï
                </div>
                <div style="position: absolute; bottom: 20px; left: 20px; right: 20px;">
                    <div style="display: flex; gap: 10px;">
                        <input type="text" class="input-field" style="margin-bottom: 0; flex: 1;" placeholder="Say something..." />
                        <button class="chat-send-btn" onclick="showToast('Comment sent')">‚û§</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Helper Modals -->
        <div id="addPhotoModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('addPhoto')">‚úï</div>
                <div class="modal-title">Add Photo</div>
            </div>
            <div class="modal-content">
                <div style="background: var(--glass); border: 2px dashed var(--glass-border); border-radius: 16px; padding: 60px 20px; text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 64px; margin-bottom: 16px;">üì∑</div>
                    <div style="font-size: 16px; color: var(--text-secondary);">Tap to add photos</div>
                </div>
                <button class="btn" onclick="closeModal('addPhoto'); showToast('Photo added')">
                    Select Photos
                </button>
            </div>
        </div>

        <div id="addVideoModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('addVideo')">‚úï</div>
                <div class="modal-title">Add Video</div>
            </div>
            <div class="modal-content">
                <div style="background: var(--glass); border: 2px dashed var(--glass-border); border-radius: 16px; padding: 60px 20px; text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 64px; margin-bottom: 16px;">üé•</div>
                    <div style="font-size: 16px; color: var(--text-secondary);">Tap to add video</div>
                </div>
                <button class="btn" onclick="closeModal('addVideo'); showToast('Video added')">
                    Select Video
                </button>
            </div>
        </div>

        <div id="addFeelingModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('addFeeling')">‚úï</div>
                <div class="modal-title">How are you feeling?</div>
            </div>
            <div class="modal-content">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('üòä Happy')">
                        <div style="font-size: 40px;">üòä</div>
                        <div>Happy</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('üòç Loved')">
                        <div style="font-size: 40px;">üòç</div>
                        <div>Loved</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('üéâ Excited')">
                        <div style="font-size: 40px;">üéâ</div>
                        <div>Excited</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('üò¥ Tired')">
                        <div style="font-size: 40px;">üò¥</div>
                        <div>Tired</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('ü§î Thoughtful')">
                        <div style="font-size: 40px;">ü§î</div>
                        <div>Thoughtful</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center;" onclick="selectFeeling('üí™ Motivated')">
                        <div style="font-size: 40px;">üí™</div>
                        <div>Motivated</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- More modals for all other functionality -->
        <div id="postOptionsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('postOptions')">‚úï</div>
                <div class="modal-title">Post Options</div>
            </div>
            <div class="modal-content">
                <div class="list-item" onclick="closeModal('postOptions'); showToast('Saved to collection')">
                    <div class="list-item-icon">üîñ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Save Post</div>
                    </div>
                </div>
                <div class="list-item" onclick="closeModal('postOptions'); showToast('Copied link')">
                    <div class="list-item-icon">üîó</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Copy Link</div>
                    </div>
                </div>
                <div class="list-item" onclick="closeModal('postOptions'); showToast('Post hidden')">
                    <div class="list-item-icon">üëÅÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Hide Post</div>
                    </div>
                </div>
                <div class="list-item" onclick="closeModal('postOptions'); showToast('Reported')">
                    <div class="list-item-icon">‚ö†Ô∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Report Post</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="liveSettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('liveSettings')">‚úï</div>
                <div class="modal-title">Live Settings</div>
            </div>
            <div class="modal-content">
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Save Lives Automatically</div>
                        <div class="list-item-subtitle">Saved to your profile</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Allow Comments</div>
                        <div class="list-item-subtitle">Viewers can comment</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Stream Quality</div>
                        <div class="list-item-subtitle">HD</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="savedLivesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('savedLives')">‚úï</div>
                <div class="modal-title">Saved Lives</div>
            </div>
            <div class="modal-content">
                <div class="card">
                    <div class="post-image">üéÆ</div>
                    <div class="post-content">Epic Gaming Session</div>
                    <div class="post-meta">Saved 2 days ago ‚Ä¢ 45 min</div>
                </div>
                <div class="card">
                    <div class="post-image">üé®</div>
                    <div class="post-content">Creative Design Stream</div>
                    <div class="post-meta">Saved 1 week ago ‚Ä¢ 1h 20min</div>
                </div>
            </div>
        </div>

        <div id="startLiveModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('startLive')">‚úï</div>
                <div class="modal-title">Start Live</div>
            </div>
            <div class="modal-content">
                <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); height: 300px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 64px; margin-bottom: 20px;">
                    üë§
                </div>
                <input type="text" class="input-field" placeholder="Add a title..." />
                <button class="btn" onclick="closeModal('startLive'); showToast('Going live...')">
                    üî¥ Go Live Now
                </button>
            </div>
        </div>

        <!-- Additional Modals Continue -->
        <div id="createGroupModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createGroup')">‚úï</div>
                <div class="modal-title">Create Group</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Group name..." />
                <textarea class="input-field textarea-field" placeholder="Group description..."></textarea>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy</div>
                        <div class="list-item-subtitle">Public</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <button class="btn" onclick="closeModal('createGroup'); showToast('Group created')">
                    Create Group
                </button>
            </div>
        </div>

        <div id="groupDetailsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('groupDetails')">‚úï</div>
                <div class="modal-title">Group Details</div>
            </div>
            <div class="modal-content">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div class="group-icon" style="width: 100px; height: 100px; font-size: 48px; margin: 0 auto 16px;">üíª</div>
                    <div class="section-title">Tech Enthusiasts</div>
                    <div class="post-meta">2,456 members</div>
                </div>
                <div class="post-content" style="margin-bottom: 20px;">
                    A community for technology lovers to share ideas, news, and discuss the latest in tech.
                </div>
                <button class="btn" onclick="showToast('Joined group')">
                    Join Group
                </button>
                <div class="section-header">
                    <div class="section-title">Recent Posts</div>
                </div>
                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">üë§</div>
                        <div class="post-header-info">
                            <div class="post-author">Sarah Johnson</div>
                            <div class="post-meta">2 hours ago</div>
                        </div>
                    </div>
                    <div class="post-content">Check out this new AI tool!</div>
                </div>
            </div>
        </div>

        <div id="createEventModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createEvent')">‚úï</div>
                <div class="modal-title">Create Event</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Event name..." />
                <input type="text" class="input-field" placeholder="Location..." />
                <input type="date" class="input-field" />
                <input type="time" class="input-field" />
                <textarea class="input-field textarea-field" placeholder="Event description..."></textarea>
                <button class="btn" onclick="closeModal('createEvent'); showToast('Event created')">
                    Create Event
                </button>
            </div>
        </div>

        <div id="viewEventModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('viewEvent')">‚úï</div>
                <div class="modal-title">Event Details</div>
            </div>
            <div class="modal-content">
                <div class="post-image">üìÖ</div>
                <div class="section-title" style="margin: 16px 0 8px;">Tech Conference 2025</div>
                <div class="post-meta" style="margin-bottom: 16px;">üìç Convention Center ‚Ä¢ November 15 ‚Ä¢ 9:00 AM</div>
                <div class="post-content">Join us for the biggest tech conference of the year!</div>
                <div style="display: flex; gap: 12px; margin: 20px 0;">
                    <button class="btn" style="flex: 1;" onclick="showToast('Marked as interested')">
                        ‚≠ê Interested
                    </button>
                    <button class="btn" style="flex: 1;" onclick="shareEvent()">
                        üîÑ Share
                    </button>
                </div>
            </div>
        </div>

        <div id="editProfileModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('editProfile')">‚úï</div>
                <div class="modal-title">Edit Profile</div>
                <button class="btn" style="width: auto; padding: 8px 20px;" onclick="saveProfile()">Save</button>
            </div>
            <div class="modal-content">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div class="profile-avatar-large">üë§</div>
                    <button class="btn" style="margin-top: 12px;" onclick="showToast('Photo updated')">
                        Change Photo
                    </button>
                </div>
                <input type="text" class="input-field" placeholder="Name" value="John Doe" />
                <textarea class="input-field textarea-field" placeholder="Bio">Tech enthusiast | Traveler | Coffee lover ‚òï</textarea>
                <input type="text" class="input-field" placeholder="Location" value="San Francisco, CA" />
                <input type="text" class="input-field" placeholder="Website" value="johndoe.com" />
            </div>
        </div>

        <div id="createCollectionModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createCollection')">‚úï</div>
                <div class="modal-title">Create Collection</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Collection name..." />
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy</div>
                        <div class="list-item-subtitle">Only me</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <button class="btn" onclick="closeModal('createCollection'); showToast('Collection created')">
                    Create Collection
                </button>
            </div>
        </div>

        <div id="viewCollectionModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('viewCollection')">‚úï</div>
                <div class="modal-title">Travel Inspiration</div>
            </div>
            <div class="modal-content">
                <div class="post-meta" style="margin-bottom: 20px;">24 saved items</div>
                <div class="post-card">
                    <div class="post-image">üèñÔ∏è</div>
                    <div class="post-content">Beautiful beach destinations</div>
                </div>
                <div class="post-card">
                    <div class="post-image">üèîÔ∏è</div>
                    <div class="post-content">Mountain adventures</div>
                </div>
            </div>
        </div>

        <div id="cameraSettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('cameraSettings')">‚úï</div>
                <div class="modal-title">Camera Settings</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Video Quality</div>
                        <div class="list-item-subtitle">1080p HD</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Grid Lines</div>
                        <div class="list-item-subtitle">Show composition grid</div>
                    </div>
                    <div class="toggle-switch" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Timer</div>
                        <div class="list-item-subtitle">3 second countdown</div>
                    </div>
                    <div class="toggle-switch" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="arFeaturesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('arFeatures')">‚úï</div>
                <div class="modal-title">AR Effects</div>
            </div>
            <div class="modal-content">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('üòé')">
                        <div style="font-size: 40px;">üòé</div>
                        <div style="font-size: 12px; margin-top: 8px;">Cool</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('üëë')">
                        <div style="font-size: 40px;">üëë</div>
                        <div style="font-size: 12px; margin-top: 8px;">Crown</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('‚ú®')">
                        <div style="font-size: 40px;">‚ú®</div>
                        <div style="font-size: 12px; margin-top: 8px;">Sparkle</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('üåà')">
                        <div style="font-size: 40px;">üåà</div>
                        <div style="font-size: 12px; margin-top: 8px;">Rainbow</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('üé®')">
                        <div style="font-size: 40px;">üé®</div>
                        <div style="font-size: 12px; margin-top: 8px;">Artist</div>
                    </div>
                    <div class="list-item" style="flex-direction: column; text-align: center; padding: 20px;" onclick="selectAR('üöÄ')">
                        <div style="font-size: 40px;">üöÄ</div>
                        <div style="font-size: 12px; margin-top: 8px;">Space</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Sub-Modals -->
        <div id="editPersonalInfoModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('editPersonalInfo')">‚úï</div>
                <div class="modal-title">Edit Personal Info</div>
                <button class="btn" style="width: auto; padding: 8px 20px;" onclick="closeModal('editPersonalInfo'); showToast('Info updated')">Save</button>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="First Name" value="John" />
                <input type="text" class="input-field" placeholder="Last Name" value="Doe" />
                <input type="email" class="input-field" placeholder="Email" value="john@example.com" />
                <input type="tel" class="input-field" placeholder="Phone" value="+1 (555) 123-4567" />
                <input type="date" class="input-field" placeholder="Birthday" />
            </div>
        </div>

        <div id="changePasswordModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('changePassword')">‚úï</div>
                <div class="modal-title">Change Password</div>
            </div>
            <div class="modal-content">
                <input type="password" class="input-field" placeholder="Current Password" />
                <input type="password" class="input-field" placeholder="New Password" />
                <input type="password" class="input-field" placeholder="Confirm New Password" />
                <button class="btn" onclick="closeModal('changePassword'); showToast('Password updated')">
                    Update Password
                </button>
            </div>
        </div>

        <div id="accountPreferencesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('accountPreferences')">‚úï</div>
                <div class="modal-title">Account Preferences</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Language</div>
                        <div class="list-item-subtitle">English</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Timezone</div>
                        <div class="list-item-subtitle">Pacific Time (PT)</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Date Format</div>
                        <div class="list-item-subtitle">MM/DD/YYYY</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="privacySettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('privacySettings')">‚úï</div>
                <div class="modal-title">Privacy Settings</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Who can see my posts</div>
                        <div class="list-item-subtitle">Friends</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Who can message me</div>
                        <div class="list-item-subtitle">Everyone</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Profile visibility</div>
                        <div class="list-item-subtitle">Public</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Show online status</div>
                        <div class="list-item-subtitle">Let friends see when you're active</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="blockingSettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('blockingSettings')">‚úï</div>
                <div class="modal-title">Blocking Settings</div>
            </div>
            <div class="modal-content">
                <div class="post-meta" style="margin-bottom: 20px;">
                    Blocked accounts can't see your profile or contact you
                </div>
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search blocked accounts..." />
                </div>
                <div class="list-item">
                    <div class="post-avatar">üö´</div>
                    <div class="list-item-content">
                        <div class="list-item-title">No blocked accounts</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="dataSettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('dataSettings')">‚úï</div>
                <div class="modal-title">Data Settings</div>
            </div>
            <div class="modal-content">
                <div class="list-item" onclick="showToast('Download started')">
                    <div class="list-item-icon">üíæ</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Download Your Data</div>
                        <div class="list-item-subtitle">Get a copy of your data</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item" onclick="showToast('Account deactivated')">
                    <div class="list-item-icon">‚è∏Ô∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Deactivate Account</div>
                        <div class="list-item-subtitle">Temporarily disable your account</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item" onclick="showToast('Deletion requested')">
                    <div class="list-item-icon">üóëÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Delete Account</div>
                        <div class="list-item-subtitle">Permanently delete your account</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="emailPreferencesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('emailPreferences')">‚úï</div>
                <div class="modal-title">Email Preferences</div>
            </div>
            <div class="modal-content">
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Friend Requests</div>
                        <div class="list-item-subtitle">Get notified of new requests</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Comments & Likes</div>
                        <div class="list-item-subtitle">Activity on your posts</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Messages</div>
                        <div class="list-item-subtitle">New message notifications</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Weekly Summary</div>
                        <div class="list-item-subtitle">Get a weekly recap</div>
                    </div>
                    <div class="toggle-switch" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="aboutConnectHubModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('aboutConnectHub')">‚úï</div>
                <div class="modal-title">About ConnectHub</div>
            </div>
            <div class="modal-content">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 64px; margin-bottom: 16px;">üåê</div>
                    <div class="section-title" style="margin-bottom: 8px;">ConnectHub</div>
                    <div class="post-meta">Version 2.5.1</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">What's New</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Privacy Policy</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Open Source Licenses</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="post-meta" style="text-align: center; margin-top: 20px;">
                    ¬© 2025 ConnectHub. All rights reserved.
                </div>
            </div>
        </div>

        <div id="termsOfServiceModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('termsOfService')">‚úï</div>
                <div class="modal-title">Terms of Service</div>
            </div>
            <div class="modal-content">
                <div class="section-title" style="margin-bottom: 16px;">ConnectHub Terms of Service</div>
                <div class="post-content" style="margin-bottom: 20px;">
                    <strong>Last Updated:</strong> October 23, 2025
                </div>
                <div class="post-content" style="margin-bottom: 16px;">
                    Welcome to ConnectHub! By using our service, you agree to these terms.
                </div>
                <div class="section-title" style="font-size: 16px; margin: 20px 0 12px;">1. User Accounts</div>
                <div class="post-content" style="margin-bottom: 16px;">
                    You are responsible for maintaining the security of your account and password.
                </div>
                <div class="section-title" style="font-size: 16px; margin: 20px 0 12px;">2. Content</div>
                <div class="post-content" style="margin-bottom: 16px;">
                    You retain all rights to the content you post on ConnectHub.
                </div>
                <div class="section-title" style="font-size: 16px; margin: 20px 0 12px;">3. Acceptable Use</div>
                <div class="post-content" style="margin-bottom: 16px;">
                    You agree not to use ConnectHub for any unlawful purpose or in any way that could harm the service.
                </div>
            </div>
        </div>

        <!-- Help & Support Modals -->
        <div id="accountSecurityModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('accountSecurity')">‚úï</div>
                <div class="modal-title">Account Security</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-icon">üîí</div>
                    <div class="list-item-content">
                        <div class="list-item-title">How to reset your password</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üõ°Ô∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Enable two-factor authentication</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üì±</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Manage login devices</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="privacyHelpModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('privacyHelp')">‚úï</div>
                <div class="modal-title">Privacy Settings Help</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-icon">üëÅÔ∏è</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Who can see your posts</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üîê</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Profile privacy settings</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üìä</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Data & Privacy</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="messagingHelpModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('messagingHelp')">‚úï</div>
                <div class="modal-title">Messaging Features</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-icon">üí¨</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Send text messages</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üì∑</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Send photos and videos</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-icon">üé§</div>
                    <div class="list-item-content">
                        <div class="list-item-title">Send voice messages</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
            </div>
        </div>

        <div id="reportProblemModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('reportProblem')">‚úï</div>
                <div class="modal-title">Report a Problem</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Problem Type</div>
                        <div class="list-item-subtitle">Select a category</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <textarea class="input-field textarea-field" placeholder="Describe the problem in detail..."></textarea>
                <button class="btn" onclick="closeModal('reportProblem'); showToast('Report submitted')">
                    Submit Report
                </button>
            </div>
        </div>

        <div id="liveChatModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('liveChat')">‚úï</div>
                <div class="modal-title">Live Chat Support</div>
            </div>
            <div class="modal-content">
                <div class="chat-messages" style="height: calc(100vh - 250px);">
                    <div class="chat-bubble received">
                        Hi! I'm here to help. What can I assist you with today?
                    </div>
                </div>
                <div style="position: sticky; bottom: 0; background: var(--bg-primary); padding: 16px 0; display: flex; gap: 10px;">
                    <input type="text" class="input-field" style="margin-bottom: 0;" placeholder="Type your message..." />
                    <button class="chat-send-btn" onclick="showToast('Message sent to support')">‚û§</button>
                </div>
            </div>
        </div>

        <div id="emailSupportModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('emailSupport')">‚úï</div>
                <div class="modal-title">Email Support</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Subject" />
                <textarea class="input-field textarea-field" placeholder="Your message..."></textarea>
                <div class="post-meta" style="margin-bottom: 20px;">
                    We'll respond to your email within 24 hours
                </div>
                <button class="btn" onclick="closeModal('emailSupport'); showToast('Email sent to support')">
                    Send Email
                </button>
            </div>
        </div>

        <!-- Additional Dating Modals -->
        <div id="recentMatchesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('recentMatches')">‚úï</div>
                <div class="modal-title">Recent Matches</div>
            </div>
            <div class="modal-content">
                <div class="friend-card" onclick="closeModal('recentMatches'); openModal('chatWindow')">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah, 28</div>
                        <div class="friend-mutual">Matched 2 hours ago</div>
                    </div>
                    <button class="friend-btn primary">Message</button>
                </div>
                <div class="friend-card" onclick="closeModal('recentMatches'); openModal('chatWindow')">
                    <div class="friend-avatar">üòä</div>
                    <div class="friend-info">
                        <div class="friend-name">Emily, 26</div>
                        <div class="friend-mutual">Matched yesterday</div>
                    </div>
                    <button class="friend-btn primary">Message</button>
                </div>
            </div>
        </div>

        <div id="profileViewsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('profileViews')">‚úï</div>
                <div class="modal-title">Profile Views</div>
            </div>
            <div class="modal-content">
                <div class="friend-card">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Jessica, 27</div>
                        <div class="friend-mutual">Viewed your profile 1h ago</div>
                    </div>
                </div>
                <div class="friend-card">
                    <div class="friend-avatar">üé®</div>
                    <div class="friend-info">
                        <div class="friend-name">Amanda, 25</div>
                        <div class="friend-mutual">Viewed your profile 3h ago</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="superLikesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('superLikes')">‚úï</div>
                <div class="modal-title">Super Likes</div>
            </div>
            <div class="modal-content">
                <div class="post-content" style="text-align: center; margin: 30px 0;">
                    You have <strong>3 Super Likes</strong> remaining today
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 64px; margin-bottom: 16px;">‚≠ê</div>
                    <div class="post-content">
                        Stand out from the crowd and let someone know you're really interested!
                    </div>
                </div>
            </div>
        </div>

        <div id="todayActivityModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('todayActivity')">‚úï</div>
                <div class="modal-title">Today's Activity</div>
            </div>
            <div class="modal-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">15</div>
                        <div class="stat-label">Profiles Viewed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">8</div>
                        <div class="stat-label">Likes Sent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Profile Views</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">3</div>
                        <div class="stat-label">New Matches</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="datingSettingsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('datingSettings')">‚úï</div>
                <div class="modal-title">Dating Settings</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Distance</div>
                        <div class="list-item-subtitle">50 miles</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Age Range</div>
                        <div class="list-item-subtitle">22 - 35</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <div class="toggle-container">
                    <div>
                        <div class="list-item-title">Show me on Dating</div>
                        <div class="list-item-subtitle">Make profile visible</div>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSwitch(this)">
                        <div class="toggle-slider"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gaming Modals -->
        <div id="allGamesModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('allGames')">‚úï</div>
                <div class="modal-title">All Games</div>
            </div>
            <div class="modal-content">
                <div class="game-card" onclick="playGame('puzzle')">
                    <div class="game-icon">üß©</div>
                    <div class="game-info">
                        <div class="game-title">Puzzle Master</div>
                        <div class="game-stats">Easy ‚Ä¢ Puzzle</div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('racing')">
                    <div class="game-icon">üèéÔ∏è</div>
                    <div class="game-info">
                        <div class="game-title">Speed Racer</div>
                        <div class="game-stats">Medium ‚Ä¢ Racing</div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('cards')">
                    <div class="game-icon">üÉè</div>
                    <div class="game-info">
                        <div class="game-title">Card Champion</div>
                        <div class="game-stats">Easy ‚Ä¢ Cards</div>
                    </div>
                </div>
                <div class="game-card" onclick="playGame('trivia')">
                    <div class="game-icon">üß†</div>
                    <div class="game-info">
                        <div class="game-title">Trivia Master</div>
                        <div class="game-stats">Medium ‚Ä¢ Trivia</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="fullLeaderboardModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('fullLeaderboard')">‚úï</div>
                <div class="modal-title">Leaderboard</div>
            </div>
            <div class="modal-content">
                <div class="list-item">
                    <div style="font-size: 24px; font-weight: 700; color: #ffd700;">ü•á</div>
                    <div class="list-item-content">
                        <div class="list-item-title">ProGamer123</div>
                        <div class="list-item-subtitle">5,890 points</div>
                    </div>
                </div>
                <div class="list-item">
                    <div style="font-size: 24px; font-weight: 700; color: #c0c0c0;">ü•à</div>
                    <div class="list-item-content">
                        <div class="list-item-title">GameMaster</div>
                        <div class="list-item-subtitle">5,234 points</div>
                    </div>
                </div>
                <div class="list-item">
                    <div style="font-size: 24px; font-weight: 700; color: #cd7f32;">ü•â</div>
                    <div class="list-item-content">
                        <div class="list-item-title">SkillzPro</div>
                        <div class="list-item-subtitle">4,987 points</div>
                    </div>
                </div>
                <div class="list-item">
                    <div style="font-size: 16px; font-weight: 600;">4</div>
                    <div class="list-item-content">
                        <div class="list-item-title">ElitePlayer</div>
                        <div class="list-item-subtitle">4,756 points</div>
                    </div>
                </div>
                <div class="list-item">
                    <div style="font-size: 16px; font-weight: 600;">5</div>
                    <div class="list-item-content">
                        <div class="list-item-title">ChampionX</div>
                        <div class="list-item-subtitle">4,523 points</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="gamingNotificationsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('gamingNotifications')">‚úï</div>
                <div class="modal-title">Gaming Notifications</div>
            </div>
            <div class="modal-content">
                <div class="notification-item">
                    <div class="notification-icon">üéÆ</div>
                    <div class="notification-content">
                        <div class="notification-text">You leveled up to Level 42!</div>
                        <div class="notification-time">2 hours ago</div>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon">üèÜ</div>
                    <div class="notification-content">
                        <div class="notification-text">Achievement unlocked: Win 100 games</div>
                        <div class="notification-time">Yesterday</div>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon">‚≠ê</div>
                    <div class="notification-content">
                        <div class="notification-text">New daily challenge available!</div>
                        <div class="notification-time">Today</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- More Create Modals -->
        <div id="createPollModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createPoll')">‚úï</div>
                <div class="modal-title">Create Poll</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Ask a question..." />
                <input type="text" class="input-field" placeholder="Option 1" />
                <input type="text" class="input-field" placeholder="Option 2" />
                <button class="btn" style="background: var(--glass); margin-bottom: 12px;" onclick="showToast('Option added')">
                    + Add Option
                </button>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Poll Length</div>
                        <div class="list-item-subtitle">1 day</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <button class="btn" onclick="closeModal('createPoll'); showToast('Poll created')">
                    Create Poll
                </button>
            </div>
        </div>

        <div id="createFundraiserModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('createFundraiser')">‚úï</div>
                <div class="modal-title">Create Fundraiser</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Fundraiser title..." />
                <input type="number" class="input-field" placeholder="Goal amount ($)" />
                <textarea class="input-field textarea-field" placeholder="Tell people why you're raising money..."></textarea>
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-title">Category</div>
                        <div class="list-item-subtitle">Select a category</div>
                    </div>
                    <div class="list-item-arrow">‚Üí</div>
                </div>
                <button class="btn" onclick="closeModal('createFundraiser'); showToast('Fundraiser created')">
                    Create Fundraiser
                </button>
            </div>
        </div>

        <div id="uploadMediaModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('uploadMedia')">‚úï</div>
                <div class="modal-title">Upload Photo/Video</div>
            </div>
            <div class="modal-content">
                <div style="background: var(--glass); border: 2px dashed var(--glass-border); border-radius: 16px; padding: 60px 20px; text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 64px; margin-bottom: 16px;">üìÅ</div>
                    <div style="font-size: 16px; color: var(--text-secondary);">Tap to select photos or videos</div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn" style="flex: 1;" onclick="showToast('Photo selected')">
                        üì∑ Photos
                    </button>
                    <button class="btn" style="flex: 1;" onclick="showToast('Video selected')">
                        üé• Videos
                    </button>
                </div>
            </div>
        </div>

        <!-- Friend List Modals -->
        <div id="allFriendsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('allFriends')">‚úï</div>
                <div class="modal-title">All Friends (234)</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search friends..." />
                </div>
                <div class="friend-card">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah Johnson</div>
                        <div class="friend-mutual">Friends since 2020</div>
                    </div>
                    <button class="friend-btn secondary">Message</button>
                </div>
                <div class="friend-card">
                    <div class="friend-avatar">üòä</div>
                    <div class="friend-info">
                        <div class="friend-name">Mike Chen</div>
                        <div class="friend-mutual">Friends since 2021</div>
                    </div>
                    <button class="friend-btn secondary">Message</button>
                </div>
            </div>
        </div>

        <div id="friendsListModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('friendsList')">‚úï</div>
                <div class="modal-title">Friends</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search friends..." />
                </div>
                <div class="friend-card" onclick="closeModal('friendsList'); openScreen('profile')">
                    <div class="friend-avatar">üë§</div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah Johnson</div>
                        <div class="friend-mutual">Mutual friend</div>
                    </div>
                </div>
                <div class="friend-card" onclick="closeModal('friendsList'); openScreen('profile')">
                    <div class="friend-avatar">üòä</div>
                    <div class="friend-info">
                        <div class="friend-name">Mike Chen</div>
                        <div class="friend-mutual">Mutual friend</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="followersListModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('followersList')">‚úï</div>
                <div class="modal-title">Followers</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search followers..." />
                </div>
                <div class="friend-card">
                    <div class="friend-avatar">üé®</div>
                    <div class="friend-info">
                        <div class="friend-name">Emily Rodriguez</div>
                        <div class="friend-mutual">Following you</div>
                    </div>
                    <button class="friend-btn primary">Follow Back</button>
                </div>
            </div>
        </div>

        <div id="followingListModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('followingList')">‚úï</div>
                <div class="modal-title">Following</div>
            </div>
            <div class="modal-content">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" class="search-input" placeholder="Search following..." />
                </div>
                <div class="friend-card">
                    <div class="friend-avatar">üöÄ</div>
                    <div class="friend-info">
                        <div class="friend-name">Tech News Daily</div>
                        <div class="friend-mutual">Following</div>
                    </div>
                    <button class="friend-btn secondary">Unfollow</button>
                </div>
            </div>
        </div>

        <div id="allPostsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('allPosts')">‚úï</div>
                <div class="modal-title">All Posts</div>
            </div>
            <div class="modal-content">
                <div class="post-card">
                    <div class="post-content">Great day at the beach! üèñÔ∏è</div>
                    <div class="post-image">üèñÔ∏è</div>
                    <div class="post-meta">Yesterday at 3:24 PM</div>
                </div>
                <div class="post-card">
                    <div class="post-content">Working on exciting new projects!</div>
                    <div class="post-image">üíª</div>
                    <div class="post-meta">2 days ago</div>
                </div>
            </div>
        </div>

        <div id="trendingDetailsModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="closeModal('trendingDetails')">‚úï</div>
                <div class="modal-title">Trending Details</div>
            </div>
            <div class="modal-content">
                <div class="trending-tag">#1 TRENDING</div>
                <div class="section-title" style="margin: 12px 0;">New AI Features Released</div>
                <div class="post-meta" style="margin-bottom: 20px;">45.2K posts ‚Ä¢ Trending for 3 hours</div>
                <div class="post-content" style="margin-bottom: 20px;">
                    People are talking about the latest AI features that have been released. Join the conversation!
                </div>
                <div class="section-header">
                    <div class="section-title">Related Posts</div>
                </div>
                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">üë§</div>
                        <div class="post-header-info">
                            <div class="post-author">Tech Insider</div>
                            <div class="post-meta">1 hour ago</div>
                        </div>
                    </div>
                    <div class="post-content">These new AI features are game-changing! üöÄ</div>
                </div>
            </div>
        </div>

        <!-- MARKETPLACE MODALS -->
        <div id="marketplaceCartModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('cart')">‚úï</div>
                <div class="modal-title">Shopping Cart</div>
            </div>
            <div class="modal-content" id="marketplaceCartContent">
                <div class="empty-state">
                    <div class="empty-icon">üõí</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Cart is Empty</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">Add items to your cart to get started</div>
                </div>
            </div>
        </div>

        <div id="marketplaceCheckoutModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('checkout')">‚úï</div>
                <div class="modal-title">Checkout</div>
            </div>
            <div class="modal-content">
                <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 20px; border-radius: 16px; text-align: center; margin-bottom: 16px;">
                    <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Total Amount</div>
                    <div style="font-size: 48px; font-weight: 800;" id="marketplaceCheckoutTotal">$0</div>
                </div>
                <input type="text" class="input-field" placeholder="Full Name" />
                <input type="text" class="input-field" placeholder="Delivery Address" />
                <input type="tel" class="input-field" placeholder="Phone Number" />
                <button class="btn" onclick="marketplaceProcessPayment()">Place Order</button>
            </div>
        </div>

        <div id="marketplaceCreateListingModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('createListing')">‚úï</div>
                <div class="modal-title">Create Listing</div>
            </div>
            <div class="modal-content">
                <input type="text" class="input-field" placeholder="Item Title" id="marketplaceListingTitle" />
                <input type="number" class="input-field" placeholder="Price" id="marketplaceListingPrice" />
                <select class="input-field" id="marketplaceListingCategory">
                    <option>Electronics</option>
                    <option>Clothing</option>
                    <option>Home</option>
                    <option>Books</option>
                    <option>Sports</option>
                    <option>Music</option>
                    <option>Other</option>
                </select>
                <textarea class="input-field textarea-field" placeholder="Description" id="marketplaceListingDescription"></textarea>
                <button class="btn" onclick="marketplacePublishListing()">Publish Listing</button>
            </div>
        </div>

        <div id="marketplaceItemModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('item')">‚úï</div>
                <div class="modal-title">Item Details</div>
            </div>
            <div class="modal-content" id="marketplaceItemContent">
                <!-- Item details will be inserted here -->
            </div>
        </div>

        <div id="marketplaceOrdersModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('orders')">‚úï</div>
                <div class="modal-title">My Orders</div>
            </div>
            <div class="modal-content">
                <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; padding: 16px; margin-bottom: 12px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <div style="font-weight: 600;">#ORD-2024-001</div>
                        <div style="padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; background: rgba(16, 185, 129, 0.2); color: var(--success);">Delivered</div>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">üíª</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">MacBook Pro</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Delivered Dec 10, 2024</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="marketplaceChatModal" class="modal">
            <div class="modal-header">
                <div class="modal-close" onclick="marketplaceCloseModal('chat')">‚úï</div>
                <div class="modal-title" id="marketplaceChatTitle">Chat</div>
            </div>
            <div class="modal-content">
                <div class="chat-messages" style="height: calc(100vh - 250px);">
                    <div class="chat-bubble received">Hi! Is the item still available?</div>
                    <div class="chat-bubble sent">Yes, it's available!</div>
                </div>
                <div style="position: sticky; bottom: 0; background: var(--bg-primary); padding: 16px 0; display: flex; gap: 10px;">
                    <input type="text" class="input-field" style="margin-bottom: 0;" placeholder="Type a message..." />
                    <button class="chat-send-btn" onclick="showToast('Message sent')">‚û§</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        let currentScreen = 'feed';
        let currentMainTab = 'feed';
        let currentBottomTab = 'social';

        // Switch between pill navigation tabs (Feed, Stories, Live, Trending, Groups)
        function switchPillTab(element, tab) {
            // Remove active class from all pill buttons
            document.querySelectorAll('.pill-nav-button').forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            element.classList.add('active');
            
            // Show corresponding screen
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(tab + '-screen').classList.add('active');
            
            currentMainTab = tab;
            currentScreen = tab;
        }

        // Switch between top navigation tabs (Feed, Stories, Live, Trending, Groups)
        function switchMainTab(tab) {
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            // Show corresponding screen
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(tab + '-screen').classList.add('active');
            
            currentMainTab = tab;
            currentScreen = tab;
        }

        // Switch between bottom navigation tabs (Social, Dating, Messages, Media, Friends)
        function switchBottomTab(tab) {
            // Update nav items
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            // Map bottom tabs to screens
            let screenMap = {
                'social': 'feed',
                'dating': 'dating',
                'messages': 'messages',
                'media': 'media',
                'friends': 'friends'
            };
            
            let screenToShow = screenMap[tab];
            
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            
            // Show selected screen
            document.getElementById(screenToShow + '-screen').classList.add('active');
            
            // Reset top nav tabs when switching to social
            if (tab === 'social') {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelector('.nav-tab').classList.add('active');
                currentMainTab = 'feed';
            }
            
            currentBottomTab = tab;
            currentScreen = screenToShow;
        }

        // Switch between main screens (legacy support)
        function switchScreen(screen) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            
            // Show selected screen
            document.getElementById(screen + '-screen').classList.add('active');
            
            currentScreen = screen;
        }

        // Open a screen from anywhere
        function openScreen(screen) {
            // Close any open modals
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('show'));
            
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            
            // Show selected screen
            document.getElementById(screen + '-screen').classList.add('active');
            
            currentScreen = screen;
        }

        // Modal functions
        function openModal(type) {
            const modal = document.getElementById(type + 'Modal');
            if (modal) {
                modal.classList.add('show');
            }
        }

        function closeModal(type) {
            const modal = document.getElementById(type + 'Modal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // Toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // Post actions
        function toggleLikePost(button) {
            button.classList.toggle('active');
            const icon = button.querySelector('span');
            if (button.classList.contains('active')) {
                icon.textContent = '‚ù§Ô∏è';
                showToast('Liked!');
            } else {
                icon.textContent = 'üëç';
            }
        }

        function sharePost() {
            showToast('Post shared!');
        }

        function publishPost() {
            closeModal('createPost');
            showToast('Post published!');
        }

        function selectFeeling(feeling) {
            closeModal('addFeeling');
            showToast(`Feeling ${feeling}`);
        }

        // Toggle switch
        function toggleSwitch(element) {
            element.classList.toggle('active');
        }

        // Search functionality
        function handleSearch(value) {
            const defaultView = document.getElementById('searchDefault');
            const resultsView = document.getElementById('searchResults');
            
            if (value.trim().length > 0) {
                defaultView.style.display = 'none';
                resultsView.style.display = 'block';
            } else {
                defaultView.style.display = 'block';
                resultsView.style.display = 'none';
            }
        }

        function clearSearch() {
            document.getElementById('mainSearchInput').value = '';
            handleSearch('');
        }

        function clearRecentSearches() {
            showToast('Recent searches cleared');
        }

        function removeSearch(element) {
            element.parentElement.style.opacity = '0';
            setTimeout(() => {
                element.parentElement.remove();
                showToast('Removed from recent searches');
            }, 200);
        }

        // Notification actions
        function markAllAsRead() {
            document.querySelectorAll('.notification-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            showToast('All notifications marked as read');
        }

        function goToPost(element) {
            element.classList.remove('unread');
            showToast('Opening content...');
        }

        // Message actions
        function sendMessage() {
            showToast('Message sent!');
        }

        // Camera functions
        let isRecording = false;
        
        function toggleRecording() {
            isRecording = !isRecording;
            if (isRecording) {
                showToast('Recording started');
            } else {
                showToast('Recording stopped');
            }
        }

        function switchCamera() {
            showToast('Camera switched');
        }

        function openGallery() {
            showToast('Gallery opened');
        }

        function selectAR(effect) {
            closeModal('arFeatures');
            showToast(`AR effect applied: ${effect}`);
        }

        // Profile actions
        function saveProfile() {
            closeModal('editProfile');
            showToast('Profile updated!');
        }

        function shareProfile() {
            showToast('Profile link copied!');
        }

        // Friend actions
        function addFriend(button) {
            button.textContent = '‚úì Request Sent';
            button.style.background = 'var(--success)';
            showToast('Friend request sent!');
        }

        function removeSuggestion(button) {
            button.parentElement.parentElement.style.opacity = '0';
            setTimeout(() => {
                button.parentElement.parentElement.remove();
                showToast('Suggestion removed');
            }, 200);
        }

        // Dating actions
        function passDatingProfile() {
            showToast('Passed');
        }

        function likeDatingProfile() {
            showToast('Liked! üíö');
        }

        function superLike() {
            showToast('Super Liked! ‚≠ê');
        }

        // Event actions
        function markInterested() {
            showToast('Marked as interested');
        }

        function shareEvent() {
            showToast('Event shared!');
        }

        // Gaming actions
        function playGame(game) {
            showToast(`Loading ${game}...`);
        }

        // Initialize
        window.addEventListener('load', () => {
            console.log('ConnectHub Complete Prototype Loaded');
        });

        // Close modal when clicking outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                const modalId = e.target.id.replace('Modal', '');
                closeModal(modalId);
            }
        });

        // ========== MARKETPLACE FUNCTIONALITY ==========
        
        // Marketplace Sample Data
        const marketplaceListings = [
            { id: 1, title: 'MacBook Pro 2023', price: 1200, category: 'electronics', emoji: 'üíª', seller: 'Sarah M', rating: 4.9, description: 'Like new MacBook Pro with M2 chip, 16GB RAM, 512GB SSD.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--primary), var(--secondary))' },
            { id: 2, title: 'Wireless Headphones', price: 120, category: 'electronics', emoji: 'üéß', seller: 'Mike J', rating: 4.8, description: 'Premium wireless headphones with noise cancellation.', condition: 'good', gradient: 'linear-gradient(135deg, var(--success), var(--accent))' },
            { id: 3, title: 'Vintage Camera', price: 450, category: 'electronics', emoji: 'üì∑', seller: 'Emma W', rating: 5.0, description: 'Classic film camera in excellent condition.', condition: 'good', gradient: 'linear-gradient(135deg, var(--warning), var(--error))' },
            { id: 4, title: 'Gaming Console', price: 350, category: 'electronics', emoji: 'üéÆ', seller: 'John D', rating: 4.7, description: 'Latest gaming console with 2 controllers.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--secondary), var(--primary))' },
            { id: 5, title: 'Smart Watch', price: 180, category: 'electronics', emoji: '‚åö', seller: 'Lisa G', rating: 4.9, description: 'Fitness tracking, heart rate monitor, waterproof.', condition: 'good', gradient: 'linear-gradient(135deg, var(--accent), var(--success))' },
            { id: 6, title: 'Winter Jacket', price: 85, category: 'clothing', emoji: 'üß•', seller: 'Anna K', rating: 4.6, description: 'Warm winter jacket, size L.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--error), var(--warning))' },
            { id: 7, title: 'Running Shoes', price: 65, category: 'sports', emoji: 'üëü', seller: 'Tom R', rating: 4.5, description: 'Professional running shoes, size 10.', condition: 'good', gradient: 'linear-gradient(135deg, var(--primary), var(--accent))' },
            { id: 8, title: 'Coffee Maker', price: 45, category: 'home', emoji: '‚òï', seller: 'Kate M', rating: 4.8, description: 'Programmable coffee maker with grinder.', condition: 'good', gradient: 'linear-gradient(135deg, var(--warning), var(--primary))' },
            { id: 9, title: 'Office Chair', price: 150, category: 'home', emoji: 'ü™ë', seller: 'David L', rating: 4.7, description: 'Ergonomic office chair with lumbar support.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--success), var(--primary))' },
            { id: 10, title: 'Guitar', price: 280, category: 'music', emoji: 'üé∏', seller: 'Sarah M', rating: 5.0, description: 'Acoustic guitar with case.', condition: 'good', gradient: 'linear-gradient(135deg, var(--secondary), var(--accent))' },
            { id: 11, title: 'Desk Lamp', price: 35, category: 'home', emoji: 'üí°', seller: 'Mike J', rating: 4.6, description: 'LED desk lamp with adjustable brightness.', condition: 'new', gradient: 'linear-gradient(135deg, var(--accent), var(--warning))' },
            { id: 12, title: 'Backpack', price: 55, category: 'other', emoji: 'üéí', seller: 'Emma W', rating: 4.8, description: 'Durable travel backpack with laptop compartment.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--primary), var(--success))' },
            { id: 13, title: 'Cookbook Collection', price: 40, category: 'books', emoji: 'üìö', seller: 'Lisa G', rating: 4.9, description: 'Set of 5 professional cookbooks.', condition: 'good', gradient: 'linear-gradient(135deg, var(--warning), var(--secondary))' },
            { id: 14, title: 'Yoga Mat', price: 25, category: 'sports', emoji: 'üßò', seller: 'Anna K', rating: 4.7, description: 'Premium yoga mat with carry strap.', condition: 'like-new', gradient: 'linear-gradient(135deg, var(--success), var(--accent))' },
            { id: 15, title: 'Board Game Set', price: 30, category: 'toys', emoji: 'üé≤', seller: 'John D', rating: 4.8, description: 'Collection of 3 popular board games.', condition: 'good', gradient: 'linear-gradient(135deg, var(--error), var(--primary))' },
            { id: 16, title: 'Plant Pots', price: 20, category: 'home', emoji: 'ü™¥', seller: 'Kate M', rating: 4.6, description: 'Set of 4 ceramic plant pots.', condition: 'new', gradient: 'linear-gradient(135deg, var(--accent), var(--success))' },
        ];

        // Marketplace State
        let marketplaceCart = [];
        let marketplaceWishlist = [];
        let marketplaceNotificationCount = 3;
        let currentMarketplaceItem = null;

        // Initialize marketplace when screen opens
        function initializeMarketplace() {
            marketplaceRenderListings();
            marketplaceUpdateCartBadge();
        }

        // Render marketplace listings
        function marketplaceRenderListings() {
            const grid = document.getElementById('marketplaceListingsGrid');
            if (!grid) return;
            
            grid.innerHTML = marketplaceListings.map(item => `
                <div class="listing-card" onclick="marketplaceOpenItemDetails(${item.id})" style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.3s;">
                    <div style="width: 100%; height: 140px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 48px; position: relative;">
                        ${item.emoji}
                        <div onclick="event.stopPropagation(); marketplaceToggleWishlist(${item.id})" style="position: absolute; top: 8px; right: 8px; width: 32px; height: 32px; border-radius: 50%; background: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; font-size: 16px; cursor: pointer;">
                            ${marketplaceWishlist.includes(item.id) ? '‚ù§Ô∏è' : 'ü§ç'}
                        </div>
                    </div>
                    <div style="padding: 12px;">
                        <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${item.title}</div>
                        <div style="font-size: 18px; font-weight: 800; color: var(--primary); margin-bottom: 4px;">$${item.price}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${item.condition} ‚Ä¢ ${item.seller}</div>
                    </div>
                </div>
            `).join('');
        }

        // Switch marketplace tabs
        function marketplaceSwitchTab(tab) {
            document.querySelectorAll('#marketplace-screen .pill-nav-button').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');

            document.querySelectorAll('#marketplace-screen .tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('marketplace-' + tab + '-tab').classList.add('active');

            if (tab === 'wishlist') {
                marketplaceRenderWishlist();
            } else if (tab === 'selling') {
                marketplaceRenderMyListings();
            }
        }

        // Toggle wishlist
        function marketplaceToggleWishlist(id) {
            const index = marketplaceWishlist.indexOf(id);
            if (index > -1) {
                marketplaceWishlist.splice(index, 1);
                showToast('Removed from wishlist');
            } else {
                marketplaceWishlist.push(id);
                showToast('Added to wishlist ‚ù§Ô∏è');
            }
            marketplaceRenderListings();
            marketplaceRenderWishlist();
        }

        // Render wishlist
        function marketplaceRenderWishlist() {
            const items = marketplaceListings.filter(item => marketplaceWishlist.includes(item.id));
            const grid = document.getElementById('marketplaceWishlistGrid');
            const empty = document.getElementById('marketplaceEmptyWishlist');

            if (items.length === 0) {
                grid.innerHTML = '';
                empty.style.display = 'block';
            } else {
                empty.style.display = 'none';
                grid.innerHTML = items.map(item => `
                    <div class="listing-card" onclick="marketplaceOpenItemDetails(${item.id})" style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px; overflow: hidden; cursor: pointer;">
                        <div style="width: 100%; height: 140px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 48px; position: relative;">
                            ${item.emoji}
                            <div onclick="event.stopPropagation(); marketplaceToggleWishlist(${item.id})" style="position: absolute; top: 8px; right: 8px; width: 32px; height: 32px; border-radius: 50%; background: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; font-size: 16px;">
                                ‚ù§Ô∏è
                            </div>
                        </div>
                        <div style="padding: 12px;">
                            <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${item.title}</div>
                            <div style="font-size: 18px; font-weight: 800; color: var(--primary); margin-bottom: 4px;">$${item.price}</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">${item.condition} ‚Ä¢ ${item.seller}</div>
                        </div>
                    </div>
                `).join('');
            }

            document.getElementById('marketplaceWishlistCount').textContent = `${items.length} items`;
        }

        // Render my listings
        function marketplaceRenderMyListings() {
            const myItems = marketplaceListings.slice(0, 5);
            const grid = document.getElementById('marketplaceMyListingsGrid');
            if (!grid) return;

            grid.innerHTML = myItems.map(item => `
                <div class="listing-card" onclick="marketplaceOpenItemDetails(${item.id})" style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px; overflow: hidden; cursor: pointer;">
                    <div style="width: 100%; height: 140px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 48px;">
                        ${item.emoji}
                    </div>
                    <div style="padding: 12px;">
                        <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${item.title}</div>
                        <div style="font-size: 18px; font-weight: 800; color: var(--primary); margin-bottom: 4px;">$${item.price}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">Active ‚Ä¢ 45 views</div>
                    </div>
                </div>
            `).join('');
        }

        // Open item details
        function marketplaceOpenItemDetails(id) {
            const item = marketplaceListings.find(i => i.id === id);
            if (!item) return;

            currentMarketplaceItem = item;
            const content = document.getElementById('marketplaceItemContent');
            
            content.innerHTML = `
                <div style="width: 100%; height: 300px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 100px; margin-bottom: 16px;">
                    ${item.emoji}
                </div>
                <div style="font-size: 32px; font-weight: 800; color: var(--primary); margin-bottom: 8px;">$${item.price}</div>
                <div style="font-size: 22px; font-weight: 700; margin-bottom: 12px;">${item.title}</div>
                <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 16px;">
                    <span style="background: var(--glass); padding: 4px 12px; border-radius: 12px; margin-right: 8px;">${item.condition}</span>
                    <span>‚≠ê ${item.rating}</span>
                </div>
                <div style="font-size: 15px; line-height: 1.6; color: var(--text-secondary); margin-bottom: 16px;">
                    ${item.description}
                </div>
                <div class="list-item" style="margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 16px;">${item.seller.substring(0, 2)}</div>
                    <div class="list-item-content">
                        <div class="list-item-title">${item.seller}</div>
                        <div class="list-item-subtitle">‚≠ê ${item.rating} ‚Ä¢ 47 sales</div>
                    </div>
                    <button class="nav-btn" onclick="marketplaceOpenChat('${item.seller}', '${item.seller.substring(0, 2)}')">üí¨</button>
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button class="btn" style="flex: 1; background: var(--glass); border: 1px solid var(--glass-border);" onclick="marketplaceToggleWishlist(${id})">
                        ${marketplaceWishlist.includes(id) ? '‚ù§Ô∏è' : 'ü§ç'} Save
                    </button>
                    <button class="btn" style="flex: 1;" onclick="marketplaceAddToCart(${id})">
                        üõí Add to Cart
                    </button>
                </div>
            `;

            marketplaceOpenModal('item');
        }

        // Add to cart
        function marketplaceAddToCart(id) {
            if (!marketplaceCart.includes(id)) {
                marketplaceCart.push(id);
                marketplaceUpdateCartBadge();
                showToast('Added to cart! üõí');
                marketplaceCloseModal('item');
            } else {
                showToast('Already in cart');
            }
        }

        // Update cart badge
        function marketplaceUpdateCartBadge() {
            const badge = document.getElementById('marketplaceCartBadge');
            if (marketplaceCart.length > 0) {
                badge.textContent = marketplaceCart.length;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        // Render cart
        function marketplaceRenderCart() {
            const items = marketplaceListings.filter(item => marketplaceCart.includes(item.id));
            const content = document.getElementById('marketplaceCartContent');
            
            if (items.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üõí</div>
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Cart is Empty</div>
                        <div style="font-size: 14px; color: var(--text-secondary);">Add items to your cart to get started</div>
                    </div>
                `;
                return;
            }

            const total = items.reduce((sum, item) => sum + item.price, 0);
            
            content.innerHTML = items.map(item => `
                <div class="list-item" style="margin-bottom: 12px;">
                    <div style="width: 80px; height: 80px; background: ${item.gradient}; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 32px; flex-shrink: 0;">
                        ${item.emoji}
                    </div>
                    <div class="list-item-content">
                        <div class="list-item-title">${item.title}</div>
                        <div style="font-size: 18px; font-weight: 700; color: var(--primary);">$${item.price}</div>
                    </div>
                    <div onclick="event.stopPropagation(); marketplaceRemoveFromCart(${item.id})" style="color: var(--error); cursor: pointer; padding: 8px; font-size: 20px;">üóëÔ∏è</div>
                </div>
            `).join('');
            
            content.innerHTML += `
                <div style="background: linear-gradient(135deg, var(--primary), var(--secondary)); padding: 20px; border-radius: 16px; margin-top: 20px; text-align: center;">
                    <div style="font-size: 14px; margin-bottom: 8px;">Total</div>
                    <div style="font-size: 32px; font-weight: 800;">$${total}</div>
                </div>
                <button class="btn" style="margin-top: 16px;" onclick="marketplaceProceedToCheckout()">Checkout</button>
            `;
        }

        function marketplaceRemoveFromCart(id) {
            marketplaceCart = marketplaceCart.filter(itemId => itemId !== id);
            marketplaceUpdateCartBadge();
            marketplaceRenderCart();
            showToast('Removed from cart');
        }

        function marketplaceProceedToCheckout() {
            if (marketplaceCart.length === 0) {
                showToast('Cart is empty');
                return;
            }
            const items = marketplaceListings.filter(item => marketplaceCart.includes(item.id));
            const total = items.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('marketplaceCheckoutTotal').textContent = `$${total}`;
            marketplaceCloseModal('cart');
            setTimeout(() => marketplaceOpenModal('checkout'), 300);
        }

        function marketplaceProcessPayment() {
            showToast('Processing payment...');
            setTimeout(() => {
                marketplaceCart = [];
                marketplaceUpdateCartBadge();
                marketplaceCloseModal('checkout');
                showToast('Order placed successfully! üéâ');
            }, 1500);
        }

        function marketplacePublishListing() {
            const title = document.getElementById('marketplaceListingTitle').value;
            const price = document.getElementById('marketplaceListingPrice').value;
            
            if (!title || !price) {
                showToast('Please fill all fields');
                return;
            }
            
            marketplaceCloseModal('createListing');
            showToast('Listing published! üéâ');
        }

        function marketplaceSearchItems(query) {
            const filtered = marketplaceListings.filter(item => 
                item.title.toLowerCase().includes(query.toLowerCase()) ||
                item.description.toLowerCase().includes(query.toLowerCase())
            );
            
            const grid = document.getElementById('marketplaceListingsGrid');
            if (!grid) return;
            
            grid.innerHTML = filtered.map(item => `
                <div class="listing-card" onclick="marketplaceOpenItemDetails(${item.id})" style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.3s;">
                    <div style="width: 100%; height: 140px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 48px; position: relative;">
                        ${item.emoji}
                    </div>
                    <div style="padding: 12px;">
                        <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${item.title}</div>
                        <div style="font-size: 18px; font-weight: 800; color: var(--primary); margin-bottom: 4px;">$${item.price}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${item.condition}</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('marketplaceResultsCount').textContent = `${filtered.length} items`;
        }

        function marketplaceFilterByCategory(category) {
            const filtered = marketplaceListings.filter(item => item.category === category);
            const grid = document.getElementById('marketplaceListingsGrid');
            if (!grid) return;
            
            grid.innerHTML = filtered.map(item => `
                <div class="listing-card" onclick="marketplaceOpenItemDetails(${item.id})" style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px; overflow: hidden; cursor: pointer;">
                    <div style="width: 100%; height: 140px; background: ${item.gradient}; display: flex; align-items: center; justify-content: center; font-size: 48px;">
                        ${item.emoji}
                    </div>
                    <div style="padding: 12px;">
                        <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${item.title}</div>
                        <div style="font-size: 18px; font-weight: 800; color: var(--primary); margin-bottom: 4px;">$${item.price}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${item.condition}</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('marketplaceResultsCount').textContent = `${filtered.length} items`;
            showToast(`Showing ${category}`);
        }

        function marketplaceOpenModal(type) {
            const modal = document.getElementById('marketplace' + type.charAt(0).toUpperCase() + type.slice(1) + 'Modal');
            if (modal) {
                modal.classList.add('show');
                if (type === 'cart') {
                    marketplaceRenderCart();
                }
            }
        }

        function marketplaceCloseModal(type) {
            const modal = document.getElementById('marketplace' + type.charAt(0).toUpperCase() + type.slice(1) + 'Modal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        function marketplaceToggleNotifications() {
            const panel = document.getElementById('marketplaceNotificationsPanel');
            panel.classList.toggle('show');
        }

        function marketplaceMarkAllRead() {
            document.querySelectorAll('#marketplaceNotificationsPanel .notification-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            marketplaceNotificationCount = 0;
            document.getElementById('marketplaceNotificationsBadge').style.display = 'none';
            showToast('All notifications marked as read');
        }

        function marketplaceHandleNotification(type) {
            marketplaceToggleNotifications();
            if (type === 'order') {
                marketplaceOpenModal('orders');
            } else if (type === 'message') {
                marketplaceSwitchTab('messages');
            }
        }

        function marketplaceOpenChat(name, initials) {
            document.getElementById('marketplaceChatTitle').textContent = name;
            marketplaceOpenModal('chat');
        }

        // Initialize marketplace when opening the screen
        document.addEventListener('DOMContentLoaded', function() {
            initializeMarketplace();
        });

        // Listen for screen changes to initialize marketplace
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.target.id === 'marketplace-screen' && mutation.target.classList.contains('active')) {
                    initializeMarketplace();
                }
            });
        });

        if (document.getElementById('marketplace-screen')) {
            observer.observe(document.getElementById('marketplace-screen'), {
                attributes: true,
                attributeFilter: ['class']
            });
        }

        // ========== HISTORY NAVIGATION SYSTEM ==========
        
        let navigationHistory = [];
        let currentModalStack = [];

        // Enhanced openScreen with history tracking
        const originalOpenScreen = openScreen;
        openScreen = function(screen) {
            navigationHistory.push({type: 'screen', id: currentScreen});
            originalOpenScreen(screen);
        }

        // Enhanced openModal with history tracking
        const originalOpenModal = openModal;
        openModal = function(type) {
            navigationHistory.push({type: 'modal', id: type});
            currentModalStack.push(type);
            originalOpenModal(type);
        }

        // Enhanced closeModal with history awareness
        const originalCloseModal = closeModal;
        closeModal = function(type) {
            const index = currentModalStack.indexOf(type);
            if (index > -1) {
                currentModalStack.splice(index, 1);
            }
            originalCloseModal(type);
        }

        // Handle browser back button
        window.addEventListener('popstate', function(e) {
            if (currentModalStack.length > 0) {
                const lastModal = currentModalStack.pop();
                originalCloseModal(lastModal);
            } else if (currentScreen !== 'feed') {
                originalOpenScreen('feed');
            }
        });

        // Push initial state
        history.pushState({screen: 'feed'}, '', '#feed');

        // Enhanced navigation functions that update URL hash
        function navigateToScreen(screen) {
            history.pushState({screen: screen}, '', '#' + screen);
            openScreen(screen);
        }

        function navigateBack() {
            if (currentModalStack.length > 0) {
                const lastModal = currentModalStack.pop();
                closeModal(lastModal);
            } else if (currentScreen !== 'feed') {
                openScreen('feed');
            } else {
                showToast('Already at home');
            }
        }

        // Add back button handler to logo
        document.querySelector('.nav-logo').onclick = function() {
            if (currentScreen !== 'feed') {
                openScreen('feed');
            } else {
                showToast('Already at home');
            }
        };
    </script>
</body>
</html>
