<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lynk - Connect Your World</title>
    <meta name="description" content="Lynk - The ultimate social universe platform combining social media, dating, media streaming, and interactive entertainment">
    <meta name="keywords" content="social media, dating app, music streaming, live streaming, games, marketplace">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' width='16' height='16'><defs><linearGradient id='lynk16' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' style='stop-color:%236366f1'/><stop offset='100%25' style='stop-color:%238b5cf6'/></linearGradient></defs><circle cx='4' cy='8' r='3' fill='url(%23lynk16)'/><circle cx='8' cy='8' r='3' fill='url(%23lynk16)'/><circle cx='12' cy='8' r='3' fill='url(%23lynk16)'/><path d='M 6.5 6.5 L 9.5 6.5' stroke='url(%23lynk16)' stroke-width='1.5' stroke-linecap='round'/></svg>">
    <meta name="theme-color" content="#4f46e5">
    
    <!-- Progressive Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Lynk - Connect Your World">
    <meta property="og:description" content="Connect, date, create, and discover with the power of AI">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lynk.app">
    
    <link rel="stylesheet" href="src/css/styles.css">
    <link rel="stylesheet" href="src/css/enhanced-story-user-dashboard-styles.css">
    <link rel="stylesheet" href="src/css/match-profile-modal.css">
    <link rel="stylesheet" href="src/css/search-posts-dashboard.css">
    <link rel="stylesheet" href="src/css/dating-styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="logo" onclick="goHome()" role="button" tabindex="0" onkeydown="handleKeyPress(event, goHome)">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 40" width="160" height="40" style="margin-right: 0.5rem;">
                    <defs>
                        <linearGradient id="lynkLogo" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#6366f1"/>
                            <stop offset="100%" style="stop-color:#8b5cf6"/>
                        </linearGradient>
                    </defs>
                    <!-- Logo mark - Connected nodes forming chain/link -->
                    <g transform="translate(10, 20)">
                        <!-- Left circle -->
                        <circle cx="0" cy="0" r="6" fill="url(#lynkLogo)"/>
                        <!-- Connection line 1 -->
                        <path d="M 5 -3 Q 12 -5, 19 -3" stroke="url(#lynkLogo)" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <!-- Middle circle -->
                        <circle cx="24" cy="0" r="6" fill="url(#lynkLogo)"/>
                        <!-- Connection line 2 -->
                        <path d="M 29 3 Q 36 5, 43 3" stroke="url(#lynkLogo)" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <!-- Right circle -->
                        <circle cx="48" cy="0" r="6" fill="url(#lynkLogo)"/>
                        <!-- Inner highlights -->
                        <circle cx="0" cy="-2" r="2" fill="white" opacity="0.4"/>
                        <circle cx="24" cy="-2" r="2" fill="white" opacity="0.4"/>
                        <circle cx="48" cy="-2" r="2" fill="white" opacity="0.4"/>
                    </g>
                    <!-- Lynk Text -->
                    <text x="70" y="26" font-family="Arial, sans-serif" font-size="18" font-weight="900" fill="url(#lynkLogo)" letter-spacing="-1">Lynk</text>
                </svg>
            </div>
            
            <div class="main-nav" id="mainNav" role="menubar">
                <!-- Will be populated by updateMainNav() -->
            </div>

            <div class="user-avatar" onclick="toggleUserMenu()" role="button" tabindex="0" onkeydown="handleKeyPress(event, toggleUserMenu)" aria-label="User menu">
                JD
            </div>
        </div>
    </nav>

    <!-- Sub Navigation -->
    <div class="sub-nav" id="subNavContainer" role="navigation" aria-label="Category navigation">
        <div class="sub-nav-container" id="subNav">
            <!-- Dynamic sub-navigation items will be populated here -->
        </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel" role="dialog" aria-label="Notifications">
        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
            <h3>Notifications</h3>
        </div>
        <div id="notificationList">
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">New Match! 💕</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">You and Sarah Miller liked each other</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">2 minutes ago</div>
            </div>
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">New Message</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">Emma Wilson sent you a message</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">5 minutes ago</div>
            </div>
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">Group Invite</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">You've been invited to "Tech Enthusiasts"</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">1 hour ago</div>
            </div>
        </div>
    </div>

    <main class="main-container" role="main">
        <!-- Auth Screen -->
        <section id="authScreen" class="category-section active" aria-label="Authentication">
            <div style="display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 140px); padding: 2rem;">
                <div style="display: grid; grid-template-columns: 1fr 400px; gap: 4rem; max-width: 1200px; width: 100%; align-items: center;">
                    <div>
                        <h1 style="font-size: 3.5rem; font-weight: 900; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1.5rem;">Lynk</h1>
                        <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Your ultimate social universe. Connect, date, create, and discover with the power of AI.</p>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Social media">📱</div>
                                <h4>Social Network</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Connect and share with friends</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Dating">💕</div>
                                <h4>Smart Dating</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">AI-powered matching</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Media">🎵</div>
                                <h4>Media Hub</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Music, videos, and live streams</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Games">🎮</div>
                                <h4>Extra Features</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Games, shopping, and more</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 24px; padding: 2.5rem;">
                        <div style="display: flex; background: var(--glass); border-radius: 12px; padding: 0.25rem; margin-bottom: 2rem;" role="tablist">
                            <div class="auth-tab active" data-mode="login" style="flex: 1; padding: 0.75rem; text-align: center; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;" role="tab" tabindex="0">Sign In</div>
                            <div class="auth-tab" data-mode="register" style="flex: 1; padding: 0.75rem; text-align: center; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;" role="tab" tabindex="0">Register</div>
                        </div>
                        
                        <form id="authForm" novalidate>
                            <div class="form-group" id="nameGroup" style="display: none;">
                                <label class="form-label" for="fullName">Full Name</label>
                                <input type="text" id="fullName" class="form-input" placeholder="Enter your full name" autocomplete="name">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="email">Email</label>
                                <input type="email" id="email" class="form-input" placeholder="Enter your email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="password">Password</label>
                                <input type="password" id="password" class="form-input" placeholder="Enter your password" required autocomplete="current-password">
                            </div>
                            <div class="form-group" id="confirmGroup" style="display: none;">
                                <label class="form-label" for="confirmPassword">Confirm Password</label>
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" autocomplete="new-password">
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <span id="authButtonText">Sign In</span>
                            </button>
                        </form>
                        
                        <div style="display: flex; gap: 1rem; margin: 1.5rem 0;">
                            <button class="btn btn-secondary" onclick="socialLogin('google')" style="flex: 1; justify-content: center;" aria-label="Sign in with Google">
                                <span role="img" aria-label="Google">📧</span> Google
                            </button>
                            <button class="btn btn-secondary" onclick="socialLogin('facebook')" style="flex: 1; justify-content: center;" aria-label="Sign in with Facebook">
                                <span role="img" aria-label="Facebook">📘</span> Facebook
                            </button>
                        </div>
                        
                        <div style="text-align: center; margin-top: 1rem;">
                            <a href="#" style="color: var(--primary); text-decoration: none;" onclick="forgotPassword()" role="button">Forgot Password?</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Category Selection Screen -->
        <section id="categorySelection" class="category-section" aria-label="Category selection">
            <div class="page-layout">
                <div style="text-align: center; margin-bottom: 3rem;">
                    <h1 style="font-size: 3rem; font-weight: 900; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">Welcome to Lynk</h1>
                    <p style="font-size: 1.2rem; color: var(--text-secondary);">Choose what you'd like to explore first</p>
                </div>

                <div class="grid-2" style="margin-bottom: 3rem;">
                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('social')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('social'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Social media">📱</div>
                        <h2 style="margin-bottom: 1rem; color: var(--primary);">Social Network</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Connect with friends, share posts, join groups, discover events, and build your social presence.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Home Feed</span>
                                <span role="img" aria-label="Home">🏠</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Messages & Chat</span>
                                <span role="img" aria-label="Messages">💬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Groups & Events</span>
                                <span role="img" aria-label="Groups">👥</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Stories & Explore</span>
                                <span role="img" aria-label="Explore">🌟</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Enter Social Network</button>
                    </div>

                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('dating')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('dating'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Dating">💕</div>
                        <h2 style="margin-bottom: 1rem; color: var(--secondary);">Smart Dating</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Find meaningful connections with AI-powered matching, swipe through profiles, and start conversations.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">AI Matching</span>
                                <span role="img" aria-label="AI">🤖</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Swipe & Discover</span>
                                <span role="img" aria-label="Sparkles">💫</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Match Management</span>
                                <span role="img" aria-label="Chat">💬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Dating Preferences</span>
                                <span role="img" aria-label="Settings">⚙️</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Start Dating</button>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('media')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('media'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Music">🎵</div>
                        <h2 style="margin-bottom: 1rem; color: var(--accent);">Media Hub</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Stream music, create live broadcasts, make video calls, and explore AR/VR experiences.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Music Player</span>
                                <span role="img" aria-label="Headphones">🎧</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Live Streaming</span>
                                <span role="img" aria-label="TV">📺</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Video Calls</span>
                                <span role="img" aria-label="Video">📹</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">AR/VR Experiences</span>
                                <span role="img" aria-label="VR">🥽</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Explore Media</button>
                    </div>

                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('extra')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('extra'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Games">🎮</div>
                        <h2 style="margin-bottom: 1rem; color: var(--warning);">Extra Features</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Play games, shop in the marketplace, manage your business, and access premium tools.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Interactive Games</span>
                                <span role="img" aria-label="Joystick">🕹️</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Marketplace</span>
                                <span role="img" aria-label="Shopping">🛒</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Business Tools</span>
                                <span role="img" aria-label="Business">💼</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Wallet & Analytics</span>
                                <span role="img" aria-label="Money">💰</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Discover More</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SOCIAL MEDIA CATEGORY -->
        <section id="socialCategory" class="category-section" aria-label="Social media">
            <!-- Home Screen -->
            <div id="socialHome" class="screen active">
                <div style="display: grid; grid-template-columns: 300px 1fr 300px; gap: 2rem; max-width: 1400px; margin: 0 auto; padding: 2rem;">
                    <!-- Left Sidebar -->
                    <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                        <h3>Quick Actions</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 2rem;">
                            <button class="btn btn-secondary btn-small" onclick="openCreatePost()">✏️ Create Post</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'stories')">📱 Add Story</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'groups')">👥 Join Groups</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'events')">📅 Events</button>
                        </div>
                        
                        <h3>Trending</h3>
                        <div style="margin-top: 1rem;">
                            <div style="padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border); cursor: pointer;" onclick="searchTrending('Lynk')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#Lynk</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">24.5K posts</div>
                            </div>
                            <div style="padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border); cursor: pointer;" onclick="searchTrending('SocialMedia')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#SocialMedia</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">15.2K posts</div>
                            </div>
                            <div style="padding: 0.75rem 0; cursor: pointer;" onclick="searchTrending('AITech')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#AITech</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">8.7K posts</div>
                            </div>
                        </div>
                    </aside>

                    <!-- Main Feed -->
                    <main style="display: flex; flex-direction: column; gap: 2rem;">
                        <!-- Create Post -->
                        <article style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <div style="width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white;" aria-label="User avatar">JD</div>
                                <div style="flex: 1; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 25px; padding: 1rem 1.5rem; color: var(--text-secondary); cursor: pointer;" onclick="openCreatePost()" role="button" tabindex="0">
                                    What's on your mind, John?
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('photo')">📷 Photo</button>
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('video')">🎥 Video</button>
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('location')">📍 Location</button>
                                </div>
                                <button class="btn btn-primary btn-small" onclick="openCreatePost()">Share</button>
                            </div>
                        </article>

                        <!-- Posts -->
                        <div id="postsContainer" role="feed" aria-label="Social media posts">
                            <!-- Posts will be dynamically generated -->
                        </div>
                    </main>

                    <!-- Right Sidebar -->
                    <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                        <h3>Suggested Friends</h3>
                        <div style="margin-top: 1rem;" id="suggestedFriends">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        
                        <h3 style="margin-top: 2rem;">Active Now</h3>
                        <div style="margin-top: 1rem;" id="activeUsers">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </aside>
                </div>
            </div>

            <!-- Messages Screen -->
            <div id="socialMessages" class="screen">
                <div style="display: grid; grid-template-columns: 350px 1fr; height: calc(100vh - 140px);">
                    <!-- Conversations List -->
                    <aside style="background: var(--bg-card); border-right: 1px solid var(--glass-border);">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
                            <h2 style="margin-bottom: 1rem;">Messages</h2>
                            <label for="conversationSearch" class="sr-only">Search conversations</label>
                            <input type="text" id="conversationSearch" placeholder="Search conversations..." style="width: 100%; padding: 0.75rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary);" onkeyup="searchConversations(this.value)">
                        </div>
                        <div id="conversationsList" role="list" aria-label="Conversations">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </aside>
                    
                    <!-- Chat Area -->
                    <main style="display: flex; flex-direction: column;" id="chatArea">
                        <!-- Will be populated when a conversation is selected -->
                        <div style="flex: 1; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                            <div style="text-align: center;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;" role="img" aria-label="Chat">💬</div>
                                <h3>Select a conversation to start chatting</h3>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <!-- Profile Screen -->
            <div id="socialProfile" class="screen">
                <div class="page-layout">
                    <div class="card" style="text-align: center;">
                        <div style="width: 120px; height: 120px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; margin: 0 auto 1rem;" aria-label="Profile picture">JD</div>
                        <h2>John Doe</h2>
                        <p style="color: var(--text-secondary); margin: 1rem 0;">Software Engineer & Social Media Enthusiast</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-number">1,247</div>
                                <div class="stat-label">Followers</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">892</div>
                                <div class="stat-label">Following</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">156</div>
                                <div class="stat-label">Posts</div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="editProfile()">Edit Profile</button>
                            <button class="btn btn-secondary" onclick="viewMyPosts()">My Posts</button>
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h3 style="margin-bottom: 1rem;">Recent Posts</h3>
                        <div class="grid-3" id="userPosts">
                            <!-- User's posts will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Groups Screen -->
            <div id="socialGroups" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>Groups</h1>
                        <button class="btn btn-primary" onclick="createGroup()">+ Create Group</button>
                    </div>
                    
                    <div class="grid-3" id="groupsList" role="list" aria-label="Groups">
                        <!-- Groups will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Events Screen -->
            <div id="socialEvents" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>Events</h1>
                        <button class="btn btn-primary" onclick="createNewEvent()">+ Create Event</button>
                    </div>
                    
                    <div class="grid-3" id="eventsList" role="list" aria-label="Events">
                        <!-- Events will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Stories Screen -->
            <div id="socialStories" class="screen">
                <div class="page-layout">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h1>Stories</h1>
                        <button class="btn btn-primary" onclick="createStory()">+ Add Story</button>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; overflow-x: auto; padding: 1rem 0;" id="storiesList" role="list" aria-label="Stories">
                        <!-- Stories will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Explore Screen -->
            <div id="socialExplore" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Explore</h1>
                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Discover">🌟</div>
                            <h3>Discover Content</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Find trending posts and viral content</p>
                            <button class="btn btn-primary" onclick="discoverContent()">Explore Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="People">👥</div>
                            <h3>Meet People</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Connect with interesting people worldwide</p>
                            <button class="btn btn-primary" onclick="openMeetPeopleDashboard()">Find Friends</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Interests">🎯</div>
                            <h3>Your Interests</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Content tailored to your preferences</p>
                            <button class="btn btn-primary" onclick="openPersonalizationDashboard()">Personalize</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Screen -->
            <div id="socialSearch" class="screen">
                <div class="page-layout">
                    <div style="text-align: center; margin-bottom: 3rem;">
                        <h1 style="font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">🔍 Search</h1>
                        <div style="max-width: 600px; margin: 0 auto; position: relative;">
                            <label for="socialSearchInput" class="sr-only">Search people, posts, groups, events</label>
                            <input type="text" id="socialSearchInput" placeholder="Search people, posts, groups, events..." style="width: 100%; padding: 1rem 1.5rem; padding-right: 4rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 25px; color: var(--text-primary); font-size: 1.1rem;" onkeyup="performSearch(this.value)">
                            <button style="position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); background: var(--primary); border: none; border-radius: 50%; width: 40px; height: 40px; color: white; cursor: pointer; font-size: 1.2rem;" onclick="performSearch(document.getElementById('socialSearchInput').value)" aria-label="Search">🔍</button>
                        </div>
                    </div>

                    <div id="searchResults" style="display: none;" role="region" aria-label="Search results">
                        <!-- Search results will be displayed here -->
                    </div>

                    <div id="searchDefault">
                        <div class="grid-2" style="margin-bottom: 3rem;">
                            <div class="card">
                                <h3 style="margin-bottom: 1.5rem;">🔥 Trending</h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;" id="trendingTopics">
                                    <!-- Trending topics will be populated -->
                                </div>
                            </div>
                            <div class="card">
                                <h3 style="margin-bottom: 1.5rem;">👥 Suggested People</h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;" id="suggestedPeople">
                                    <!-- Suggested people will be populated -->
                                </div>
                            </div>
                        </div>

                        <div class="grid-3">
                            <div class="card" style="text-align: center;" onclick="searchCategory('posts')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Posts">📝</div>
                                <h3>Posts</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Search through millions of posts</p>
                                <button class="btn btn-secondary">Search Posts</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="searchCategory('groups')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Groups">👥</div>
                                <h3>Groups</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Find communities you'll love</p>
                                <button class="btn btn-secondary">Find Groups</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="searchCategory('events')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Events">📅</div>
                                <h3>Events</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Discover events near you</p>
                                <button class="btn btn-secondary" onclick="openEventsFinderModal()">Find Events</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Screen -->
            <div id="socialSettings" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Settings</h1>
                    
                    <div class="grid-2">
                        <div class="card">
                            <h3>Privacy Settings</h3>
                            <div style="margin-top: 1rem;">
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Profile visibility</span>
                                    <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Profile visibility">
                                        <option>Public</option>
                                        <option>Friends only</option>
                                        <option>Private</option>
                                    </select>
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Show online status</span>
                                    <input type="checkbox" checked aria-label="Show online status">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Allow message requests</span>
                                    <input type="checkbox" checked aria-label="Allow message requests">
                                </label>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Notifications</h3>
                            <div style="margin-top: 1rem;">
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Push notifications</span>
                                    <input type="checkbox" checked aria-label="Push notifications">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Email notifications</span>
                                    <input type="checkbox" aria-label="Email notifications">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Sound notifications</span>
                                    <input type="checkbox" checked aria-label="Sound notifications">
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3>Account Management</h3>
                        <div style="margin-top: 1rem; display: flex; gap: 1rem;">
            <button class="btn btn-secondary" onclick="openChangePasswordModal()">Change Password</button>
            <button class="btn btn-secondary" onclick="openDataExportModal()">Download Data</button>
            <button class="btn btn-error">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- DATING CATEGORY -->
        <section id="datingCategory" class="category-section" aria-label="Dating">
            <!-- Swipe Screen -->
            <div id="datingSwipe" class="screen active">
                <div style="max-width: 1200px; margin: 0 auto; padding: 2rem;">
                    <div style="display: grid; grid-template-columns: 280px 1fr 280px; gap: 2rem; height: calc(100vh - 180px);">
                        
                        <!-- Left Sidebar - Quick Stats & Tools -->
                        <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                            <h3 style="margin-bottom: 1.5rem;">Your Stats</h3>
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--secondary);" id="likesReceived">24</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Likes Received</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--primary);" id="matchesToday">3</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Matches Today</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1.5rem;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--accent);" id="profileViews">156</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Profile Views</div>
                            </div>
                            
                            <button class="btn btn-primary" style="width: 100%; margin-bottom: 0.5rem;" onclick="openBoostProfile()">⚡ Boost Profile</button>
                            <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;" onclick="openProfileChecker()">✓ Profile Check</button>
                            <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;" onclick="openSwipeTutorial()">📚 Tutorial</button>
                            <button class="btn btn-secondary" style="width: 100%;" onclick="openSafetyCenter()">🛡️ Safety</button>
                        </aside>

                        <!-- Center - Swipe Card -->
                        <main style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="position: relative; width: 100%; max-width: 450px;">
                                <div class="dating-card card-enter" id="datingCard" style="width: 100%; height: 650px;" role="img" aria-label="Dating profile card">
                                    <div id="datingCardContent">
                                        <!-- Dating card content -->
                                        <div style="height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative;">
                                            <img class="card-image" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=600&fit=crop" alt="Profile photo">
                                            <div class="card-info">
                                                <div class="card-name">Sarah, 28</div>
                                                <div class="card-details">📍 2 miles away • 🎓 Designer</div>
                                                <div class="card-bio">
                                                    Love hiking, coffee, and spontaneous adventures! Looking for someone who can keep up with my energy ☕🏔️
                                                </div>
                                                <div style="margin-top: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                                    <span style="padding: 0.25rem 0.75rem; background: rgba(255,255,255,0.2); border-radius: 20px; font-size: 0.85rem;">🎨 Art</span>
                                                    <span style="padding: 0.25rem 0.75rem; background: rgba(255,255,255,0.2); border-radius: 20px; font-size: 0.85rem;">🧘 Yoga</span>
                                                    <span style="padding: 0.25rem 0.75rem; background: rgba(255,255,255,0.2); border-radius: 20px; font-size: 0.85rem;">🎵 Music</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Quick Actions on Card -->
                                    <div style="position: absolute; top: 1rem; right: 1rem; display: flex; gap: 0.5rem;">
                                        <button style="width: 40px; height: 40px; border: none; border-radius: 50%; background: rgba(0,0,0,0.5); color: white; cursor: pointer; backdrop-filter: blur(10px);" onclick="openPhotoGallery()" aria-label="View photos">📷</button>
                                        <button style="width: 40px; height: 40px; border: none; border-radius: 50%; background: rgba(0,0,0,0.5); color: white; cursor: pointer; backdrop-filter: blur(10px);" onclick="reportProfile()" aria-label="Report">🚩</button>
                                    </div>
                                </div>

                                <!-- Swipe Buttons -->
                                <div style="display: flex; justify-content: center; gap: 1.5rem; margin-top: 2rem;">
                                    <button class="swipe-button" style="width: 55px; height: 55px; border: none; border-radius: 50%; background: var(--glass); color: var(--warning); font-size: 1.3rem; cursor: pointer; transition: all 0.3s ease; border: 2px solid var(--glass-border);" onclick="rewindSwipe()" aria-label="Rewind" title="Rewind last swipe">↩️</button>
                                    <button class="swipe-button" style="width: 70px; height: 70px; border: none; border-radius: 50%; background: var(--error); color: white; font-size: 1.8rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);" onclick="swipeCard('left')" aria-label="Pass">✕</button>
                                    <button class="swipe-button" style="width: 60px; height: 60px; border: none; border-radius: 50%; background: var(--accent); color: white; font-size: 1.5rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(6, 182, 212, 0.4);" onclick="superLike()" aria-label="Super Like" title="Super Like">⭐</button>
                                    <button class="swipe-button" style="width: 70px; height: 70px; border: none; border-radius: 50%; background: var(--success); color: white; font-size: 1.8rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);" onclick="swipeCard('right')" aria-label="Like">💚</button>
                                    <button class="swipe-button" style="width: 55px; height: 55px; border: none; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white; font-size: 1.3rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4);" onclick="openMatchPreview()" aria-label="Preview Match" title="Instant Match Preview">👁️</button>
                                </div>

                                <!-- Swipe Reason Selector -->
                                <div id="swipeReasonPanel" style="display: none; margin-top: 1rem; padding: 1rem; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 12px;">
                                    <p style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Why did you pass?</p>
                                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                        <span class="btn btn-secondary btn-small" onclick="submitSwipeReason('distance')">Too far</span>
                                        <span class="btn btn-secondary btn-small" onclick="submitSwipeReason('interests')">Different interests</span>
                                        <span class="btn btn-secondary btn-small" onclick="submitSwipeReason('photos')">Not my type</span>
                                        <span class="btn btn-secondary btn-small" onclick="submitSwipeReason('other')">Other</span>
                                    </div>
                                </div>
                            </div>

                            <div style="text-align: center; margin-top: 2rem; display: flex; gap: 1rem; justify-content: center;">
                                <button class="btn btn-secondary" onclick="openMatchesModal()">💬 Matches</button>
                                <button class="btn btn-secondary" onclick="openAdvancedFilters()">🔍 Filters</button>
                                <button class="btn btn-secondary" onclick="openPreferencesModal()">⚙️ Preferences</button>
                            </div>
                        </main>

                        <!-- Right Sidebar - Icebreakers & Tips -->
                        <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                            <h3 style="margin-bottom: 1.5rem;">💡 Icebreakers</h3>
                            <div id="icebreakerList">
                                <div class="icebreaker-item" onclick="useIcebreaker(this)">
                                    "What's your favorite hidden gem in the city?"
                                </div>
                                <div class="icebreaker-item" onclick="useIcebreaker(this)">
                                    "Coffee or tea? ☕🍵"
                                </div>
                                <div class="icebreaker-item" onclick="useIcebreaker(this)">
                                    "What's the best concert you've been to?"
                                </div>
                            </div>
                            
                            <div style="margin-top: 2rem; padding: 1rem; background: var(--glass); border-radius: 12px;">
                                <h4 style="margin-bottom: 0.5rem;">🎯 Match Tips</h4>
                                <p style="color: var(--text-secondary); font-size: 0.85rem; line-height: 1.5;">Complete your profile to increase matches by 40%!</p>
                            </div>

                            <div style="margin-top: 1rem; padding: 1rem; background: var(--glass); border-radius: 12px;">
                                <h4 style="margin-bottom: 0.5rem;">⚡ Boost Active</h4>
                                <div style="display: flex; justify-content: space-between; align-items: center; color: var(--text-secondary); font-size: 0.85rem;">
                                    <span>Time left:</span>
                                    <span style="color: var(--primary); font-weight: 600;" id="boostTimer">45 min</span>
                                </div>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>

            <!-- Matches Screen -->
            <div id="datingMatches" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">Your Matches</h1>
                    <div class="grid-3" id="matchesList" role="list" aria-label="Dating matches">
                        <!-- Matches will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Dating Chat Screen -->
            <div id="datingChat" class="screen">
                <div style="display: grid; grid-template-columns: 300px 1fr; height: calc(100vh - 140px);">
                    <!-- Matches List -->
                    <aside style="background: var(--bg-card); border-right: 1px solid var(--glass-border);">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
                            <h3>Your Matches</h3>
                        </div>
                        <div id="datingChatList" role="list" aria-label="Dating matches">
                            <!-- Dating matches will be populated here -->
                        </div>
                    </aside>
                    
                    <!-- Dating Chat Area -->
                    <main style="display: flex; flex-direction: column;" id="datingChatArea">
                        <div style="flex: 1; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                            <div style="text-align: center;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;" role="img" aria-label="Heart">💕</div>
                                <h3>Select a match to start chatting</h3>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <!-- Dating Preferences Screen -->
            <div id="datingPreferences" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Dating Preferences</h1>
                    
                    <div class="grid-2">
                        <div class="card">
                            <h3>Basic Preferences</h3>
                            <div style="margin-top: 1rem;">
                                <div class="form-group">
                                    <label class="form-label" for="ageRange">Age Range: <span id="ageRangeValue">18-35</span></label>
                                    <input type="range" id="ageRange" min="18" max="80" value="35" style="width: 100%;" oninput="updateAgeRange(this.value)">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="distance">Distance: <span id="distanceValue">25 miles</span></label>
                                    <input type="range" id="distance" min="1" max="100" value="25" style="width: 100%;" oninput="updateDistance(this.value)">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Looking for</label>
                                    <select class="form-input" aria-label="Relationship type">
                                        <option>Long-term relationship</option>
                                        <option>Casual dating</option>
                                        <option>Friendship</option>
                                        <option>Something casual</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Interests</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem;">Select your interests to find better matches</p>
                            <div style="margin-top: 1rem; display: flex; flex-wrap: gap: 0.5rem;" id="interestTags">
                                <!-- Interest tags will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3>Advanced Filters</h3>
                        <div class="grid-2" style="margin-top: 1rem;">
                            <label style="display: flex; justify-content: space-between; align-items: center;">
                                <span>Education</span>
                                <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Education level">
                                    <option>Any</option>
                                    <option>High School</option>
                                    <option>College</option>
                                    <option>Graduate Degree</option>
                                </select>
                            </label>
                            <label style="display: flex; justify-content: space-between; align-items: center;">
                                <span>Has Children</span>
                                <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Has children">
                                    <option>No preference</option>
                                    <option>Yes</option>
                                    <option>No</option>
                                </select>
                            </label>
                        </div>
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-primary">Save Preferences</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MEDIA CATEGORY -->
        <section id="mediaCategory" class="category-section" aria-label="Media">
            <!-- Music Screen -->
            <div id="mediaMusic" class="screen active">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🎵 Music Hub</h1>
                    
                    <div class="media-player">
                        <div class="media-display" id="albumArt" role="img" aria-label="Album artwork">🎵</div>
                        <h3 id="currentTrack">Now Playing</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;" id="artistName">Artist Name - Song Title</p>
                        
                        <div class="progress-bar" onclick="seekTrack(event)" role="slider" aria-label="Track progress" tabindex="0">
                            <div class="progress-fill" id="progressFill" style="width: 30%;"></div>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                            <button style="width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--glass); color: var(--text-primary); cursor: pointer; font-size: 1.2rem; transition: all 0.3s ease;" onclick="previousTrack()" aria-label="Previous track">⮮</button>
                            <button style="width: 60px; height: 60px; border-radius: 50%; border: none; background: var(--primary); color: white; cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="togglePlayPause()" id="playButton" aria-label="Play/Pause">▶️</button>
                            <button style="width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--glass); color: var(--text-primary); cursor: pointer; font-size: 1.2rem; transition: all 0.3s ease;" onclick="nextTrack()" aria-label="Next track">⭮</button>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                            <button class="btn btn-secondary btn-small" onclick="toggleShuffle()" id="shuffleButton">🔀 Shuffle</button>
                            <button class="btn btn-secondary btn-small" onclick="toggleRepeat()" id="repeatButton">🔁 Repeat</button>
                            <button class="btn btn-primary btn-small" onclick="shareTrack()">📤 Share</button>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" onclick="openMusicLibrary()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Library">🎧</div>
                            <h3>Your Library</h3>
                            <p style="color: var(--text-secondary);">Access your saved songs and playlists</p>
                            <button class="btn btn-primary">Open Library</button>
                        </div>
                        <div class="card" onclick="startLiveSession()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Microphone">🎤</div>
                            <h3>Live Sessions</h3>
                            <p style="color: var(--text-secondary);">Stream live music to your audience</p>
                            <button class="btn btn-primary">Start Session</button>
                        </div>
                        <div class="card" onclick="discoverMusic()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Music note">🎼</div>
                            <h3>Discover</h3>
                            <p style="color: var(--text-secondary);">Find new music based on your taste</p>
                            <button class="btn btn-secondary">Discover Music</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Streaming Screen -->
            <div id="mediaLive" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">📺 Live Streaming</h1>
                    
                    <div class="grid-2">
                        <div>
                            <div style="aspect-ratio: 16/9; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; position: relative; display: flex; align-items: center; justify-content: center; font-size: 4rem; margin-bottom: 2rem;" id="videoPreview" role="img" aria-label="Video preview">
                                🎥
                                <div style="position: absolute; bottom: 1rem; left: 1rem; right: 1rem; display: flex; gap: 1rem; justify-content: center;">
                                    <button class="btn btn-secondary btn-small" onclick="toggleMic()" id="micButton">🎤 Mic</button>
                                    <button class="btn btn-error btn-small" onclick="toggleStream()" id="streamButton">🔴 Go Live</button>
                                    <button class="btn btn-secondary btn-small" onclick="toggleCamera()" id="cameraButton">📷 Camera</button>
                                </div>
                            </div>
                            <div style="text-align: center;">
                                <h3>Live Stream Controls</h3>
                                <div style="margin: 1rem 0;">
                                    <span id="viewerCount">0 viewers</span> • <span id="streamDuration">00:00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem;">
                            <h3 style="margin-bottom: 1rem;">Live Chat</h3>
                            <div style="height: 300px; overflow-y: auto; margin-bottom: 1rem; background: var(--glass); border-radius: 12px; padding: 1rem;" id="liveChatMessages" role="log" aria-label="Live chat messages">
                                <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: var(--glass-border); border-radius: 8px;">
                                    <strong>User123:</strong> Amazing stream! 🔥
                                </div>
                                <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: var(--glass-border); border-radius: 8px;">
                                    <strong>MusicLover:</strong> Great setup! 
                                </div>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <label for="chatInput" class="sr-only">Chat message</label>
                                <input type="text" id="chatInput" placeholder="Say something..." style="flex: 1; padding: 0.5rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--text-primary);" onkeypress="sendChatMessage(event)">
                                <button class="btn btn-primary btn-small" onclick="sendChatMessage()">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Calls Screen -->
            <div id="mediaVideo" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">📹 Video Calls</h1>
                    <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                        <div style="aspect-ratio: 16/9; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; margin-bottom: 2rem; display: flex; align-items: center; justify-content: center; font-size: 4rem;" id="videoCallArea" role="img" aria-label="Video call area">📹</div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
                            <button class="btn btn-primary" onclick="startVideoCall()">📹 Start Call</button>
                            <button class="btn btn-secondary" onclick="scheduleCall()">📅 Schedule</button>
                            <button class="btn btn-secondary" onclick="viewCallHistory()">📋 History</button>
                        </div>
                        
                        <div class="grid-3">
                            <div class="card" style="text-align: center;">
                                <h4>Recent Calls</h4>
                                <div style="margin-top: 1rem;" id="recentCalls">
                                    <!-- Recent calls will be populated -->
                                </div>
                            </div>
                            <div class="card" style="text-align: center;">
                                <h4>Scheduled Calls</h4>
                                <div style="margin-top: 1rem;" id="scheduledCalls">
                                    <!-- Scheduled calls will be populated -->
                                </div>
                            </div>
                            <div class="card" style="text-align: center;">
                                <h4>Contacts</h4>
                                <div style="margin-top: 1rem;">
                                    <button class="btn btn-secondary btn-small" onclick="addContact()">+ Add Contact</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AR/VR Screen -->
            <div id="mediaAr" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🥽 AR/VR Experiences</h1>
                    
                    <div class="grid-3">
                        <div class="card" style="text-align: center;" onclick="launchARExperience('face-filters')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Face filters">😀</div>
                            <h3>Face Filters</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Fun AR face filters and effects</p>
                            <button class="btn btn-primary">Try Filters</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('virtual-rooms')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Virtual rooms">🏠</div>
                            <h3>Virtual Rooms</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Meet friends in virtual spaces</p>
                            <button class="btn btn-primary">Enter Room</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('360-videos')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="360 videos">🌍</div>
                            <h3>360° Videos</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Immersive video experiences</p>
                            <button class="btn btn-primary">Watch Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('virtual-shopping')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Virtual shopping">🛍️</div>
                            <h3>Virtual Shopping</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Try before you buy in VR</p>
                            <button class="btn btn-primary">Shop VR</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('ar-games')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="AR games">🎮</div>
                            <h3>AR Games</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Interactive augmented reality games</p>
                            <button class="btn btn-primary">Play AR</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('meditation')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Meditation">🧘</div>
                            <h3>VR Meditation</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Peaceful virtual environments</p>
                            <button class="btn btn-primary">Meditate</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EXTRA CATEGORY -->
        <section id="extraCategory" class="category-section" aria-label="Extra features">
            <!-- Games Screen -->
            <div id="extraGames" class="screen active">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🎮 Games</h1>
                    
                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Tic tac toe">❌⭕</div>
                            <h3>Tic Tac Toe</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Classic game for quick matches</p>
                            <button class="btn btn-primary" onclick="playGame('tictactoe')">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Memory">🧠</div>
                            <h3>Memory Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Test your memory skills</p>
                            <button class="btn btn-primary" onclick="playGame('memory')">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Quiz">❓</div>
                            <h3>Quiz Challenge</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Test your knowledge</p>
                            <button class="btn btn-primary" onclick="playGame('quiz')">Start Quiz</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Puzzle">🧩</div>
                            <h3>Puzzle Games</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Challenge your mind with puzzles</p>
                            <button class="btn btn-primary" onclick="playGame('puzzle')">Play Puzzle</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Cards">🃏</div>
                            <h3>Card Games</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Classic card games collection</p>
                            <button class="btn btn-primary" onclick="playGame('cards')">Play Cards</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Strategy">♟️</div>
                            <h3>Strategy Games</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Think ahead and plan your moves</p>
                            <button class="btn btn-primary" onclick="playGame('strategy')">Play Strategy</button>
                        </div>
                    </div>

                    <div style="margin-top: 3rem;">
                        <h2 style="text-align: center; margin-bottom: 2rem;">🎮 Gaming Features</h2>
                        <div class="grid-4">
                            <div class="card" style="text-align: center;" onclick="gamingMissingUI.createAchievementGallery('gaming-interface-container')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Trophy">🏆</div>
                                <h3>Achievement Gallery</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">View all your unlocked achievements and progress</p>
                                <button class="btn btn-primary">Open Gallery</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="gamingMissingUI.createDailyChallengesInterface('gaming-interface-container')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Calendar">📅</div>
                                <h3>Daily Challenges</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Complete daily challenges to earn rewards</p>
                                <button class="btn btn-primary">View Challenges</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="gamingMissingUI.createTournamentSystem('gaming-interface-container')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Tournament">🏆</div>
                                <h3>Tournaments</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Join tournaments and compete with others</p>
                                <button class="btn btn-primary">Join Tournament</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="gamingMissingUI.createGameHistoryStats('gaming-interface-container')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Stats">📊</div>
                                <h3>Game History & Stats</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Detailed stats and game history analysis</p>
                                <button class="btn btn-primary">View Stats</button>
                            </div>
                        </div>
                    </div>

                    <!-- Gaming Interface Container -->
                    <div id="gaming-interface-container" style="margin-top: 2rem;">
                        <!-- Gaming interfaces will be dynamically loaded here -->
                    </div>

                    <div style="margin-top: 3rem;">
                        <h2 style="text-align: center; margin-bottom: 2rem;">🏆 Leaderboards</h2>
                        <div class="grid-2">
                            <div class="card">
                                <h3>Top Players This Week</h3>
                                <div style="margin-top: 1rem;" id="weeklyLeaderboard">
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--glass-border);">
                                        <span>🥇 Alex Chen</span>
                                        <span>2,450 pts</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--glass-border);">
                                        <span>🥈 Sarah Miller</span>
                                        <span>2,120 pts</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                                        <span>🥉 Mike Johnson</span>
                                        <span>1,890 pts</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <h3>Your Game Stats</h3>
                                <div style="margin-top: 1rem;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Games Played:</span>
                                        <span>47</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Win Rate:</span>
                                        <span>68%</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Current Streak:</span>
                                        <span>5 wins</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Best Score:</span>
                                        <span>1,245 pts</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marketplace Screen -->
            <div id="extraMarketplace" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>🛒 Marketplace</h1>
                        <div>
                            <button class="btn btn-primary" onclick="listItem()">+ List Item</button>
                            <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="marketplaceMissingUI.showShoppingCartManager()">🛒 Cart (<span id="cartCount">2</span>)</button>
                        </div>
                    </div>

                    <!-- Advanced Marketplace Features -->
                    <div style="margin-bottom: 3rem;">
                        <h2 style="margin-bottom: 1.5rem;">🌟 Advanced Marketplace Features</h2>
                        <div class="grid-3">
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showAdvancedProductViewer()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Product viewer">🔍</div>
                                <h3>Advanced Product Viewer</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Detailed product information with 360° views, specifications, and reviews</p>
                                <button class="btn btn-primary">View Products</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showShoppingCartManager()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Shopping cart">🛒</div>
                                <h3>Shopping Cart Manager</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Advanced cart with promo codes, recommendations, and secure checkout</p>
                                <button class="btn btn-primary">Manage Cart</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showOrderTrackingSystem()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Package tracking">📦</div>
                                <h3>Order Tracking</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Real-time order tracking with detailed delivery timeline</p>
                                <button class="btn btn-primary">Track Orders</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showSellerProfileManager()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Store">🏪</div>
                                <h3>Seller Profiles</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Explore seller stores with products, reviews, and policies</p>
                                <button class="btn btn-primary">View Stores</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showWishlistManager()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Wishlist">🤍</div>
                                <h3>Wishlist Manager</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Save items for later with price drop alerts and insights</p>
                                <button class="btn btn-primary">My Wishlist</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="marketplaceMissingUI.showAdvancedSearchSystem()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Advanced search">🔍</div>
                                <h3>Advanced Search</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Powerful search with filters, sorting, and multiple view options</p>
                                <button class="btn btn-primary">Advanced Search</button>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 2rem;">
                        <label for="marketplaceSearch" class="sr-only">Search marketplace</label>
                        <input type="text" id="marketplaceSearch" placeholder="Search marketplace..." style="width: 100%; padding: 1rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary);" onkeyup="searchMarketplace(this.value)">
                    </div>

                    <div style="display: flex; gap: 1rem; margin-bottom: 2rem; overflow-x: auto;">
                        <button class="btn btn-secondary btn-small category-filter active" data-category="all">All Items</button>
                        <button class="btn btn-secondary btn-small category-filter" data-category="electronics">Electronics</button>
                        <button class="btn btn-secondary btn-small category-filter" data-category="fashion">Fashion</button>
                        <button class="btn btn-secondary btn-small category-filter" data-category="home">Home & Garden</button>
                        <button class="btn btn-secondary btn-small category-filter" data-category="books">Books</button>
                        <button class="btn btn-secondary btn-small category-filter" data-category="sports">Sports</button>
                    </div>

                    <div class="grid-3" id="marketplaceItems" role="list" aria-label="Marketplace items">
                        <!-- Marketplace items will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Business Screen -->
            <div id="extraBusiness" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">💼 Business Dashboard</h1>
                    
                    <div class="grid-2" style="margin-bottom: 2rem;">
                        <div class="card">
                            <h3>📊 Analytics Overview</h3>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary); margin: 1rem 0;">$12,450</div>
                            <p style="color: var(--text-secondary);">Monthly Revenue (+23%)</p>
                            <div style="margin-top: 1rem;">
                                <div style="margin-bottom: 0.5rem;">Page Views: 45,321 (+12%)</div>
                                <div style="margin-bottom: 0.5rem;">Engagement: 23.4% (+5%)</div>
                                <div>Conversions: 156 (+18%)</div>
                            </div>
                            <button class="btn btn-primary" style="margin-top: 1rem;" onclick="viewDetailedAnalytics()">View Details</button>
                        </div>
                        <div class="card">
                            <h3>🎯 Advertising</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Promote your content to reach more customers</p>
                            <div style="margin: 1rem 0;">
                                <div style="margin-bottom: 0.5rem;">Active Campaigns: 3</div>
                                <div style="margin-bottom: 0.5rem;">Ad Spend: $2,340</div>
                                <div>ROAS: 4.2x</div>
                            </div>
                            <button class="btn btn-primary" onclick="createAd()">Create Ad</button>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Sales">📈</div>
                            <h3>Sales Funnel</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Track your customer journey</p>
                            <button class="btn btn-secondary" onclick="viewSalesFunnel()">View Funnel</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Customers">👥</div>
                            <h3>Customer Management</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Manage your customer relationships</p>
                            <button class="btn btn-secondary" onclick="viewCustomers()">View Customers</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Inventory">📦</div>
                            <h3>Inventory</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Track your products and stock</p>
                            <button class="btn btn-secondary" onclick="viewInventory()">View Inventory</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Reports">📋</div>
                            <h3>Reports</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Generate detailed business reports</p>
                            <button class="btn btn-secondary" onclick="generateReports()">Generate</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Team">👥</div>
                            <h3>Team Management</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Manage your team and permissions</p>
                            <button class="btn btn-secondary" onclick="manageTeam()">Manage Team</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Integrations">🔗</div>
                            <h3>Integrations</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Connect with third-party tools</p>
                            <button class="btn btn-secondary" onclick="viewIntegrations()">View All</button>
                        </div>
                    </div>

                    <!-- Enterprise Features Section -->
                    <div style="margin-top: 3rem;">
                        <h2 style="margin-bottom: 1.5rem;">🏢 Enterprise Features</h2>
                        <div class="grid-4">
                            <div class="card" style="text-align: center;" onclick="enterpriseMissingUI.showAdvancedAnalyticsDashboard()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Analytics">📊</div>
                                <h3>Advanced Analytics</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Comprehensive business metrics and performance insights</p>
                                <button class="btn btn-primary">Open Dashboard</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="enterpriseMissingUI.showTeamManagementInterface()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Team management">👥</div>
                                <h3>Team Management</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Invite members, assign roles, and manage permissions</p>
                                <button class="btn btn-primary">Manage Team</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="enterpriseMissingUI.showEnterpriseAdminPanel()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Admin panel">⚙️</div>
                                <h3>Admin Panel</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">System settings, API management, and whitelabel configuration</p>
                                <button class="btn btn-primary">Admin Settings</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="enterpriseMissingUI.showContentModerationDashboard()" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Content moderation">🛡️</div>
                                <h3>Content Moderation</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Review content, manage reports, and user moderation tools</p>
                                <button class="btn btn-primary">Open Dashboard</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wallet Screen -->
            <div id="extraWallet" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">💰 Wallet</h1>
                    
                    <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white; border-radius: 20px; padding: 2rem; margin-bottom: 2rem; text-align: center;">
                        <h3>Lynk Coins</h3>
                        <div style="font-size: 2.5rem; font-weight: 800; margin: 1rem 0;" id="coinBalance">2,450</div>
                        <p>Available Balance</p>
                        <div style="display: flex; gap: 1rem; margin-top: 2rem; justify-content: center; flex-wrap: wrap;">
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="buyCoins()">+ Buy Coins</button>
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="sendCoins()">📤 Send</button>
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="requestCoins()">📥 Request</button>
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="exchangeCoins()">🔄 Exchange</button>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <h3>Recent Transactions</h3>
                            <div style="margin-top: 1rem;" id="transactionHistory">
                                <!-- Transaction history will be populated -->
                            </div>
                            <button class="btn btn-secondary" style="margin-top: 1rem; width: 100%;" onclick="viewAllTransactions()">View All Transactions</button>
                        </div>
                        <div class="card">
                            <h3>Earning Opportunities</h3>
                            <div style="margin-top: 1rem;">
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                    <div style="font-weight: 600;">Daily Check-in</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">Earn 50 coins daily</div>
                                    <button class="btn btn-primary btn-small" style="margin-top: 0.5rem;" onclick="dailyCheckin()">Claim</button>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                    <div style="font-weight: 600;">Invite Friends</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">Earn 100 coins per referral</div>
                                    <button class="btn btn-secondary btn-small" style="margin-top: 0.5rem;" onclick="inviteFriends()">Invite</button>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                    <div style="font-weight: 600;">Complete Tasks</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">Earn coins by completing challenges</div>
                                    <button class="btn btn-secondary btn-small" style="margin-top: 0.5rem;" onclick="viewTasks()">View Tasks</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3>Coin Packages</h3>
                        <div class="grid-3" style="margin-top: 1rem;">
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">💰</div>
                                <div style="font-weight: 600;">Starter Pack</div>
                                <div style="color: var(--primary); font-size: 1.5rem; margin: 0.5rem 0;">500 Coins</div>
                                <div style="color: var(--text-secondary); margin-bottom: 1rem;">$4.99</div>
                                <button class="btn btn-primary btn-small" onclick="purchaseCoins(500, 4.99)">Buy Now</button>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px; border: 2px solid var(--primary);">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">💎</div>
                                <div style="font-weight: 600;">Popular Pack</div>
                                <div style="color: var(--primary); font-size: 1.5rem; margin: 0.5rem 0;">1,200 Coins</div>
                                <div style="color: var(--text-secondary); margin-bottom: 1rem;">$9.99 <span style="color: var(--success);">(20% bonus)</span></div>
                                <button class="btn btn-primary btn-small" onclick="purchaseCoins(1200, 9.99)">Buy Now</button>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: var(--glass); border-radius: 12px;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">🏆</div>
                                <div style="font-weight: 600;">Premium Pack</div>
                                <div style="color: var(--primary); font-size: 1.5rem; margin: 0.5rem 0;">2,500 Coins</div>
                                <div style="color: var(--text-secondary); margin-bottom: 1rem;">$19.99 <span style="color: var(--success);">(25% bonus)</span></div>
                                <button class="btn btn-primary btn-small" onclick="purchaseCoins(2500, 19.99)">Buy Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Screen -->
            <div id="extraAnalytics" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">📊 Analytics</h1>
                    
                    <div class="grid-3" style="margin-bottom: 2rem;">
                        <div class="card" style="text-align: center;">
                            <h4>Total Followers</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary); margin: 0.5rem 0;">1,247</div>
                            <div style="color: var(--success); font-size: 0.9rem;">+12% this week</div>
                        </div>
                        <div class="card" style="text-align: center;">
                            <h4>Post Engagement</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--secondary); margin: 0.5rem 0;">23.4%</div>
                            <div style="color: var(--success); font-size: 0.9rem;">+5% this week</div>
                        </div>
                        <div class="card" style="text-align: center;">
                            <h4>Profile Views</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent); margin: 0.5rem 0;">5,892</div>
                            <div style="color: var(--error); font-size: 0.9rem;">-2% this week</div>
                        </div>
                    </div>

                    <div class="grid-2" style="margin-bottom: 2rem;">
                        <div class="card">
                            <h3>Weekly Performance</h3>
                            <div style="height: 200px; background: var(--glass); border-radius: 12px; margin-top: 1rem; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                                📈 Chart visualization would display here
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 1rem;">
                                <button class="btn btn-secondary btn-small">Export Data</button>
                                <button class="btn btn-primary btn-small">View Details</button>
                            </div>
                        </div>
                        <div class="card">
                            <h3>Top Content</h3>
                            <div style="margin-top: 1rem;">
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                    <div style="font-weight: 600;">My latest project update</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">245 likes • 23 comments • 12 shares</div>
                                    <div style="color: var(--success); font-size: 0.8rem; margin-top: 0.25rem;">+15% engagement</div>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem;">
                                    <div style="font-weight: 600;">Weekend adventure photos</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">189 likes • 34 comments • 8 shares</div>
                                    <div style="color: var(--warning); font-size: 0.8rem; margin-top: 0.25rem;">+2% engagement</div>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px;">
                                    <div style="font-weight: 600;">Tech tips and tricks</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">156 likes • 45 comments • 18 shares</div>
                                    <div style="color: var(--success); font-size: 0.8rem; margin-top: 0.25rem;">+28% engagement</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Audience">👥</div>
                            <h3>Audience Insights</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Understand your followers better</p>
                            <button class="btn btn-secondary" onclick="viewAudienceInsights()">View Insights</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Growth">📈</div>
                            <h3>Growth Tracking</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Monitor your account growth</p>
                            <button class="btn btn-secondary" onclick="viewGrowthTracking()">Track Growth</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Competitor">🎯</div>
                            <h3>Competitor Analysis</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Compare with similar accounts</p>
                            <button class="btn btn-secondary" onclick="viewCompetitorAnalysis()">Analyze</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Help Screen -->
            <div id="extraHelp" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">❓ Help & Support</h1>
                    
                    <div class="grid-2" style="margin-bottom: 2rem;">
                        <div class="card">
                            <h3>Quick Actions</h3>
                            <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
                                <button class="btn btn-secondary" onclick="contactSupport()">📧 Contact Support</button>
                                <button class="btn btn-secondary" onclick="reportIssue()">🐛 Report Issue</button>
                                <button class="btn btn-secondary" onclick="provideFeedback()">💭 Provide Feedback</button>
                                <button class="btn btn-secondary" onclick="requestFeature()">💡 Request Feature</button>
                            </div>
                        </div>
                        <div class="card">
                            <h3>Account Status</h3>
                            <div style="margin-top: 1rem;">
                                <div style="margin-bottom: 1rem;">
                                    <span style="color: var(--success);">●</span> Account: Active
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <span style="color: var(--success);">●</span> Subscription: Premium
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <span style="color: var(--warning);">●</span> Storage: 78% used
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <span style="color: var(--success);">●</span> Security: All checks passed
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-bottom: 2rem;">
                        <h3>Frequently Asked Questions</h3>
                        <div style="margin-top: 1rem;">
                            <div style="border-bottom: 1px solid var(--glass-border); padding: 1rem 0;" onclick="toggleFAQ(this)" role="button" tabindex="0">
                                <div style="font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>How do I change my password?</span>
                                    <span class="faq-toggle">+</span>
                                </div>
                                <div style="display: none; margin-top: 0.5rem; color: var(--text-secondary);">Go to Settings > Account > Change Password to update your password. Make sure to use a strong password with at least 8 characters.</div>
                            </div>
                            <div style="border-bottom: 1px solid var(--glass-border); padding: 1rem 0;" onclick="toggleFAQ(this)" role="button" tabindex="0">
                                <div style="font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>How do I delete my account?</span>
                                    <span class="faq-toggle">+</span>
                                </div>
                                <div style="display: none; margin-top: 0.5rem; color: var(--text-secondary);">Contact support to request account deletion. This action cannot be undone and all your data will be permanently removed.</div>
                            </div>
                            <div style="border-bottom: 1px solid var(--glass-border); padding: 1rem 0;" onclick="toggleFAQ(this)" role="button" tabindex="0">
                                <div style="font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>How do I earn more coins?</span>
                                    <span class="faq-toggle">+</span>
                                </div>
                                <div style="display: none; margin-top: 0.5rem; color: var(--text-secondary);">Complete daily check-ins, invite friends, participate in community activities, and engage with content to earn coins.</div>
                            </div>
                            <div style="border-bottom: 1px solid var(--glass-border); padding: 1rem 0;" onclick="toggleFAQ(this)" role="button" tabindex="0">
                                <div style="font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>How does the dating algorithm work?</span>
                                    <span class="faq-toggle">+</span>
                                </div>
                                <div style="display: none; margin-top: 0.5rem; color: var(--text-secondary);">Our AI analyzes your preferences, interests, and behavior to suggest compatible matches. The more you use the app, the better the recommendations become.</div>
                            </div>
                            <div style="padding: 1rem 0;" onclick="toggleFAQ(this)" role="button" tabindex="0">
                                <div style="font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                                    <span>Is my data secure?</span>
                                    <span class="faq-toggle">+</span>
                                </div>
                                <div style="display: none; margin-top: 0.5rem; color: var(--text-secondary);">Yes, we use industry-standard encryption and security measures to protect your data. We never share your personal information with third parties without consent.</div>
                            </div>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Documentation">📚</div>
                            <h3>Documentation</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Complete guides and tutorials</p>
                            <button class="btn btn-secondary" onclick="viewDocumentation()">View Docs</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Community">👥</div>
                            <h3>Community</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Connect with other users</p>
                            <button class="btn btn-secondary" onclick="joinCommunity()">Join Community</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Updates">🔔</div>
                            <h3>Updates</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Latest news and updates</p>
                            <button class="btn btn-secondary" onclick="viewUpdates()">View Updates</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal" id="gameModal" role="dialog" aria-labelledby="gameTitle" aria-modal="true">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 id="gameTitle">Game</h2>
                <button style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;" onclick="closeModal('gameModal')" aria-label="Close game">✕</button>
            </div>
            <div id="gameArea">
                <!-- Game content will be populated here -->
            </div>
        </div>
    </div>

    <div class="modal" id="createPostModal" role="dialog" aria-labelledby="createPostTitle" aria-modal="true">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 id="createPostTitle">Create Post</h2>
                <button style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;" onclick="closeModal('createPostModal')" aria-label="Close create post">✕</button>
            </div>
            <div class="form-group">
                <label for="postContent" class="sr-only">Post content</label>
                <textarea id="postContent" style="width: 100%; min-height: 120px; padding: 1rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary); resize: vertical;" placeholder="What's on your mind?"></textarea>
            </div>
            <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap;">
                <button class="btn btn-secondary btn-small" onclick="addPostMedia('photo')">📷 Photo</button>
                <button class="btn btn-secondary btn-small" onclick="addPostMedia('video')">🎥 Video</button>
                <button class="btn btn-secondary btn-small" onclick="addPostMedia('location')">📍 Location</button>
                <button class="btn btn-secondary btn-small" onclick="addPostMedia('feeling')">😊 Feeling</button>
                <button class="btn btn-secondary btn-small" onclick="addPostMedia('poll')">📊 Poll</button>
            </div>
            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeModal('createPostModal')">Cancel</button>
                <button class="btn btn-primary" onclick="publishPost()">Publish</button>
            </div>
        </div>
    </div>

    <!-- Events Finder Modal -->
    <div class="events-finder-modal" id="eventsFinderModal" role="dialog" aria-labelledby="eventsFinderTitle" aria-modal="true">
        <div class="events-finder-content">
            <!-- Header -->
            <div class="events-finder-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 id="eventsFinderTitle" style="margin: 0;">📅 Discover Events</h2>
                        <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0;">Find amazing events happening near you</p>
                    </div>
                    <button style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer; padding: 0.5rem;" onclick="closeEventsFinderModal()" aria-label="Close events finder">✕</button>
                </div>
                
                <!-- Search Bar -->
                <div class="events-search-bar">
                    <input type="text" class="events-search-input" id="eventsSearchInput" placeholder="Search events by name, category, or location..." onkeyup="searchEvents(this.value)">
                    <button class="events-search-button" onclick="searchEvents(document.getElementById('eventsSearchInput').value)" aria-label="Search events">🔍</button>
                </div>
            </div>

            <!-- Body -->
            <div class="events-finder-body">
                <!-- Filters Sidebar -->
                <div class="events-filters">
                    <!-- Location Filter -->
                    <div class="filter-section">
                        <h4>📍 Location</h4>
                        <div class="form-group">
                            <input type="text" class="form-input" placeholder="Enter location" id="locationInput" style="margin-bottom: 1rem;">
                            <button class="btn btn-secondary btn-small" onclick="useCurrentLocation()" style="width: 100%;">📍 Use Current Location</button>
                        </div>
                        <div class="filter-group">
                            <label style="display: block; margin-bottom: 0.5rem;">Distance: <span id="distanceValue">25 miles</span></label>
                            <input type="range" class="distance-slider" min="1" max="100" value="25" oninput="updateDistance(this.value)">
                        </div>
                    </div>

                    <!-- Date Filter -->
                    <div class="filter-section">
                        <h4>📅 When</h4>
                        <div class="filter-chips">
                            <div class="filter-chip active" onclick="filterByDate(this, 'today')">Today</div>
                            <div class="filter-chip" onclick="filterByDate(this, 'tomorrow')">Tomorrow</div>
                            <div class="filter-chip" onclick="filterByDate(this, 'week')">This Week</div>
                            <div class="filter-chip" onclick="filterByDate(this, 'weekend')">Weekend</div>
                            <div class="filter-chip" onclick="filterByDate(this, 'month')">This Month</div>
                        </div>
                        <div class="form-group" style="margin-top: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem;">Custom Date Range</label>
                            <input type="date" class="form-input" style="margin-bottom: 0.5rem;" id="startDate">
                            <input type="date" class="form-input" id="endDate">
                        </div>
                    </div>

                    <!-- Category Filter -->
                    <div class="filter-section">
                        <h4>🏷️ Categories</h4>
                        <div class="filter-chips">
                            <div class="filter-chip active" onclick="filterByCategory(this, 'all')">All</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'music')">🎵 Music</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'business')">💼 Business</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'sports')">⚽ Sports</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'food')">🍽️ Food</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'art')">🎨 Art</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'tech')">💻 Tech</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'social')">👥 Social</div>
                            <div class="filter-chip" onclick="filterByCategory(this, 'education')">📚 Education</div>
                        </div>
                    </div>

                    <!-- Price Filter -->
                    <div class="filter-section">
                        <h4>💰 Price</h4>
                        <div class="filter-chips">
                            <div class="filter-chip active" onclick="filterByPrice(this, 'all')">All</div>
                            <div class="filter-chip" onclick="filterByPrice(this, 'free')">Free</div>
                            <div class="filter-chip" onclick="filterByPrice(this, 'paid')">Paid</div>
                        </div>
                        <div class="price-range" style="margin-top: 1rem;">
                            <input type="number" class="price-input" placeholder="Min" id="minPrice">
                            <span>-</span>
                            <input type="number" class="price-input" placeholder="Max" id="maxPrice">
                        </div>
                    </div>

                    <!-- Event Type Filter -->
                    <div class="filter-section">
                        <h4>📋 Event Type</h4>
                        <div class="filter-chips">
                            <div class="filter-chip active" onclick="filterByType(this, 'all')">All</div>
                            <div class="filter-chip" onclick="filterByType(this, 'online')">💻 Online</div>
                            <div class="filter-chip" onclick="filterByType(this, 'in-person')">🏢 In-Person</div>
                            <div class="filter-chip" onclick="filterByType(this, 'hybrid')">🔄 Hybrid</div>
                        </div>
                    </div>

                    <!-- Reset Filters -->
                    <button class="btn btn-secondary" onclick="resetAllFilters()" style="width: 100%; margin-top: 1rem;">🔄 Reset Filters</button>
                </div>

                <!-- Results Area -->
                <div class="events-results">
                    <!-- View Toggle -->
                    <div class="view-toggle">
                        <div class="view-toggle-btn active" data-view="grid" onclick="toggleView(this, 'grid')">📋 Grid View</div>
                        <div class="view-toggle-btn" data-view="map" onclick="toggleView(this, 'map')">🗺️ Map View</div>
                        <div style="margin-left: auto; color: var(--text-secondary);">
                            <span id="eventsCount">12 events found</span>
                        </div>
                    </div>

                    <!-- Map View -->
                    <div class="events-map-view" id="eventsMapView">
                        🗺️ Interactive Map View<br>
                        <small style="font-size: 1rem; margin-top: 0.5rem;">Events plotted by location</small>
                    </div>

                    <!-- Events Grid -->
                    <div class="events-grid" id="eventsGrid">
                        <!-- Events will be populated here -->
                    </div>

                    <!-- Load More -->
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-secondary" onclick="loadMoreEvents()">Load More Events</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Detail Modal -->
    <div class="event-detail-modal" id="eventDetailModal" role="dialog" aria-labelledby="eventDetailTitle" aria-modal="true">
        <div class="event-detail-content">
            <div class="event-detail-header" id="eventDetailImage">
                🎉
                <button style="position: absolute; top: 1rem; right: 1rem; background: rgba(0,0,0,0.5); border: none; color: white; font-size: 1.5rem; cursor: pointer; border-radius: 50%; width: 40px; height: 40px;" onclick="closeEventDetailModal()" aria-label="Close event details">✕</button>
            </div>
            <div class="event-detail-body" id="eventDetailBody">
                <!-- Event details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 10001;">
        <div style="text-align: center; color: white;">
            <div class="loading" style="margin: 0 auto 1rem;"></div>
            <div>Loading...</div>
        </div>
    </div>

    <script src="src/js/app.js"></script>
    <script src="src/js/dating.js"></script>
    <script src="src/js/content-discovery-dashboard.js"></script>
    <script src="src/js/join-event-system.js"></script>
    <script src="src/js/join-group-system.js"></script>
    <script src="src/js/media-music-library-ui-components.js"></script>
    <script src="src/js/profile-ui-components.js"></script>
    <script src="src/js/social-missing-ui-components.js"></script>
    <script src="src/js/search-missing-ui-components.js"></script>
    <script src="src/js/group-creation-wizard.js"></script>
    <script src="src/js/groups-missing-ui-components.js"></script>
    <script src="src/js/events-missing-ui-components.js"></script>
    <script src="src/js/dating-missing-ui-components.js"></script>
    <script src="src/js/dating-additional-ui-components.js"></script>
    <script src="src/js/dating-final-ui-components.js"></script>
    <script src="src/js/dating-consent-management.js"></script>
    <script src="src/js/gaming-missing-ui-components.js"></script>
    <script src="src/js/marketplace-missing-ui-components.js"></script>
    <script src="src/js/streaming-missing-ui-components.js"></script>
    <script src="src/js/stream-session-dashboard.js"></script>
    <script src="src/js/streaming.js"></script>
    <script src="src/js/messages-missing-ui-components.js"></script>
    <script src="src/js/calls-missing-ui-components.js"></script>
    <script src="src/js/calls.js"></script>
    <script src="src/js/privacy-security-ui-components.js"></script>
    <script src="src/js/privacy-security-additional-ui-components.js"></script>
    <script src="src/js/ai-automation-ui-components.js"></script>
    <script src="src/js/enterprise-missing-ui-components.js"></script>
    <script src="src/js/enhanced-story-user-dashboard.js"></script>
    <script src="src/js/video-details-dashboard.js"></script>
    <script src="src/js/nearby-profile-modal.js"></script>
    <script src="src/js/meet-people-dashboard.js"></script>
    <script src="src/js/match-profile-modal.js"></script>
    <script src="src/js/search-posts-dashboard.js"></script>
    <script src="src/js/interest-personalization-dashboard.js"></script>
    <script src="src/js/events-finder.js"></script>
    <script src="src/js/change-password.js"></script>
    <script src="src/js/data-export.js"></script>

    <!-- Data Export Modal -->
    <div class="modal" id="dataExportModal" role="dialog" aria-labelledby="exportTitle" aria-modal="true">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 id="exportTitle">📥 Download Your Data</h2>
                <button style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;" onclick="closeDataExportModal()" aria-label="Close export">✕</button>
            </div>

            <!-- Initial Selection Phase -->
            <div id="selectionPhase">
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Select the data you want to download. Your privacy is important to us - we'll only export the data you choose.</p>
                
                <div class="checkbox-group">
                    <label class="checkbox-item" for="profileData">
                        <input type="checkbox" id="profileData" checked>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">👤 Profile Information</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Basic profile data, settings, and preferences</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~2.5 MB</div>
                        </div>
                    </label>

                    <label class="checkbox-item" for="postsData">
                        <input type="checkbox" id="postsData" checked>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">📝 Posts & Content</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">All your posts, comments, likes, and shared content</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~156 posts • ~45 MB</div>
                        </div>
                    </label>

                    <label class="checkbox-item" for="mediaData">
                        <input type="checkbox" id="mediaData">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">📸 Photos & Videos</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">All uploaded photos, videos, and media files</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~1,234 files • ~2.3 GB</div>
                        </div>
                    </label>

                    <label class="checkbox-item" for="messagesData">
                        <input type="checkbox" id="messagesData" checked>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">💬 Messages & Chats</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Direct messages, group chats, and conversation history</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~2,567 messages • ~12 MB</div>
                        </div>
                    </label>

                    <label class="checkbox-item" for="connectionsData">
                        <input type="checkbox" id="connectionsData" checked>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">🔗 Connections & Network</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Friends, followers, groups, and dating matches</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~1,247 connections • ~5 MB</div>
                        </div>
                    </label>

                    <label class="checkbox-item" for="analyticsData">
                        <input type="checkbox" id="analyticsData">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">📊 Analytics & Insights</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Engagement metrics, view counts, and performance data</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">~3 months data • ~8 MB</div>
                        </div>
                    </label>
                </div>

                <div class="data-summary">
                    <h4 style="margin-bottom: 1rem;">📋 Export Summary</h4>
                    <div class="summary-item">
                        <span>Selected data types:</span>
                        <span id="selectedCount">4</span>
                    </div>
                    <div class="summary-item">
                        <span>Estimated size:</span>
                        <span id="estimatedSize">~64.5 MB</span>
                    </div>
                    <div class="summary-item">
                        <span>Format:</span>
                        <span>JSON + ZIP archive</span>
                    </div>
                    <div class="summary-item" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                        <span style="font-weight: 600;">Total estimated time:</span>
                        <span id="estimatedTime">~3-5 minutes</span>
                    </div>
                </div>

                <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; padding: 1rem; margin: 1rem 0;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <span style="color: var(--accent); font-size: 1.2rem;">🔒</span>
                        <span style="font-weight: 600;">Privacy & Security</span>
                    </div>
                    <ul style="margin: 0; padding-left: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                        <li>Your data is encrypted during export</li>
                        <li>No third parties have access to your download</li>
                        <li>Files are automatically deleted after 7 days</li>
                        <li>You can cancel the export at any time</li>
                    </ul>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button class="btn btn-secondary" onclick="closeDataExportModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="startExport()" id="startExportBtn">🚀 Start Export</button>
                </div>
            </div>

            <!-- Processing Phase -->
            <div id="processingPhase" style="display: none;">
                <div class="download-info">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">⚡</div>
                    <h3>Preparing Your Data</h3>
                    <p style="margin: 0.5rem 0;">Please don't close this window while we prepare your export</p>
                </div>

                <div class="export-steps" id="exportSteps">
                    <div class="step" id="step1">
                        <div class="step-number">1</div>
                        <div>
                            <div style="font-weight: 600;">Validating Data Selection</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Checking selected data types and permissions</div>
                        </div>
                        <div class="status-indicator" id="status1">
                            <div class="status-dot status-pending"></div>
                            <span>Pending</span>
                        </div>
                    </div>

                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div>
                            <div style="font-weight: 600;">Collecting Data</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Gathering your selected information from our servers</div>
                        </div>
                        <div class="status-indicator" id="status2">
                            <div class="status-dot status-pending"></div>
                            <span>Pending</span>
                        </div>
                    </div>

                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <div>
                            <div style="font-weight: 600;">Processing & Formatting</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Converting data to readable JSON format</div>
                        </div>
                        <div class="status-indicator" id="status3">
                            <div class="status-dot status-pending"></div>
                            <span>Pending</span>
                        </div>
                    </div>

                    <div class="step" id="step4">
                        <div class="step-number">4</div>
                        <div>
                            <div style="font-weight: 600;">Creating Archive</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Compressing files and applying encryption</div>
                        </div>
                        <div class="status-indicator" id="status4">
                            <div class="status-dot status-pending"></div>
                            <span>Pending</span>
                        </div>
                    </div>

                    <div class="step" id="step5">
                        <div class="step-number">5</div>
                        <div>
                            <div style="font-weight: 600;">Finalizing Export</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Preparing download link and cleanup</div>
                        </div>
                        <div class="status-indicator" id="status5">
                            <div class="status-dot status-pending"></div>
                            <span>Pending</span>
                        </div>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="exportProgress"></div>
                </div>

                <div style="text-align: center; margin: 1rem 0;">
                    <div id="progressText">Initializing export...</div>
                    <div style="color: var(--text-muted); font-size: 0.9rem; margin-top: 0.5rem;" id="progressDetail">This may take a few minutes</div>
                </div>

                <div style="display: flex; justify-content: center; margin-top: 2rem;">
                    <button class="btn btn-error" onclick="cancelExport()">⏹️ Cancel Export</button>
                </div>
            </div>

            <!-- Completion Phase -->
            <div id="completionPhase" style="display: none;">
                <div class="download-info">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🎉</div>
                    <h3>Export Complete!</h3>
                    <p style="margin: 0.5rem 0;">Your data is ready for download</p>
                </div>

                <div style="background: var(--glass); border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0;">
                    <h4>📦 Export Details</h4>
                    <div class="summary-item">
                        <span>File name:</span>
                        <span style="font-family: monospace;">connecthub_export_2024.zip</span>
                    </div>
                    <div class="summary-item">
                        <span>File size:</span>
                        <span id="finalFileSize">64.3 MB</span>
                    </div>
                    <div class="summary-item">
                        <span>Generated:</span>
                        <span id="generationTime">December 24, 2024 at 2:45 PM</span>
                    </div>
                    <div class="summary-item">
                        <span>Expires:</span>
                        <span style="color: var(--warning);">December 31, 2024 at 2:45 PM</span>
                    </div>
                </div>

                <div style="background: var(--success); background-opacity: 0.1; border: 1px solid var(--success); border-radius: 12px; padding: 1rem; margin: 1rem 0; color: white;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <span style="font-size: 1.2rem;">✅</span>
                        <span style="font-weight: 600;">What's Included</span>
                    </div>
                    <ul style="margin: 0; padding-left: 1rem; font-size: 0.9rem;" id="includedData">
                        <li>Profile information and account settings</li>
                        <li>156 posts with metadata and engagement data</li>
                        <li>2,567 messages and conversation threads</li>
                        <li>1,247 connections and relationship data</li>
                    </ul>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="downloadFile()" style="font-size: 1.1rem; padding: 1rem 2rem;">
                        💾 Download Now
                    </button>
                </div>

                <div style="text-align: center; margin-top: 1rem;">
                    <button class="btn btn-secondary" onclick="closeDataExportModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div class="modal" id="changePasswordModal" role="dialog" aria-labelledby="changePasswordTitle" aria-modal="true">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 id="changePasswordTitle">Change Password</h2>
                <button style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;" onclick="closeChangePasswordModal()" aria-label="Close">×</button>
            </div>

            <form id="changePasswordForm" novalidate>
                <!-- Current Password -->
                <div class="form-group">
                    <label class="form-label" for="currentPassword">Current Password</label>
                    <div class="password-input-container">
                        <input type="password" id="currentPassword" class="form-input" placeholder="Enter your current password" required autocomplete="current-password">
                        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('currentPassword')" aria-label="Toggle password visibility">👁️</button>
                    </div>
                    <div class="error-message" id="currentPasswordError"></div>
                </div>

                <!-- New Password -->
                <div class="form-group">
                    <label class="form-label" for="newPassword">New Password</label>
                    <div class="password-input-container">
                        <input type="password" id="newPassword" class="form-input" placeholder="Enter your new password" required autocomplete="new-password">
                        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('newPassword')" aria-label="Toggle password visibility">👁️</button>
                    </div>
                    
                    <!-- Password Strength Indicator -->
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-fill" id="strengthFill"></div>
                        </div>
                        <div class="strength-text" id="strengthText">Password strength</div>
                    </div>

                    <!-- Password Requirements -->
                    <div class="password-requirements">
                        <div class="requirement" id="req-length">
                            <div class="requirement-icon">✓</div>
                            <span>At least 8 characters</span>
                        </div>
                        <div class="requirement" id="req-uppercase">
                            <div class="requirement-icon">✓</div>
                            <span>One uppercase letter</span>
                        </div>
                        <div class="requirement" id="req-lowercase">
                            <div class="requirement-icon">✓</div>
                            <span>One lowercase letter</span>
                        </div>
                        <div class="requirement" id="req-number">
                            <div class="requirement-icon">✓</div>
                            <span>One number</span>
                        </div>
                        <div class="requirement" id="req-special">
                            <div class="requirement-icon">✓</div>
                            <span>One special character</span>
                        </div>
                    </div>
                    
                    <div class="error-message" id="newPasswordError"></div>
                </div>

                <!-- Confirm Password -->
                <div class="form-group">
                    <label class="form-label" for="confirmPassword">Confirm New Password</label>
                    <div class="password-input-container">
                        <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your new password" required autocomplete="new-password">
                        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')" aria-label="Toggle password visibility">👁️</button>
                    </div>
                    <div class="error-message" id="confirmPasswordError"></div>
                    <div class="success-message" id="confirmPasswordSuccess">Passwords match</div>
                </div>

                <!-- Form Actions -->
                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeChangePasswordModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="changePasswordBtn" disabled>
                        <span id="btnText">Change Password</span>
                        <span id="btnLoader" class="loading" style="display: none;"></span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
