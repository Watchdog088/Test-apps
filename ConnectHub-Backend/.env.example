# ============================================================================
# ConnectHub Backend Environment Configuration
# Polyglot Database Stack with Defense in Depth Security
# ============================================================================

# Application Settings
NODE_ENV=development
PORT=5000
APP_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000

# ============================================================================
# DATABASE 1: PostgreSQL (Relational Database - Primary Data Store)
# ============================================================================
DATABASE_URL="postgresql://connecthub:connecthub_secure_password_2024@localhost:5432/connecthub?schema=public"

# ============================================================================
# DATABASE 2: MongoDB (NoSQL/Document Database - Analytics & Flexible Data)
# ============================================================================
MONGODB_URI="mongodb://connecthub:connecthub_mongo_password_2024@localhost:27017/connecthub?authSource=admin"

# ============================================================================
# DATABASE 3: Neo4j (Graph Database - Social Connections)
# ============================================================================
NEO4J_URI="bolt://localhost:7687"
NEO4J_USER="neo4j"
NEO4J_PASSWORD="connecthub_neo4j_password_2024"

# ============================================================================
# DATABASE 4: Redis (In-Memory Cache - Sessions & Real-time)
# ============================================================================
REDIS_URL="redis://:connecthub_redis_password_2024@localhost:6379"
REDIS_PASSWORD="connecthub_redis_password_2024"

# ============================================================================
# DATABASE 5: AWS S3 (Blob/Object Storage - Media Files)
# ============================================================================
# For Local Development (LocalStack)
AWS_ACCESS_KEY_ID="test"
AWS_SECRET_ACCESS_KEY="test"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="connecthub-media"
AWS_ENDPOINT="http://localhost:4566"

# For Production (Real AWS)
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="connecthub-production-media"
# AWS_CLOUDFRONT_DOMAIN="d123456789.cloudfront.net"

# ============================================================================
# SECURITY CONFIGURATION (Defense in Depth - 7 Layers)
# ============================================================================

# JWT Authentication (Layer 3)
JWT_SECRET="your-super-secret-jwt-key-change-in-production-min-32-chars"
JWT_EXPIRY="24h"
REFRESH_TOKEN_SECRET="your-refresh-token-secret-change-in-production"
REFRESH_TOKEN_EXPIRY="7d"

# Encryption Keys (Layer 4)
ENCRYPTION_KEY="your-encryption-key-for-sensitive-data-min-32-chars"
ENCRYPTION_ALGORITHM="aes-256-gcm"

# Password Security (Layer 4)
BCRYPT_ROUNDS=12

# Session Management (Layer 3)
SESSION_SECRET="your-session-secret-change-in-production-min-32-chars"
SESSION_EXPIRY=86400

# CORS Settings (Layer 2)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:5173,https://connecthub.com"

# Rate Limiting (Layer 7)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# OAUTH & SOCIAL LOGIN
# ============================================================================
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:5000/api/auth/google/callback"

FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
FACEBOOK_CALLBACK_URL="http://localhost:5000/api/auth/facebook/callback"

# ============================================================================
# EMAIL & NOTIFICATIONS
# ============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="noreply@connecthub.com"
SMTP_PASSWORD="your-smtp-password"
EMAIL_FROM="ConnectHub <noreply@connecthub.com>"

# ============================================================================
# TWILIO (SMS & Voice)
# ============================================================================
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"

# ============================================================================
# PAYMENT PROCESSING
# ============================================================================
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

PAYPAL_CLIENT_ID="your-paypal-client-id"
PAYPAL_CLIENT_SECRET="your-paypal-client-secret"
PAYPAL_MODE="sandbox"

# ============================================================================
# STREAMING & MEDIA
# ============================================================================
STREAM_RTMP_URL="rtmp://localhost/live"
STREAM_HLS_URL="http://localhost:8080/hls"

# Cloudinary (Optional - Image/Video Processing)
CLOUDINARY_CLOUD_NAME="your-cloudinary-cloud-name"
CLOUDINARY_API_KEY="your-cloudinary-api-key"
CLOUDINARY_API_SECRET="your-cloudinary-api-secret"

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL="info"
LOG_FILE_PATH="./logs"
SENTRY_DSN=""

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_2FA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PHONE_VERIFICATION=false
ENABLE_PREMIUM_FEATURES=true
ENABLE_DATING_FEATURES=true
ENABLE_BUSINESS_FEATURES=true
ENABLE_CREATOR_FEATURES=true
ENABLE_GAMING=true
ENABLE_LIVE_STREAMING=true
ENABLE_VIDEO_CALLS=true
ENABLE_MARKETPLACE=true

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# IP Whitelist (comma-separated, leave empty to allow all)
IP_WHITELIST=""

# IP Blacklist (comma-separated)
IP_BLACKLIST=""

# Maximum login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration (seconds)
ACCOUNT_LOCKOUT_DURATION=900

# Password requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_UPPERCASE=true
REQUIRE_PASSWORD_LOWERCASE=true
REQUIRE_PASSWORD_NUMBER=true
REQUIRE_PASSWORD_SPECIAL_CHAR=true

# Session security
SECURE_COOKIES=true
SAME_SITE_COOKIES="strict"

# ============================================================================
# DEVELOPMENT & DEBUGGING
# ============================================================================
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_API_DOCS=true
ENABLE_PLAYGROUND=false
