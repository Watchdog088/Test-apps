<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConnectHub - Your Social Universe</title>
    <meta name="description" content="ConnectHub - The ultimate social universe platform combining social media, dating, media streaming, and interactive entertainment">
    <meta name="keywords" content="social media, dating app, music streaming, live streaming, games, marketplace">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌟</text></svg>">
    <meta name="theme-color" content="#4f46e5">
    
    <!-- Progressive Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ConnectHub - Your Social Universe">
    <meta property="og:description" content="Connect, date, create, and discover with the power of AI">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://connecthub.com">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4f46e5;
            --secondary: #ec4899;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
        }

        .main-nav {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex: 1;
            justify-content: center;
        }

        .nav-item {
            padding: 0.75rem 1rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            position: relative;
            user-select: none;
            -webkit-user-select: none;
        }

        .nav-item:hover {
            background: var(--glass);
            color: var(--text-primary);
            transform: translateY(-2px);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .category-nav {
            display: flex;
            gap: 0.5rem;
            background: var(--glass);
            padding: 0.5rem;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            margin: 0 1rem;
        }

        .category-tab {
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            user-select: none;
            -webkit-user-select: none;
        }

        .category-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            transform: scale(1.05);
        }

        .category-tab:hover:not(.active) {
            background: var(--glass-border);
            color: var(--text-primary);
            transform: translateY(-2px);
        }

        .notification-dot {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 8px;
            height: 8px;
            background: var(--error);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
        }

        /* Sub Navigation */
        .sub-nav {
            background: var(--bg-card);
            border-bottom: 1px solid var(--glass-border);
            padding: 1rem 0;
            margin-top: 80px;
        }

        .sub-nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            padding: 0 2rem;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .sub-nav-container::-webkit-scrollbar {
            display: none;
        }

        .sub-nav-item {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            user-select: none;
            -webkit-user-select: none;
        }

        .sub-nav-item:hover {
            background: var(--glass);
            color: var(--text-primary);
            transform: translateY(-2px);
        }

        .sub-nav-item.active {
            background: var(--primary);
            color: white;
        }

        /* Main Content */
        .main-container {
            margin-top: 140px;
            min-height: calc(100vh - 140px);
        }

        .category-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .category-section.active {
            display: block;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .page-layout {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(79, 70, 229, 0.2);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card[onclick]:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 25px 50px rgba(79, 70, 229, 0.3);
            cursor: pointer;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 0.9rem;
            user-select: none;
            -webkit-user-select: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s ease, height 0.3s ease;
        }

        .btn:active::before {
            width: 200px;
            height: 200px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.4);
        }

        .btn-secondary {
            background: var(--glass);
            color: var(--text-primary);
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: var(--glass-border);
            transform: translateY(-2px);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        .btn-error {
            background: var(--error);
            color: white;
        }

        .btn-error:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            animation: modalFadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
            animation: modalSlideIn 0.3s ease;
        }

        /* Game Styles */
        .game-board {
            display: grid;
            gap: 0.5rem;
            margin: 2rem 0;
            justify-content: center;
        }

        .tic-tac-toe {
            grid-template-columns: repeat(3, 80px);
            grid-template-rows: repeat(3, 80px);
        }

        .game-cell {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .game-cell:hover {
            background: var(--glass-border);
            transform: scale(1.05);
        }

        /* Memory Game */
        .memory-game {
            grid-template-columns: repeat(4, 60px);
            grid-template-rows: repeat(4, 60px);
        }

        .memory-card {
            background: var(--primary);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .memory-card:hover {
            transform: scale(1.1);
        }

        .memory-card.flipped {
            background: var(--success);
            transform: rotateY(180deg);
        }

        .memory-card.matched {
            background: var(--secondary);
            cursor: default;
            transform: scale(0.9);
        }

        /* Dating Card Animation */
        .dating-card {
            width: 350px;
            height: 600px;
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            cursor: grab;
            transition: all 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .dating-card:active {
            cursor: grabbing;
        }

        .dating-card:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 40px rgba(79, 70, 229, 0.3);
        }

        /* Media Player Styles */
        .media-player {
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            margin: 2rem auto;
            max-width: 400px;
        }

        .media-display {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 16px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
            animation: musicPulse 2s ease-in-out infinite;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--glass);
            border-radius: 3px;
            margin: 1rem 0;
            cursor: pointer;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: progressShimmer 2s infinite;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 0 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .category-nav {
                overflow-x: auto;
                width: 100%;
                justify-content: flex-start;
            }

            .page-layout {
                padding: 1rem;
            }

            .grid-3 {
                grid-template-columns: 1fr;
            }

            .main-container {
                margin-top: 160px;
            }

            .modal-content {
                margin: 1rem;
                width: calc(100% - 2rem);
            }
        }

        /* Animations */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        @keyframes musicPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes progressShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 120px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            color: var(--text-primary);
            z-index: 10000;
            animation: slideIn 0.3s ease;
            max-width: 300px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .toast.success { 
            border-color: var(--success); 
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
        }
        
        .toast.error { 
            border-color: var(--error); 
            background: linear-gradient(135deg, var(--error), #dc2626);
            color: white;
        }
        
        .toast.warning { 
            border-color: var(--warning); 
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 1rem;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(79, 70, 229, 0.3);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-input::placeholder {
            color: var(--text-muted);
        }

        /* Notification Panel */
        .notification-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background: var(--bg-card);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            z-index: 9999;
            display: none;
            overflow-y: auto;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .notification-panel.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        .notification-item {
            padding: 1rem;
            border-bottom: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .notification-item:hover {
            background: var(--glass);
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        /* Search Results */
        .search-results {
            margin-top: 2rem;
        }

        .search-result-item {
            background: var(--glass);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-result-item:hover {
            background: var(--glass-border);
            transform: translateX(5px);
        }

        /* Chat Interface */
        .chat-message {
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .chat-message.own {
            flex-direction: row-reverse;
        }

        .chat-bubble {
            background: var(--glass);
            border-radius: 18px;
            padding: 0.75rem 1rem;
            max-width: 70%;
            word-wrap: break-word;
            position: relative;
        }

        .chat-message.own .chat-bubble {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .chat-bubble::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .chat-message:not(.own) .chat-bubble::before {
            left: -8px;
            top: 12px;
            border-color: transparent var(--glass) transparent transparent;
            border-width: 8px 8px 8px 0;
        }

        .chat-message.own .chat-bubble::before {
            right: -8px;
            top: 12px;
            border-color: transparent transparent transparent var(--primary);
            border-width: 8px 0 8px 8px;
        }

        /* Profile Stats */
        .profile-stats {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .stat-item {
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--glass);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .hidden { display: none; }
        .visible { display: block; }

        /* Dark mode specific enhancements */
        .glow {
            box-shadow: 0 0 20px rgba(79, 70, 229, 0.5);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        *:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Reduced motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="logo" onclick="goHome()" role="button" tabindex="0" onkeydown="handleKeyPress(event, goHome)">
                ConnectHub
            </div>
            
            <div class="main-nav" id="mainNav" role="menubar">
                <!-- Will be populated by updateMainNav() -->
            </div>

            <div class="user-avatar" onclick="toggleUserMenu()" role="button" tabindex="0" onkeydown="handleKeyPress(event, toggleUserMenu)" aria-label="User menu">
                JD
            </div>
        </div>
    </nav>

    <!-- Sub Navigation -->
    <div class="sub-nav" id="subNavContainer" role="navigation" aria-label="Category navigation">
        <div class="sub-nav-container" id="subNav">
            <!-- Dynamic sub-navigation items will be populated here -->
        </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel" role="dialog" aria-label="Notifications">
        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
            <h3>Notifications</h3>
        </div>
        <div id="notificationList">
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">New Match! 💕</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">You and Sarah Miller liked each other</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">2 minutes ago</div>
            </div>
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">New Message</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">Emma Wilson sent you a message</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">5 minutes ago</div>
            </div>
            <div class="notification-item" role="button" tabindex="0">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">Group Invite</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">You've been invited to "Tech Enthusiasts"</div>
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.5rem;">1 hour ago</div>
            </div>
        </div>
    </div>

    <main class="main-container" role="main">
        <!-- Auth Screen -->
        <section id="authScreen" class="category-section active" aria-label="Authentication">
            <div style="display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 140px); padding: 2rem;">
                <div style="display: grid; grid-template-columns: 1fr 400px; gap: 4rem; max-width: 1200px; width: 100%; align-items: center;">
                    <div>
                        <h1 style="font-size: 3.5rem; font-weight: 900; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1.5rem;">ConnectHub</h1>
                        <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Your ultimate social universe. Connect, date, create, and discover with the power of AI.</p>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Social media">📱</div>
                                <h4>Social Network</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Connect and share with friends</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Dating">💕</div>
                                <h4>Smart Dating</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">AI-powered matching</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Media">🎵</div>
                                <h4>Media Hub</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Music, videos, and live streams</p>
                            </div>
                            <div style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;" role="img" aria-label="Games">🎮</div>
                                <h4>Extra Features</h4>
                                <p style="color: var(--text-secondary); font-size: 0.9rem;">Games, shopping, and more</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 24px; padding: 2.5rem;">
                        <div style="display: flex; background: var(--glass); border-radius: 12px; padding: 0.25rem; margin-bottom: 2rem;" role="tablist">
                            <div class="auth-tab active" data-mode="login" style="flex: 1; padding: 0.75rem; text-align: center; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;" role="tab" tabindex="0">Sign In</div>
                            <div class="auth-tab" data-mode="register" style="flex: 1; padding: 0.75rem; text-align: center; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;" role="tab" tabindex="0">Register</div>
                        </div>
                        
                        <form id="authForm" novalidate>
                            <div class="form-group" id="nameGroup" style="display: none;">
                                <label class="form-label" for="fullName">Full Name</label>
                                <input type="text" id="fullName" class="form-input" placeholder="Enter your full name" autocomplete="name">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="email">Email</label>
                                <input type="email" id="email" class="form-input" placeholder="Enter your email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="password">Password</label>
                                <input type="password" id="password" class="form-input" placeholder="Enter your password" required autocomplete="current-password">
                            </div>
                            <div class="form-group" id="confirmGroup" style="display: none;">
                                <label class="form-label" for="confirmPassword">Confirm Password</label>
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" autocomplete="new-password">
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <span id="authButtonText">Sign In</span>
                            </button>
                        </form>
                        
                        <div style="display: flex; gap: 1rem; margin: 1.5rem 0;">
                            <button class="btn btn-secondary" onclick="socialLogin('google')" style="flex: 1; justify-content: center;" aria-label="Sign in with Google">
                                <span role="img" aria-label="Google">📧</span> Google
                            </button>
                            <button class="btn btn-secondary" onclick="socialLogin('facebook')" style="flex: 1; justify-content: center;" aria-label="Sign in with Facebook">
                                <span role="img" aria-label="Facebook">📘</span> Facebook
                            </button>
                        </div>
                        
                        <div style="text-align: center; margin-top: 1rem;">
                            <a href="#" style="color: var(--primary); text-decoration: none;" onclick="forgotPassword()" role="button">Forgot Password?</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- DATING CATEGORY -->
        <section id="datingCategory" class="category-section" aria-label="Dating">
            <!-- Swipe Screen -->
            <div id="datingSwipe" class="screen active">
                <div style="max-width: 400px; margin: 0 auto; padding: 2rem; height: calc(100vh - 140px); display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary);">Discover Your Match</h2>
                    
                    <div class="dating-card" id="datingCard" role="img" aria-label="Dating profile card">
                        <div id="datingCardContent">
                            <!-- Dating card content will be populated by JavaScript -->
                        </div>
                    </div>

                    <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem;">
                        <button style="width: 60px; height: 60px; border: none; border-radius: 50%; background: var(--error); color: white; font-size: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onclick="swipeCard('left')" aria-label="Pass">✕</button>
                        <button style="width: 60px; height: 60px; border: none; border-radius: 50%; background: var(--success); color: white; font-size: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onclick="swipeCard('right')" aria-label="Like">💕</button>
                    </div>

                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-secondary" onclick="switchToScreen('dating', 'matches')">💬 View Matches</button>
                        <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="switchToScreen('dating', 'preferences')">⚙️ Preferences</button>
                    </div>
                </div>
            </div>

            <!-- Matches Screen -->
            <div id="datingMatches" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">Your Matches</h1>
                    <div class="grid-3" id="matchesList" role="list" aria-label="Dating matches">
                        <!-- Matches will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Dating Chat Screen -->
            <div id="datingChat" class="screen">
                <div style="display: grid; grid-template-columns: 300px 1fr; height: calc(100vh - 140px);">
                    <!-- Matches List -->
                    <aside style="background: var(--bg-card); border-right: 1px solid var(--glass-border);">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
                            <h3>Your Matches</h3>
                        </div>
                        <div id="datingChatList" role="list" aria-label="Dating matches">
                            <!-- Dating matches will be populated here -->
                        </div>
                    </aside>
                    
                    <!-- Dating Chat Area -->
                    <main style="display: flex; flex-direction: column;" id="datingChatArea">
                        <div style="flex: 1; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                            <div style="text-align: center;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;" role="img" aria-label="Heart">💕</div>
                                <h3>Select a match to start chatting</h3>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <!-- Dating Preferences Screen -->
            <div id="datingPreferences" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Dating Preferences</h1>
                    
                    <div class="grid-2">
                        <div class="card">
                            <h3>Basic Preferences</h3>
                            <div style="margin-top: 1rem;">
                                <div class="form-group">
                                    <label class="form-label" for="ageRange">Age Range: <span id="ageRangeValue">18-35</span></label>
                                    <input type="range" id="ageRange" min="18" max="80" value="35" style="width: 100%;" oninput="updateAgeRange(this.value)">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="distance">Distance: <span id="distanceValue">25 miles</span></label>
                                    <input type="range" id="distance" min="1" max="100" value="25" style="width: 100%;" oninput="updateDistance(this.value)">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Looking for</label>
                                    <select class="form-input" aria-label="Relationship type">
                                        <option>Long-term relationship</option>
                                        <option>Casual dating</option>
                                        <option>Friendship</option>
                                        <option>Something casual</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Interests</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem;">Select your interests to find better matches</p>
                            <div style="margin-top: 1rem; display: flex; flex-wrap: gap: 0.5rem;" id="interestTags">
                                <!-- Interest tags will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3>Advanced Filters</h3>
                        <div class="grid-2" style="margin-top: 1rem;">
                            <label style="display: flex; justify-content: space-between; align-items: center;">
                                <span>Education</span>
                                <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Education level">
                                    <option>Any</option>
                                    <option>High School</option>
                                    <option>College</option>
                                    <option>Graduate Degree</option>
                                </select>
                            </label>
                            <label style="display: flex; justify-content: space-between; align-items: center;">
                                <span>Has Children</span>
                                <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Has children">
                                    <option>No preference</option>
                                    <option>Yes</option>
                                    <option>No</option>
                                </select>
                            </label>
                        </div>
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-primary">Save Preferences</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MEDIA CATEGORY -->
        <section id="mediaCategory" class="category-section" aria-label="Media">
            <!-- Music Screen -->
            <div id="mediaMusic" class="screen active">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🎵 Music Hub</h1>
                    
                    <div class="media-player">
                        <div class="media-display" id="albumArt" role="img" aria-label="Album artwork">🎵</div>
                        <h3 id="currentTrack">Now Playing</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;" id="artistName">Artist Name - Song Title</p>
                        
                        <div class="progress-bar" onclick="seekTrack(event)" role="slider" aria-label="Track progress" tabindex="0">
                            <div class="progress-fill" id="progressFill" style="width: 30%;"></div>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                            <button style="width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--glass); color: var(--text-primary); cursor: pointer; font-size: 1.2rem; transition: all 0.3s ease;" onclick="previousTrack()" aria-label="Previous track">⮮</button>
                            <button style="width: 60px; height: 60px; border-radius: 50%; border: none; background: var(--primary); color: white; cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease;" onclick="togglePlayPause()" id="playButton" aria-label="Play/Pause">▶️</button>
                            <button style="width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--glass); color: var(--text-primary); cursor: pointer; font-size: 1.2rem; transition: all 0.3s ease;" onclick="nextTrack()" aria-label="Next track">⭮</button>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                            <button class="btn btn-secondary btn-small" onclick="toggleShuffle()" id="shuffleButton">🔀 Shuffle</button>
                            <button class="btn btn-secondary btn-small" onclick="toggleRepeat()" id="repeatButton">🔁 Repeat</button>
                            <button class="btn btn-primary btn-small" onclick="shareTrack()">📤 Share</button>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" onclick="openMusicLibrary()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Library">🎧</div>
                            <h3>Your Library</h3>
                            <p style="color: var(--text-secondary);">Access your saved songs and playlists</p>
                            <button class="btn btn-primary">Open Library</button>
                        </div>
                        <div class="card" onclick="startLiveSession()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Microphone">🎤</div>
                            <h3>Live Sessions</h3>
                            <p style="color: var(--text-secondary);">Stream live music to your audience</p>
                            <button class="btn btn-primary">Start Session</button>
                        </div>
                        <div class="card" onclick="discoverMusic()" role="button" tabindex="0">
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;" role="img" aria-label="Music note">🎼</div>
                            <h3>Discover</h3>
                            <p style="color: var(--text-secondary);">Find new music based on your taste</p>
                            <button class="btn btn-secondary">Discover Music</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Streaming Screen -->
            <div id="mediaLive" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">📺 Live Streaming</h1>
                    
                    <div class="grid-2">
                        <div>
                            <div style="aspect-ratio: 16/9; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; position: relative; display: flex; align-items: center; justify-content: center; font-size: 4rem; margin-bottom: 2rem;" id="videoPreview" role="img" aria-label="Video preview">
                                🎥
                                <div style="position: absolute; bottom: 1rem; left: 1rem; right: 1rem; display: flex; gap: 1rem; justify-content: center;">
                                    <button class="btn btn-secondary btn-small" onclick="toggleMic()" id="micButton">🎤 Mic</button>
                                    <button class="btn btn-error btn-small" onclick="toggleStream()" id="streamButton">🔴 Go Live</button>
                                    <button class="btn btn-secondary btn-small" onclick="toggleCamera()" id="cameraButton">📷 Camera</button>
                                </div>
                            </div>
                            <div style="text-align: center;">
                                <h3>Live Stream Controls</h3>
                                <div style="margin: 1rem 0;">
                                    <span id="viewerCount">0 viewers</span> • <span id="streamDuration">00:00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem;">
                            <h3 style="margin-bottom: 1rem;">Live Chat</h3>
                            <div style="height: 300px; overflow-y: auto; margin-bottom: 1rem; background: var(--glass); border-radius: 12px; padding: 1rem;" id="liveChatMessages" role="log" aria-label="Live chat messages">
                                <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: var(--glass-border); border-radius: 8px;">
                                    <strong>User123:</strong> Amazing stream! 🔥
                                </div>
                                <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: var(--glass-border); border-radius: 8px;">
                                    <strong>MusicLover:</strong> Great setup! 
                                </div>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <label for="chatInput" class="sr-only">Chat message</label>
                                <input type="text" id="chatInput" placeholder="Say something..." style="flex: 1; padding: 0.5rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--text-primary);" onkeypress="sendChatMessage(event)">
                                <button class="btn btn-primary btn-small" onclick="sendChatMessage()">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Calls Screen -->
            <div id="mediaVideo" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">📹 Video Calls</h1>
                    <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                        <div style="aspect-ratio: 16/9; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; margin-bottom: 2rem; display: flex; align-items: center; justify-content: center; font-size: 4rem;" id="videoCallArea" role="img" aria-label="Video call area">📹</div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
                            <button class="btn btn-primary" onclick="startVideoCall()">📹 Start Call</button>
                            <button class="btn btn-secondary" onclick="scheduleCall()">📅 Schedule</button>
                            <button class="btn btn-secondary" onclick="viewCallHistory()">📋 History</button>
                        </div>
                        
                        <div class="grid-3">
                            <div class="card" style="text-align: center;">
                                <h4>Recent Calls</h4>
                                <div style="margin-top: 1rem;" id="recentCalls">
                                    <!-- Recent calls will be populated -->
                                </div>
                            </div>
                            <div class="card" style="text-align: center;">
                                <h4>Scheduled Calls</h4>
                                <div style="margin-top: 1rem;" id="scheduledCalls">
                                    <!-- Scheduled calls will be populated -->
                                </div>
                            </div>
                            <div class="card" style="text-align: center;">
                                <h4>Contacts</h4>
                                <div style="margin-top: 1rem;">
                                    <button class="btn btn-secondary btn-small" onclick="addContact()">+ Add Contact</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AR/VR Screen -->
            <div id="mediaAr" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🥽 AR/VR Experiences</h1>
                    
                    <div class="grid-3">
                        <div class="card" style="text-align: center;" onclick="launchARExperience('face-filters')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Face filters">😀</div>
                            <h3>Face Filters</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Fun AR face filters and effects</p>
                            <button class="btn btn-primary">Try Filters</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('virtual-rooms')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Virtual rooms">🏠</div>
                            <h3>Virtual Rooms</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Meet friends in virtual spaces</p>
                            <button class="btn btn-primary">Enter Room</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('360-videos')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="360 videos">🌍</div>
                            <h3>360° Videos</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Immersive video experiences</p>
                            <button class="btn btn-primary">Watch Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('virtual-shopping')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Virtual shopping">🛍️</div>
                            <h3>Virtual Shopping</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Try before you buy in VR</p>
                            <button class="btn btn-primary">Shop VR</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('ar-games')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="AR games">🎮</div>
                            <h3>AR Games</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Interactive augmented reality games</p>
                            <button class="btn btn-primary">Play AR</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="launchARExperience('meditation')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Meditation">🧘</div>
                            <h3>VR Meditation</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Peaceful virtual environments</p>
                            <button class="btn btn-primary">Meditate</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Category Selection Screen -->
        <section id="categorySelection" class="category-section" aria-label="Category selection">
            <div class="page-layout">
                <div style="text-align: center; margin-bottom: 3rem;">
                    <h1 style="font-size: 3rem; font-weight: 900; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">Welcome to ConnectHub</h1>
                    <p style="font-size: 1.2rem; color: var(--text-secondary);">Choose what you'd like to explore first</p>
                </div>

                <div class="grid-2" style="margin-bottom: 3rem;">
                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('social')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('social'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Social media">📱</div>
                        <h2 style="margin-bottom: 1rem; color: var(--primary);">Social Network</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Connect with friends, share posts, join groups, discover events, and build your social presence.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Home Feed</span>
                                <span role="img" aria-label="Home">🏠</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Messages & Chat</span>
                                <span role="img" aria-label="Messages">💬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Groups & Events</span>
                                <span role="img" aria-label="Groups">👥</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Stories & Explore</span>
                                <span role="img" aria-label="Explore">🌟</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Enter Social Network</button>
                    </div>

                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('dating')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('dating'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Dating">💕</div>
                        <h2 style="margin-bottom: 1rem; color: var(--secondary);">Smart Dating</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Find meaningful connections with AI-powered matching, swipe through profiles, and start conversations.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">AI Matching</span>
                                <span role="img" aria-label="AI">🤖</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Swipe & Discover</span>
                                <span role="img" aria-label="Sparkles">💫</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Match Management</span>
                                <span role="img" aria-label="Chat">💬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Dating Preferences</span>
                                <span role="img" aria-label="Settings">⚙️</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Start Dating</button>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('media')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('media'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Music">🎵</div>
                        <h2 style="margin-bottom: 1rem; color: var(--accent);">Media Hub</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Stream music, create live broadcasts, make video calls, and explore AR/VR experiences.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Music Player</span>
                                <span role="img" aria-label="Headphones">🎧</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Live Streaming</span>
                                <span role="img" aria-label="TV">📺</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Video Calls</span>
                                <span role="img" aria-label="Video">📹</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">AR/VR Experiences</span>
                                <span role="img" aria-label="VR">🥽</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Explore Media</button>
                    </div>

                    <div class="card" style="text-align: center; cursor: pointer;" onclick="selectCategory('extra')" role="button" tabindex="0" onkeydown="handleKeyPress(event, () => selectCategory('extra'))">
                        <div style="font-size: 4rem; margin-bottom: 1.5rem;" role="img" aria-label="Games">🎮</div>
                        <h2 style="margin-bottom: 1rem; color: var(--warning);">Extra Features</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">Play games, shop in the marketplace, manage your business, and access premium tools.</p>
                        <div style="background: var(--glass); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Interactive Games</span>
                                <span role="img" aria-label="Joystick">🕹️</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Marketplace</span>
                                <span role="img" aria-label="Shopping">🛒</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.9rem;">Business Tools</span>
                                <span role="img" aria-label="Business">💼</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Wallet & Analytics</span>
                                <span role="img" aria-label="Money">💰</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Discover More</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SOCIAL MEDIA CATEGORY -->
        <section id="socialCategory" class="category-section" aria-label="Social media">
            <!-- Home Screen -->
            <div id="socialHome" class="screen active">
                <div style="display: grid; grid-template-columns: 300px 1fr 300px; gap: 2rem; max-width: 1400px; margin: 0 auto; padding: 2rem;">
                    <!-- Left Sidebar -->
                    <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                        <h3>Quick Actions</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 2rem;">
                            <button class="btn btn-secondary btn-small" onclick="openCreatePost()">✏️ Create Post</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'stories')">📱 Add Story</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'groups')">👥 Join Groups</button>
                            <button class="btn btn-secondary btn-small" onclick="switchToScreen('social', 'events')">📅 Events</button>
                        </div>
                        
                        <h3>Trending</h3>
                        <div style="margin-top: 1rem;">
                            <div style="padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border); cursor: pointer;" onclick="searchTrending('ConnectHub')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#ConnectHub</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">24.5K posts</div>
                            </div>
                            <div style="padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border); cursor: pointer;" onclick="searchTrending('SocialMedia')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#SocialMedia</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">15.2K posts</div>
                            </div>
                            <div style="padding: 0.75rem 0; cursor: pointer;" onclick="searchTrending('AITech')" role="button" tabindex="0">
                                <div style="font-weight: 600;">#AITech</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">8.7K posts</div>
                            </div>
                        </div>
                    </aside>

                    <!-- Main Feed -->
                    <main style="display: flex; flex-direction: column; gap: 2rem;">
                        <!-- Create Post -->
                        <article style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <div style="width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white;" aria-label="User avatar">JD</div>
                                <div style="flex: 1; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 25px; padding: 1rem 1.5rem; color: var(--text-secondary); cursor: pointer;" onclick="openCreatePost()" role="button" tabindex="0">
                                    What's on your mind, John?
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('photo')">📷 Photo</button>
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('video')">🎥 Video</button>
                                    <button class="btn btn-secondary btn-small" onclick="openCreatePost('location')">📍 Location</button>
                                </div>
                                <button class="btn btn-primary btn-small" onclick="openCreatePost()">Share</button>
                            </div>
                        </article>

                        <!-- Posts -->
                        <div id="postsContainer" role="feed" aria-label="Social media posts">
                            <!-- Posts will be dynamically generated -->
                        </div>
                    </main>

                    <!-- Right Sidebar -->
                    <aside style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; height: fit-content; position: sticky; top: 160px;">
                        <h3>Suggested Friends</h3>
                        <div style="margin-top: 1rem;" id="suggestedFriends">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        
                        <h3 style="margin-top: 2rem;">Active Now</h3>
                        <div style="margin-top: 1rem;" id="activeUsers">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </aside>
                </div>
            </div>

            <!-- Messages Screen -->
            <div id="socialMessages" class="screen">
                <div style="display: grid; grid-template-columns: 350px 1fr; height: calc(100vh - 140px);">
                    <!-- Conversations List -->
                    <aside style="background: var(--bg-card); border-right: 1px solid var(--glass-border);">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--glass-border);">
                            <h2 style="margin-bottom: 1rem;">Messages</h2>
                            <label for="conversationSearch" class="sr-only">Search conversations</label>
                            <input type="text" id="conversationSearch" placeholder="Search conversations..." style="width: 100%; padding: 0.75rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary);" onkeyup="searchConversations(this.value)">
                        </div>
                        <div id="conversationsList" role="list" aria-label="Conversations">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </aside>
                    
                    <!-- Chat Area -->
                    <main style="display: flex; flex-direction: column;" id="chatArea">
                        <!-- Will be populated when a conversation is selected -->
                        <div style="flex: 1; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                            <div style="text-align: center;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;" role="img" aria-label="Chat">💬</div>
                                <h3>Select a conversation to start chatting</h3>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <!-- Profile Screen -->
            <div id="socialProfile" class="screen">
                <div class="page-layout">
                    <div class="card" style="text-align: center;">
                        <div style="width: 120px; height: 120px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; margin: 0 auto 1rem;" aria-label="Profile picture">JD</div>
                        <h2>John Doe</h2>
                        <p style="color: var(--text-secondary); margin: 1rem 0;">Software Engineer & Social Media Enthusiast</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-number">1,247</div>
                                <div class="stat-label">Followers</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">892</div>
                                <div class="stat-label">Following</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">156</div>
                                <div class="stat-label">Posts</div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="editProfile()">Edit Profile</button>
                            <button class="btn btn-secondary" onclick="viewMyPosts()">My Posts</button>
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h3 style="margin-bottom: 1rem;">Recent Posts</h3>
                        <div class="grid-3" id="userPosts">
                            <!-- User's posts will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Screen -->
            <div id="socialSearch" class="screen">
                <div class="page-layout">
                    <div style="text-align: center; margin-bottom: 3rem;">
                        <h1 style="font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">🔍 Search</h1>
                        <div style="max-width: 600px; margin: 0 auto; position: relative;">
                            <label for="socialSearchInput" class="sr-only">Search people, posts, groups, events</label>
                            <input type="text" id="socialSearchInput" placeholder="Search people, posts, groups, events..." style="width: 100%; padding: 1rem 1.5rem; padding-right: 4rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 25px; color: var(--text-primary); font-size: 1.1rem;" onkeyup="performSearch(this.value)">
                            <button style="position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); background: var(--primary); border: none; border-radius: 50%; width: 40px; height: 40px; color: white; cursor: pointer; font-size: 1.2rem;" onclick="performSearch(document.getElementById('socialSearchInput').value)" aria-label="Search">🔍</button>
                        </div>
                    </div>

                    <div id="searchResults" style="display: none;" role="region" aria-label="Search results">
                        <!-- Search results will be displayed here -->
                    </div>

                    <div id="searchDefault">
                        <div class="grid-2" style="margin-bottom: 3rem;">
                            <div class="card">
                                <h3 style="margin-bottom: 1.5rem;">🔥 Trending</h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;" id="trendingTopics">
                                    <!-- Trending topics will be populated -->
                                </div>
                            </div>
                            <div class="card">
                                <h3 style="margin-bottom: 1.5rem;">👥 Suggested People</h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;" id="suggestedPeople">
                                    <!-- Suggested people will be populated -->
                                </div>
                            </div>
                        </div>

                        <div class="grid-3">
                            <div class="card" style="text-align: center;" onclick="searchCategory('posts')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Posts">📝</div>
                                <h3>Posts</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Search through millions of posts</p>
                                <button class="btn btn-secondary">Search Posts</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="searchCategory('groups')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Groups">👥</div>
                                <h3>Groups</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Find communities you'll love</p>
                                <button class="btn btn-secondary">Find Groups</button>
                            </div>
                            <div class="card" style="text-align: center;" onclick="searchCategory('events')" role="button" tabindex="0">
                                <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Events">📅</div>
                                <h3>Events</h3>
                                <p style="color: var(--text-secondary); margin: 1rem 0;">Discover events near you</p>
                                <button class="btn btn-secondary">Find Events</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Groups Screen -->
            <div id="socialGroups" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>Groups</h1>
                        <button class="btn btn-primary" onclick="createGroup()">+ Create Group</button>
                    </div>
                    
                    <div class="grid-3" id="groupsList" role="list" aria-label="Groups">
                        <!-- Groups will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Events Screen -->
            <div id="socialEvents" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>Events</h1>
                        <button class="btn btn-primary" onclick="createEvent()">+ Create Event</button>
                    </div>
                    
                    <div class="grid-3" id="eventsList" role="list" aria-label="Events">
                        <!-- Events will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Stories Screen -->
            <div id="socialStories" class="screen">
                <div class="page-layout">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h1>Stories</h1>
                        <button class="btn btn-primary" onclick="createStory()">+ Add Story</button>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; overflow-x: auto; padding: 1rem 0;" id="storiesList" role="list" aria-label="Stories">
                        <!-- Stories will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Explore Screen -->
            <div id="socialExplore" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Explore</h1>
                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Discover">🌟</div>
                            <h3>Discover Content</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Find trending posts and viral content</p>
                            <button class="btn btn-primary">Explore Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="People">👥</div>
                            <h3>Meet People</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Connect with interesting people worldwide</p>
                            <button class="btn btn-primary">Find Friends</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Interests">🎯</div>
                            <h3>Your Interests</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Content tailored to your preferences</p>
                            <button class="btn btn-primary">Personalize</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Screen -->
            <div id="socialSettings" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">Settings</h1>
                    
                    <div class="grid-2">
                        <div class="card">
                            <h3>Privacy Settings</h3>
                            <div style="margin-top: 1rem;">
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Profile visibility</span>
                                    <select style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; padding: 0.5rem; color: var(--text-primary);" aria-label="Profile visibility">
                                        <option>Public</option>
                                        <option>Friends only</option>
                                        <option>Private</option>
                                    </select>
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Show online status</span>
                                    <input type="checkbox" checked aria-label="Show online status">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Allow message requests</span>
                                    <input type="checkbox" checked aria-label="Allow message requests">
                                </label>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Notifications</h3>
                            <div style="margin-top: 1rem;">
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Push notifications</span>
                                    <input type="checkbox" checked aria-label="Push notifications">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Email notifications</span>
                                    <input type="checkbox" aria-label="Email notifications">
                                </label>
                                <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <span>Sound notifications</span>
                                    <input type="checkbox" checked aria-label="Sound notifications">
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3>Account Management</h3>
                        <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                            <button class="btn btn-secondary">Change Password</button>
                            <button class="btn btn-secondary">Download Data</button>
                            <button class="btn btn-error">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EXTRA CATEGORY -->
        <section id="extraCategory" class="category-section" aria-label="Extra features">
            <!-- Games Screen -->
            <div id="extraGames" class="screen active">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">🎮 Interactive Games</h1>
                    
                    <div class="grid-3">
                        <div class="card" style="text-align: center;" onclick="openGameModal('tic-tac-toe')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Tic tac toe">⭕</div>
                            <h3>Tic-Tac-Toe</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Classic strategy game for two players</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="openGameModal('memory')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Memory game">🧠</div>
                            <h3>Memory Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Test your memory with card matching</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="openGameModal('quiz')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Quiz">❓</div>
                            <h3>Quiz Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Challenge your knowledge</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="openGameModal('strategy')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Strategy">♟️</div>
                            <h3>Strategy Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Think ahead and plan your moves</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="openGameModal('card')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Card game">🃏</div>
                            <h3>Card Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Play various card games</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="card" style="text-align: center;" onclick="openGameModal('puzzle')" role="button" tabindex="0">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Puzzle">🧩</div>
                            <h3>Puzzle Game</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Solve challenging puzzles</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 2rem;">
                        <h3 style="margin-bottom: 1rem;">🏆 Leaderboard</h3>
                        <div id="leaderboard">
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--glass); border-radius: 8px; margin-bottom: 0.5rem;">
                                <span>1. John Doe</span>
                                <span style="color: var(--primary); font-weight: 600;">2,450 points</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--glass); border-radius: 8px; margin-bottom: 0.5rem;">
                                <span>2. Sarah Wilson</span>
                                <span style="color: var(--secondary); font-weight: 600;">2,100 points</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--glass); border-radius: 8px;">
                                <span>3. Mike Chen</span>
                                <span style="color: var(--accent); font-weight: 600;">1,875 points</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marketplace Screen -->
            <div id="extraMarketplace" class="screen">
                <div class="page-layout">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h1>🛒 Marketplace</h1>
                        <button class="btn btn-primary" onclick="sellItem()">+ Sell Item</button>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-bottom: 2rem; overflow-x: auto;">
                        <button class="btn btn-secondary category-filter active" data-category="all">All</button>
                        <button class="btn btn-secondary category-filter" data-category="electronics">Electronics</button>
                        <button class="btn btn-secondary category-filter" data-category="fashion">Fashion</button>
                        <button class="btn btn-secondary category-filter" data-category="home">Home</button>
                        <button class="btn btn-secondary category-filter" data-category="books">Books</button>
                        <button class="btn btn-secondary category-filter" data-category="sports">Sports</button>
                    </div>

                    <div class="grid-3" id="marketplaceItems">
                        <div class="card" style="text-align: center;">
                            <div style="height: 200px; background: var(--glass); border-radius: 12px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem;" role="img" aria-label="iPhone">📱</div>
                            <h4>iPhone 15 Pro</h4>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0;">Latest iPhone in excellent condition</p>
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem;">$999</div>
                            <button class="btn btn-primary btn-small">Buy Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="height: 200px; background: var(--glass); border-radius: 12px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem;" role="img" aria-label="Laptop">💻</div>
                            <h4>MacBook Pro</h4>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0;">M3 chip, 16GB RAM, perfect for work</p>
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem;">$1,899</div>
                            <button class="btn btn-primary btn-small">Buy Now</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="height: 200px; background: var(--glass); border-radius: 12px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem;" role="img" aria-label="Headphones">🎧</div>
                            <h4>AirPods Pro</h4>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0;">Noise canceling, wireless charging</p>
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem;">$249</div>
                            <button class="btn btn-primary btn-small">Buy Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Business Screen -->
            <div id="extraBusiness" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">💼 Business Center</h1>
                    
                    <div class="grid-2" style="margin-bottom: 2rem;">
                        <div class="card">
                            <h3>Business Overview</h3>
                            <div style="margin-top: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Total Revenue</span>
                                    <strong style="color: var(--success);">$12,345</strong>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Active Products</span>
                                    <strong style="color: var(--primary);">23</strong>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Orders Today</span>
                                    <strong style="color: var(--accent);">8</strong>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <h3>Quick Actions</h3>
                            <div style="margin-top: 1rem; display: flex; flex-direction: column; gap: 0.5rem;">
                                <button class="btn btn-primary btn-small">+ Add Product</button>
                                <button class="btn btn-secondary btn-small">📊 View Analytics</button>
                                <button class="btn btn-secondary btn-small">📦 Manage Orders</button>
                                <button class="btn btn-secondary btn-small">💬 Customer Support</button>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Recent Orders</h3>
                        <div style="margin-top: 1rem;" id="recentOrders">
                            <div style="display: grid; grid-template-columns: 1fr auto auto auto; gap: 1rem; padding: 1rem; background: var(--glass); border-radius: 8px; margin-bottom: 0.5rem; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">Order #1234</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">John Smith - iPhone 15 Pro</div>
                                </div>
                                <div style="color: var(--success); font-weight: 600;">$999</div>
                                <div style="color: var(--warning);">Pending</div>
                                <button class="btn btn-primary btn-small">View</button>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr auto auto auto; gap: 1rem; padding: 1rem; background: var(--glass); border-radius: 8px; margin-bottom: 0.5rem; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">Order #1235</div>
                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">Sarah Johnson - MacBook Pro</div>
                                </div>
                                <div style="color: var(--success); font-weight: 600;">$1,899</div>
                                <div style="color: var(--success);">Delivered</div>
                                <button class="btn btn-secondary btn-small">View</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wallet Screen -->
            <div id="extraWallet" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">💰 Digital Wallet</h1>
                    
                    <div class="card" style="text-align: center; margin-bottom: 2rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Wallet">💳</div>
                        <h2 style="margin-bottom: 0.5rem;">Current Balance</h2>
                        <div style="font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;" id="walletBalance">1,250 Coins</div>
                        <div style="color: var(--text-secondary);">≈ $125.00 USD</div>
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="openCoinPurchase()">💳 Buy Coins</button>
                            <button class="btn btn-secondary" onclick="transferCoins()">📤 Transfer</button>
                            <button class="btn btn-secondary" onclick="viewTransactions()">📋 History</button>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <h3>Earning Opportunities</h3>
                            <div style="margin-top: 1rem;">
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem; cursor: pointer;" onclick="earnCoins('daily')">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-weight: 600;">Daily Check-in</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Login every day to earn coins</div>
                                        </div>
                                        <div style="color: var(--success); font-weight: 600;">+10 coins</div>
                                    </div>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; margin-bottom: 1rem; cursor: pointer;" onclick="earnCoins('referral')">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-weight: 600;">Refer Friends</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Invite friends and earn rewards</div>
                                        </div>
                                        <div style="color: var(--success); font-weight: 600;">+50 coins</div>
                                    </div>
                                </div>
                                <div style="padding: 1rem; background: var(--glass); border-radius: 12px; cursor: pointer;" onclick="earnCoins('post')">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-weight: 600;">Create Content</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Share posts and engage</div>
                                        </div>
                                        <div style="color: var(--success); font-weight: 600;">+5 coins</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Recent Transactions</h3>
                            <div style="margin-top: 1rem;" id="recentTransactions">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border);">
                                    <div>
                                        <div style="font-weight: 600;">Daily Check-in</div>
                                        <div style="color: var(--text-secondary); font-size: 0.9rem;">2 hours ago</div>
                                    </div>
                                    <div style="color: var(--success); font-weight: 600;">+10</div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--glass-border);">
                                    <div>
                                        <div style="font-weight: 600;">Content Creation</div>
                                        <div style="color: var(--text-secondary); font-size: 0.9rem;">5 hours ago</div>
                                    </div>
                                    <div style="color: var(--success); font-weight: 600;">+5</div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0;">
                                    <div>
                                        <div style="font-weight: 600;">Premium Upgrade</div>
                                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Yesterday</div>
                                    </div>
                                    <div style="color: var(--error); font-weight: 600;">-100</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Screen -->
            <div id="extraAnalytics" class="screen">
                <div class="page-layout">
                    <h1 style="margin-bottom: 2rem;">📊 Analytics Dashboard</h1>
                    
                    <div class="grid-3" style="margin-bottom: 2rem;">
                        <div class="card" style="text-align: center;">
                            <h4 style="color: var(--text-secondary); margin-bottom: 0.5rem;">Total Views</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 0.5rem;">24.5K</div>
                            <div style="color: var(--success); font-size: 0.9rem;">+12% this week</div>
                        </div>
                        <div class="card" style="text-align: center;">
                            <h4 style="color: var(--text-secondary); margin-bottom: 0.5rem;">Engagement Rate</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--secondary); margin-bottom: 0.5rem;">8.7%</div>
                            <div style="color: var(--success); font-size: 0.9rem;">+2.3% this week</div>
                        </div>
                        <div class="card" style="text-align: center;">
                            <h4 style="color: var(--text-secondary); margin-bottom: 0.5rem;">New Followers</h4>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent); margin-bottom: 0.5rem;">156</div>
                            <div style="color: var(--success); font-size: 0.9rem;">+8% this week</div>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <h3>Content Performance</h3>
                            <div style="height: 200px; background: var(--glass); border-radius: 12px; margin-top: 1rem; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                                📈 Chart visualization would go here
                            </div>
                        </div>
                        <div class="card">
                            <h3>Audience Demographics</h3>
                            <div style="margin-top: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Age 18-24</span>
                                    <div style="flex: 1; margin: 0 1rem; background: var(--glass); border-radius: 4px; overflow: hidden;">
                                        <div style="background: var(--primary); height: 8px; width: 35%;"></div>
                                    </div>
                                    <span>35%</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Age 25-34</span>
                                    <div style="flex: 1; margin: 0 1rem; background: var(--glass); border-radius: 4px; overflow: hidden;">
                                        <div style="background: var(--secondary); height: 8px; width: 45%;"></div>
                                    </div>
                                    <span>45%</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>Age 35+</span>
                                    <div style="flex: 1; margin: 0 1rem; background: var(--glass); border-radius: 4px; overflow: hidden;">
                                        <div style="background: var(--accent); height: 8px; width: 20%;"></div>
                                    </div>
                                    <span>20%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Help Screen -->
            <div id="extraHelp" class="screen">
                <div class="page-layout">
                    <h1 style="text-align: center; margin-bottom: 2rem;">❓ Help & Support</h1>
                    
                    <div class="grid-2" style="margin-bottom: 2rem;">
                        <div class="card">
                            <h3>🔍 Search Help</h3>
                            <div style="margin-top: 1rem;">
                                <input type="text" placeholder="What do you need help with?" style="width: 100%; padding: 0.75rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary); margin-bottom: 1rem;">
                                <button class="btn btn-primary">Search</button>
                            </div>
                        </div>
                        <div class="card">
                            <h3>📞 Contact Support</h3>
                            <div style="margin-top: 1rem;">
                                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Need direct help? Our support team is here 24/7</p>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-primary btn-small">💬 Live Chat</button>
                                    <button class="btn btn-secondary btn-small">📧 Email</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid-3">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Getting started">🚀</div>
                            <h3>Getting Started</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Learn the basics of using ConnectHub</p>
                            <button class="btn btn-secondary">View Guide</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="FAQ">❓</div>
                            <h3>FAQ</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Frequently asked questions and answers</p>
                            <button class="btn btn-secondary">View FAQ</button>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;" role="img" aria-label="Community">👥</div>
                            <h3>Community</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Join our community forums</p>
                            <button class="btn btn-secondary">Join Forum</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Game Modals -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2 id="gameModalTitle">Game</h2>
                <button onclick="closeModal('gameModal')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);" aria-label="Close">&times;</button>
            </div>
            <div id="gameModalContent">
                <!-- Game content will be populated here -->
            </div>
        </div>
    </div>

    <!-- Create Post Modal -->
    <div id="createPostModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2>Create Post</h2>
                <button onclick="closeModal('createPostModal')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);" aria-label="Close">&times;</button>
            </div>
            <form id="createPostForm">
                <div class="form-group">
                    <textarea placeholder="What's on your mind?" style="width: 100%; min-height: 120px; padding: 1rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary); resize: vertical;" id="postContent"></textarea>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; gap: 1rem;">
                        <button type="button" class="btn btn-secondary btn-small">📷 Photo</button>
                        <button type="button" class="btn btn-secondary btn-small">🎥 Video</button>
                        <button type="button" class="btn btn-secondary btn-small">📍 Location</button>
                    </div>
                    <button type="submit" class="btn btn-primary">Share Post</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Coin Purchase Modal -->
    <div id="coinPurchaseModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h2>Buy Coins</h2>
                <button onclick="closeModal('coinPurchaseModal')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);" aria-label="Close">&times;</button>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                <div style="text-align: center; padding: 1.5rem; background: var(--glass); border-radius: 12px; cursor: pointer; transition: all 0.3s ease;" onclick="purchaseCoins(100, '$9.99')" role="button" tabindex="0">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;" role="img" aria-label="Coins">🪙</div>
                    <h4>100 Coins</h4>
                    <div style="color: var(--primary); font-weight: 600;">$9.99</div>
                </div>
                <div style="text-align: center; padding: 1.5rem; background: var(--glass); border-radius: 12px; cursor: pointer; transition: all 0.3s ease;" onclick="purchaseCoins(500, '$39.99')" role="button" tabindex="0">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;" role="img" aria-label="Coins">🪙</div>
                    <h4>500 Coins</h4>
                    <div style="color: var(--primary); font-weight: 600;">$39.99</div>
                    <div style="background: var(--secondary); color: white; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 12px; margin-top: 0.5rem;">Popular</div>
                </div>
                <div style="text-align: center; padding: 1.5rem; background: var(--glass); border-radius: 12px; cursor: pointer; transition: all 0.3s ease;" onclick="purchaseCoins(1000, '$69.99')" role="button" tabindex="0">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;" role="img" aria-label="Coins">🪙</div>
                    <h4>1000 Coins</h4>
                    <div style="color: var(--primary); font-weight: 600;">$69.99</div>
                    <div style="background: var(--success); color: white; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 12px; margin-top: 0.5rem;">Best Value</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global State Management
        let currentUser = {
            id: 'user123',
            name: 'John Doe',
            email: 'john@example.com',
            avatar: 'JD',
            coins: 1250,
            isAuthenticated: false
        };

        let appState = {
            currentCategory: 'auth',
            currentScreen: null,
            previousCategory: null,
            notifications: [],
            isLoading: false
        };

        // Configuration objects for categories and screens
        const categoryConfig = {
            social: {
                name: 'Social',
                icon: '📱',
                screens: {
                    home: { name: 'Home', icon: '🏠' },
                    messages: { name: 'Messages', icon: '💬' },
                    profile: { name: 'Profile', icon: '👤' },
                    search: { name: 'Search', icon: '🔍' },
                    groups: { name: 'Groups', icon: '👥' },
                    events: { name: 'Events', icon: '📅' },
                    stories: { name: 'Stories', icon: '📱' },
                    explore: { name: 'Explore', icon: '🌟' },
                    settings: { name: 'Settings', icon: '⚙️' }
                }
            },
            dating: {
                name: 'Dating',
                icon: '💕',
                screens: {
                    swipe: { name: 'Discover', icon: '💫' },
                    matches: { name: 'Matches', icon: '💬' },
                    chat: { name: 'Chat', icon: '💕' },
                    preferences: { name: 'Preferences', icon: '⚙️' }
                }
            },
            media: {
                name: 'Media',
                icon: '🎵',
                screens: {
                    music: { name: 'Music', icon: '🎧' },
                    live: { name: 'Live', icon: '📺' },
                    video: { name: 'Video', icon: '📹' },
                    ar: { name: 'AR/VR', icon: '🥽' }
                }
            },
            extra: {
                name: 'Extra',
                icon: '🎮',
                screens: {
                    games: { name: 'Games', icon: '🕹️' },
                    marketplace: { name: 'Marketplace', icon: '🛒' },
                    business: { name: 'Business', icon: '💼' },
                    wallet: { name: 'Wallet', icon: '💰' },
                    analytics: { name: 'Analytics', icon: '📊' },
                    help: { name: 'Help', icon: '❓' }
                }
            }
        };

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            
            // Check if user should be auto-logged in (for demo purposes)
            if (localStorage.getItem('connecthub_demo_user')) {
                authenticateUser();
            }
        });

        // Initialize the application
        function initializeApp() {
            updateMainNav();
            populateNotifications();
            
            // Start with auth screen if not authenticated
            if (!currentUser.isAuthenticated) {
                showCategory('auth');
            } else {
                showCategory('social');
            }
        }

        // Authentication Functions
        function authenticateUser(userData = null) {
            currentUser.isAuthenticated = true;
            if (userData) {
                Object.assign(currentUser, userData);
            }
            
            // Save demo user state
            localStorage.setItem('connecthub_demo_user', 'true');
            
            // Hide auth screen and show category selection
            hideAuthScreen();
            showCategory('categorySelection');
            updateMainNav();
            
            showToast('Welcome to ConnectHub!', 'success');
        }

        function hideAuthScreen() {
            const authScreen = document.getElementById('authScreen');
            if (authScreen) {
                authScreen.classList.remove('active');
            }
        }

        // Navigation Functions
        function updateMainNav() {
            const mainNav = document.getElementById('mainNav');
            if (!mainNav) return;

            if (!currentUser.isAuthenticated) {
                mainNav.innerHTML = '';
                return;
            }

            // Check if we're on category selection screen
            if (appState.currentCategory === 'categorySelection') {
                mainNav.innerHTML = `
                    <div class="nav-item" onclick="showNotifications()" role="button" tabindex="0" aria-label="Notifications">
                        🔔
                        <div class="notification-dot"></div>
                    </div>
                `;
                return;
            }

            // Show category navigation
            const categories = Object.keys(categoryConfig);
            const categoryTabs = categories.map(cat => {
                const config = categoryConfig[cat];
                const isActive = appState.currentCategory === cat ? 'active' : '';
                return `
                    <div class="category-tab ${isActive}" onclick="selectCategory('${cat}')" role="button" tabindex="0">
                        ${config.icon} ${config.name}
                    </div>
                `;
            }).join('');

            mainNav.innerHTML = `
                <div class="category-nav">
                    ${categoryTabs}
                </div>
                <div class="nav-item" onclick="showNotifications()" role="button" tabindex="0" aria-label="Notifications">
                    🔔
                    <div class="notification-dot"></div>
                </div>
            `;
        }

        function updateSubNav() {
            const subNav = document.getElementById('subNav');
            const subNavContainer = document.getElementById('subNavContainer');
            
            if (!subNav || !currentUser.isAuthenticated || 
                appState.currentCategory === 'auth' || 
                appState.currentCategory === 'categorySelection') {
                if (subNavContainer) subNavContainer.style.display = 'none';
                return;
            }

            if (subNavContainer) subNavContainer.style.display = 'block';
            
            const categoryData = categoryConfig[appState.currentCategory];
            if (!categoryData || !categoryData.screens) {
                subNav.innerHTML = '';
                return;
            }

            const screenItems = Object.keys(categoryData.screens).map(screenKey => {
                const screen = categoryData.screens[screenKey];
                const isActive = appState.currentScreen === screenKey ? 'active' : '';
                return `
                    <div class="sub-nav-item ${isActive}" onclick="switchToScreen('${appState.currentCategory}', '${screenKey}')" role="button" tabindex="0">
                        ${screen.icon} ${screen.name}
                    </div>
                `;
            }).join('');

            subNav.innerHTML = screenItems;
        }

        // Category and Screen Management
        function showCategory(categoryName) {
            // Hide all category sections
            document.querySelectorAll('.category-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show the selected category
            const categoryElement = document.getElementById(categoryName + (categoryName === 'auth' ? 'Screen' : categoryName === 'categorySelection' ? '' : 'Category'));
            if (categoryElement) {
                categoryElement.classList.add('active');
            }

            appState.previousCategory = appState.currentCategory;
            appState.currentCategory = categoryName;
            
            // Set default screen for categories
            if (categoryName !== 'auth' && categoryName !== 'categorySelection') {
                const defaultScreen = Object.keys(categoryConfig[categoryName]?.screens || {})[0];
                if (defaultScreen) {
                    appState.currentScreen = defaultScreen;
                }
            }

            updateMainNav();
            updateSubNav();
        }

        function selectCategory(categoryName) {
            showCategory(categoryName);
            
            // Initialize category-specific data
            switch(categoryName) {
                case 'social':
                    initializeSocialFeeds();
                    break;
                case 'dating':
                    initializeDatingProfiles();
                    break;
                case 'media':
                    initializeMediaPlayer();
                    break;
                case 'extra':
                    initializeExtraFeatures();
                    break;
            }
        }

        function switchToScreen(category, screenName) {
            // Hide all screens in the category
            document.querySelectorAll(`#${category}Category .screen`).forEach(screen => {
                screen.classList.remove('active');
            });

            // Show the selected screen
            const screenElement = document.getElementById(`${category}${screenName.charAt(0).toUpperCase() + screenName.slice(1)}`);
            if (screenElement) {
                screenElement.classList.add('active');
            }

            appState.currentScreen = screenName;
            updateSubNav();
        }

        // Authentication Form Handling
        function setupEventListeners() {
            // Auth form handling
            const authForm = document.getElementById('authForm');
            if (authForm) {
                authForm.addEventListener('submit', handleAuthSubmit);
            }

            // Auth tab switching
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('auth-tab')) {
                    switchAuthMode(e.target.dataset.mode);
                }
            });

            // Create post form
            const createPostForm = document.getElementById('createPostForm');
            if (createPostForm) {
                createPostForm.addEventListener('submit', handleCreatePost);
            }
        }

        function handleAuthSubmit(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const fullName = document.getElementById('fullName').value;
            
            if (!email || !password) {
                showToast('Please fill in all required fields', 'error');
                return;
            }

            // Simulate authentication (in real app, this would be an API call)
            setTimeout(() => {
                const userData = {
                    name: fullName || 'User',
                    email: email,
                    avatar: fullName ? fullName.split(' ').map(n => n[0]).join('') : 'U'
                };
                
                authenticateUser(userData);
            }, 1000);
        }

        function switchAuthMode(mode) {
            const nameGroup = document.getElementById('nameGroup');
            const confirmGroup = document.getElementById('confirmGroup');
            const authButtonText = document.getElementById('authButtonText');
            const authTabs = document.querySelectorAll('.auth-tab');

            authTabs.forEach(tab => {
                tab.classList.toggle('active', tab.dataset.mode === mode);
            });

            if (mode === 'register') {
                nameGroup.style.display = 'block';
                confirmGroup.style.display = 'block';
                authButtonText.textContent = 'Create Account';
            } else {
                nameGroup.style.display = 'none';
                confirmGroup.style.display = 'none';
                authButtonText.textContent = 'Sign In';
            }
        }

        function socialLogin(provider) {
            showToast(`Signing in with ${provider}...`, 'success');
            setTimeout(() => {
                authenticateUser({
                    name: 'John Doe',
                    email: 'john@example.com',
                    avatar: 'JD'
                });
            }, 1500);
        }

        function forgotPassword() {
            showToast('Password reset link sent to your email', 'success');
        }

        // Social Media Functions
        function initializeSocialFeeds() {
            populateSocialPosts();
            populateSuggestedFriends();
            populateActiveUsers();
            populateConversations();
            populateGroups();
            populateEvents();
            populateTrendingTopics();
        }

        function populateSocialPosts() {
            const postsContainer = document.getElementById('postsContainer');
            if (!postsContainer) return;

            const samplePosts = [
                {
                    id: 1,
                    author: { name: 'Sarah Wilson', avatar: 'SW' },
                    content: 'Just finished an amazing hiking trip! The views were breathtaking 🏔️',
                    image: '🏔️',
                    timestamp: '2 hours ago',
                    likes: 24,
                    comments: 8,
                    shares: 3
                },
                {
                    id: 2,
                    author: { name: 'Mike Chen', avatar: 'MC' },
                    content: 'Working on a new AI project. Excited to share the results soon! #AI #TechLife',
                    timestamp: '4 hours ago',
                    likes: 18,
                    comments: 12,
                    shares: 5
                },
                {
                    id: 3,
                    author: { name: 'Emma Davis', avatar: 'ED' },
                    content: 'Coffee and coding - the perfect Saturday morning combination ☕',
                    image: '☕',
                    timestamp: '6 hours ago',
                    likes: 31,
                    comments: 6,
                    shares: 2
                }
            ];

            const postsHTML = samplePosts.map(post => `
                <article style="background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 20px; padding: 1.5rem; animation: fadeIn 0.5s ease;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white;">${post.author.avatar}</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">${post.author.name}</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">${post.timestamp}</div>
                        </div>
                        <button style="background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 1.2rem;">⋯</button>
                    </div>
                    <div style="margin-bottom: 1rem; line-height: 1.6;">${post.content}</div>
                    ${post.image ? `<div style="font-size: 4rem; text-align: center; margin: 1rem 0; padding: 2rem; background: var(--glass); border-radius: 12px;">${post.image}</div>` : ''}
                    <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                        <button class="btn btn-secondary btn-small" onclick="likePost(${post.id})">👍 ${post.likes}</button>
                        <button class="btn btn-secondary btn-small" onclick="commentPost(${post.id})">💬 ${post.comments}</button>
                        <button class="btn btn-secondary btn-small" onclick="sharePost(${post.id})">📤 ${post.shares}</button>
                    </div>
                </article>
            `).join('');

            postsContainer.innerHTML = postsHTML;
        }

        function populateSuggestedFriends() {
            const suggestedFriends = document.getElementById('suggestedFriends');
            if (!suggestedFriends) return;

            const friends = [
                { name: 'Alex Johnson', avatar: 'AJ', mutualFriends: 5 },
                { name: 'Lisa Wang', avatar: 'LW', mutualFriends: 8 },
                { name: 'David Brown', avatar: 'DB', mutualFriends: 3 }
            ];

            const friendsHTML = friends.map(friend => `
                <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--glass); border-radius: 12px; margin-bottom: 0.5rem;">
                    <div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white; font-size: 0.9rem;">${friend.avatar}</div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; font-size: 0.9rem;">${friend.name}</div>
                        <div style="color: var(--text-secondary); font-size: 0.8rem;">${friend.mutualFriends} mutual friends</div>
                    </div>
                    <button class="btn btn-primary btn-small" onclick="addFriend('${friend.name}')">Add</button>
                </div>
            `).join('');

            suggestedFriends.innerHTML = friendsHTML;
        }

        function populateActiveUsers() {
            const activeUsers = document.getElementById('activeUsers');
            if (!activeUsers) return;

            const users = [
                { name: 'Tom Wilson', avatar: 'TW' },
                { name: 'Anna Lee', avatar: 'AL' },
                { name: 'Chris Taylor', avatar: 'CT' }
            ];

            const usersHTML = users.map(user => `
                <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; cursor: pointer; border-radius: 12px; transition: background 0.3s ease;" onmouseover="this.style.background='var(--glass)'" onmouseout="this.style.background='transparent'" onclick="startChat('${user.name}')">
                    <div style="position: relative;">
                        <div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white; font-size: 0.9rem;">${user.avatar}</div>
                        <div style="position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background: var(--success); border-radius: 50%; border: 2px solid var(--bg-card);"></div>
                    </div>
                    <div>
                        <div style="font-weight: 600; font-size: 0.9rem;">${user.name}</div>
                        <div style="color: var(--text-secondary); font-size: 0.8rem;">Online</div>
                    </div>
                </div>
            `).join('');

            activeUsers.innerHTML = usersHTML;
        }

        function populateConversations() {
            const conversationsList = document.getElementById('conversationsList');
            if (!conversationsList) return;

            const conversations = [
                { name: 'Sarah Wilson', avatar: 'SW', lastMessage: 'Thanks for the help!', timestamp: '10:30 AM', unread: 2 },
                { name: 'Mike Chen', avatar: 'MC', lastMessage: 'Let\'s meet tomorrow', timestamp: '9:15 AM', unread: 0 },
                { name: 'Emma Davis', avatar: 'ED', lastMessage: 'Great idea! 👍', timestamp: 'Yesterday', unread: 1 }
            ];

            const conversationsHTML = conversations.map(conv => `
                <div style="padding: 1rem; cursor: pointer; border-bottom: 1px solid var(--glass-border); transition: background 0.3s ease;" onclick="openConversation('${conv.name}')" onmouseover="this.style.background='var(--glass)'" onmouseout="this.style.background='transparent'">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="position: relative;">
                            <div style="width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); display: flex; align-items: center; justify-content: center; font-weight: 600; color: white;">${conv.avatar}</div>
                            ${conv.unread > 0 ? `<div style="position: absolute; top: -5px; right: -5px; background: var(--error); color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem;">${conv.unread}</div>` : ''}
                        </div>
                        <div style="flex: 1; min-width: 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
                                <div style="font-weight: 600;">${conv.name}</div>
                                <div style="color: var(--text-secondary); font-size: 0.8rem;">${conv.timestamp}</div>
                            </div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${conv.lastMessage}</div>
                        </div>
                    </div>
                </div>
            `).join('');

            conversationsList.innerHTML = conversationsHTML;
        }

        function populateGroups() {
            const groupsList = document.getElementById('groupsList');
            if (!groupsList) return;

            const groups = [
                { name: 'Tech Enthusiasts', members: 1247, image: '💻', description: 'Share and discuss the latest in technology' },
                { name: 'Photography Club', members: 892, image: '📸', description: 'Showcase your best shots and learn from others' },
                { name: 'Book Lovers', members: 2156, image: '📚', description: 'Discuss books and discover new reads' }
            ];

            const groupsHTML = groups.map(group => `
                <div class="card" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">${group.image}</div>
                    <h3>${group.name}</h3>
                    <p style="color: var(--text-secondary); margin: 1rem 0;">${group.description}</p>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">${group.members} members</div>
                    <button class="btn btn-primary" onclick="joinGroup('${group.name}')">Join Group</button>
                </div>
            `).join('');

            groupsList.innerHTML = groupsHTML;
        }

        function populateEvents() {
            const eventsList = document.getElementById('eventsList');
            if (!eventsList) return;

            const events = [
                { name: 'Tech Conference 2025', date: 'Mar 15, 2025', location: 'San Francisco', attendees: 350 },
                { name: 'Photography Workshop', date: 'Mar 20, 2025', location: 'New York', attendees: 45 },
                { name: 'Book Club Meetup', date: 'Mar 22, 2025', location: 'Chicago', attendees: 28 }
            ];

            const eventsHTML = events.map(event => `
                <div class="card" style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">📅</div>
                    <h3>${event.name}</h3>
                    <p style="color: var(--text-secondary); margin: 1rem 0;">${event.date} • ${event.location}</p>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">${event.attendees} attending</div>
                    <button class="btn btn-primary" onclick="attendEvent('${event.name}')">Attend Event</button>
                </div>
            `).join('');

            eventsList.innerHTML = eventsHTML;
        }

        function populateTrendingTopics() {
            const trendingTopics = document.getElementById('trendingTopics');
            if (!trendingTopics) return;

            const topics = [
                { hashtag: '#ConnectHub', posts: '24.5K' },
                { hashtag: '#SocialMedia', posts: '15.2K' },
                { hashtag: '#AITech', posts: '8.7K' },
                { hashtag: '#WebDev', posts: '12.3K' }
            ];

            const topicsHTML = topics.map(topic => `
                <div style="padding: 0.75rem; background: var(--glass); border-radius: 8px; cursor: pointer;" onclick="searchTrending('${topic.hashtag}')">
                    <div style="font-weight: 600;">${topic.hashtag}</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">${topic.posts} posts</div>
                </div>
            `).join('');

            trendingTopics.innerHTML = topicsHTML;
        }

        // Dating Functions
        function initializeDatingProfiles() {
            generateDatingCard();
            populateMatches();
            populateDatingInterests();
        }

        function generateDatingCard() {
            const datingCardContent = document.getElementById('datingCardContent');
            if (!datingCardContent) return;

            const profiles = [
                { name: 'Emma', age: 28, bio: 'Love hiking and photography', interests: ['Travel', 'Photography', 'Hiking'], image: '🌸' },
                { name: 'Sofia', age: 25, bio: 'Artist and coffee enthusiast', interests: ['Art', 'Coffee', 'Music'], image: '🎨' },
                { name: 'Maya', age: 30, bio: 'Yoga instructor and bookworm', interests: ['Yoga', 'Reading', 'Wellness'], image: '🧘‍♀️' }
            ];

            const profile = profiles[Math.floor(Math.random() * profiles.length)];

            datingCardContent.innerHTML = `
                <div style="height: 100%; display: flex; flex-direction: column;">
                    <div style="flex: 1; display: flex; align-items: center; justify-content: center; font-size: 6rem; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); margin: 1rem; border-radius: 16px; color: white;">${profile.image}</div>
                    <div style="padding: 1.5rem;">
                        <h3 style="margin-bottom: 0.5rem;">${profile.name}, ${profile.age}</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">${profile.bio}</p>
                        <div style="display: flex; flex-wrap: gap: 0.5rem;">
                            ${profile.interests.map(interest => `<span style="background: var(--primary); color: white; padding: 0.25rem 0.5rem; border-radius: 16px; font-size: 0.8rem;">${interest}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function populateMatches() {
            const matchesList = document.getElementById('matchesList');
            if (!matchesList) return;

            const matches = [
                { name: 'Sarah', age: 26, image: '🌺', compatibility: '96%' },
                { name: 'Lisa', age: 24, image: '🌙', compatibility: '89%' },
                { name: 'Ana', age: 29, image: '⭐', compatibility: '92%' }
            ];

            const matchesHTML = matches.map(match => `
                <div class="card" style="text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">${match.image}</div>
                    <h3>${match.name}, ${match.age}</h3>
                    <div style="color: var(--success); font-weight: 600; margin: 1rem 0;">${match.compatibility} Match</div>
                    <button class="btn btn-primary" onclick="startDatingChat('${match.name}')">💬 Chat</button>
                </div>
            `).join('');

            matchesList.innerHTML = matchesHTML;
        }

        function populateDatingInterests() {
            const interestTags = document.getElementById('interestTags');
            if (!interestTags) return;

            const interests = ['Travel', 'Music', 'Photography', 'Fitness', 'Cooking', 'Reading', 'Movies', 'Art', 'Nature', 'Technology'];

            const tagsHTML = interests.map(interest => `
                <span onclick="toggleInterest(this, '${interest}')" style="padding: 0.5rem 1rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s ease;" role="button" tabindex="0">${interest}</span>
            `).join('');

            interestTags.innerHTML = tagsHTML;
        }

        // Media Functions
        function initializeMediaPlayer() {
            // Initialize media player functionality
        }

        // Extra Features Functions  
        function initializeExtraFeatures() {
            // Initialize games and extra features
        }

        // Modal Functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        function openGameModal(gameType) {
            const modal = document.getElementById('gameModal');
            const title = document.getElementById('gameModalTitle');
            const content = document.getElementById('gameModalContent');
            
            if (!modal || !title || !content) return;

            title.textContent = gameType.charAt(0).toUpperCase() + gameType.slice(1).replace('-', ' ');
            
            switch(gameType) {
                case 'tic-tac-toe':
                    content.innerHTML = `
                        <div class="game-board tic-tac-toe">
                            ${Array(9).fill().map((_, i) => `<div class="game-cell" onclick="makeMove(${i})" data-index="${i}"></div>`).join('')}
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <p id="gameStatus">Player X's turn</p>
                            <button class="btn btn-secondary" onclick="resetGame()" style="margin-top: 1rem;">Reset Game</button>
                        </div>
                    `;
                    break;
                case 'memory':
                    content.innerHTML = `
                        <div class="game-board memory-game">
                            ${Array(16).fill().map((_, i) => `<div class="memory-card" onclick="flipCard(${i})" data-index="${i}">?</div>`).join('')}
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <p>Score: <span id="memoryScore">0</span></p>
                            <button class="btn btn-secondary" onclick="resetMemoryGame()" style="margin-top: 1rem;">New Game</button>
                        </div>
                    `;
                    break;
                default:
                    content.innerHTML = `
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">🎮</div>
                            <h3>${title.textContent}</h3>
                            <p style="color: var(--text-secondary); margin: 1rem 0;">Coming soon! This game is under development.</p>
                            <button class="btn btn-primary" onclick="closeModal('gameModal')">Close</button>
                        </div>
                    `;
            }
            
            openModal('gameModal');
        }

        function openCreatePost(type = null) {
            openModal('createPostModal');
        }

        function openCoinPurchase() {
            openModal('coinPurchaseModal');
        }

        function handleCreatePost(e) {
            e.preventDefault();
            const content = document.getElementById('postContent').value;
            if (content.trim()) {
                showToast('Post created successfully!', 'success');
                closeModal('createPostModal');
                document.getElementById('postContent').value = '';
                // Refresh posts
                populateSocialPosts();
            }
        }

        function purchaseCoins(amount, price) {
            showToast(`Purchased ${amount} coins for ${price}!`, 'success');
            currentUser.coins += amount;
            const balanceElement = document.getElementById('walletBalance');
            if (balanceElement) {
                balanceElement.textContent = `${currentUser.coins} Coins`;
            }
            closeModal('coinPurchaseModal');
        }

        // Game Functions
        let ticTacToeGame = {
            board: Array(9).fill(''),
            currentPlayer: 'X',
            gameOver: false
        };

        function makeMove(index) {
            if (ticTacToeGame.board[index] === '' && !ticTacToeGame.gameOver) {
                ticTacToeGame.board[index] = ticTacToeGame.currentPlayer;
                const cell = document.querySelector(`[data-index="${index}"]`);
                if (cell) {
                    cell.textContent = ticTacToeGame.currentPlayer;
                }
                
                if (checkWinner()) {
                    document.getElementById('gameStatus').textContent = `Player ${ticTacToeGame.currentPlayer} wins!`;
                    ticTacToeGame.gameOver = true;
                } else if (ticTacToeGame.board.every(cell => cell !== '')) {
                    document.getElementById('gameStatus').textContent = "It's a draw!";
                    ticTacToeGame.gameOver = true;
                } else {
                    ticTacToeGame.currentPlayer = ticTacToeGame.currentPlayer === 'X' ? 'O' : 'X';
                    document.getElementById('gameStatus').textContent = `Player ${ticTacToeGame.currentPlayer}'s turn`;
                }
            }
        }

        function checkWinner() {
            const winPatterns = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];
            
            return winPatterns.some(pattern => {
                const [a, b, c] = pattern;
                return ticTacToeGame.board[a] && 
                       ticTacToeGame.board[a] === ticTacToeGame.board[b] && 
                       ticTacToeGame.board[a] === ticTacToeGame.board[c];
            });
        }

        function resetGame() {
            ticTacToeGame = { board: Array(9).fill(''), currentPlayer: 'X', gameOver: false };
            document.querySelectorAll('.game-cell').forEach(cell => cell.textContent = '');
            document.getElementById('gameStatus').textContent = "Player X's turn";
        }

        // Dating Functions
        function swipeCard(direction) {
            showToast(direction === 'left' ? 'Passed!' : 'Liked! 💕', direction === 'left' ? 'warning' : 'success');
            setTimeout(() => {
                generateDatingCard();
            }, 1000);
        }

        function updateAgeRange(value) {
            document.getElementById('ageRangeValue').textContent = `18-${value}`;
        }

        function updateDistance(value) {
            document.getElementById('distanceValue').textContent = `${value} miles`;
        }

        function toggleInterest(element, interest) {
            element.classList.toggle('selected');
            if (element.classList.contains('selected')) {
                element.style.background = 'var(--primary)';
                element.style.color = 'white';
            } else {
                element.style.background = 'var(--glass)';
                element.style.color = 'var(--text-primary)';
            }
        }

        // Media Functions
        let mediaPlayer = {
            isPlaying: false,
            currentTrack: 'Demo Song',
            artist: 'Demo Artist',
            progress: 30
        };

        function togglePlayPause() {
            mediaPlayer.isPlaying = !mediaPlayer.isPlaying;
            const button = document.getElementById('playButton');
            if (button) {
                button.textContent = mediaPlayer.isPlaying ? '⏸️' : '▶️';
            }
            showToast(mediaPlayer.isPlaying ? 'Playing' : 'Paused', 'success');
        }

        function previousTrack() {
            showToast('Previous track', 'success');
        }

        function nextTrack() {
            showToast('Next track', 'success');
        }

        function seekTrack(event) {
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const percent = (event.clientX - rect.left) / rect.width * 100;
            document.getElementById('progressFill').style.width = `${percent}%`;
        }

        function toggleShuffle() {
            showToast('Shuffle toggled', 'success');
        }

        function toggleRepeat() {
            showToast('Repeat toggled', 'success');
        }

        function shareTrack() {
            showToast('Track shared!', 'success');
        }

        // Live Streaming Functions
        function toggleMic() {
            showToast('Microphone toggled', 'success');
        }

        function toggleStream() {
            showToast('Stream started!', 'success');
        }

        function toggleCamera() {
            showToast('Camera toggled', 'success');
        }

        function sendChatMessage(event) {
            if (event && event.key !== 'Enter') return;
            const input = document.getElementById('chatInput');
            if (input && input.value.trim()) {
                showToast('Message sent!', 'success');
                input.value = '';
            }
        }

        // Utility Functions
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function populateNotifications() {
            // Notifications are already populated in HTML
        }

        function showNotifications() {
            const panel = document.getElementById('notificationPanel');
            if (panel) {
                panel.classList.toggle('active');
            }
        }

        function handleKeyPress(event, callback) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                callback();
            }
        }

        function goHome() {
            if (currentUser.isAuthenticated) {
                showCategory('categorySelection');
            }
        }

        function toggleUserMenu() {
            showToast('User menu clicked', 'success');
        }

        // Placeholder functions for various interactions
        function likePost(postId) { showToast('Post liked!', 'success'); }
        function commentPost(postId) { showToast('Comment added!', 'success'); }
        function sharePost(postId) { showToast('Post shared!', 'success'); }
        function addFriend(name) { showToast(`Friend request sent to ${name}!`, 'success'); }
        function startChat(name) { showToast(`Starting chat with ${name}`, 'success'); }
        function openConversation(name) { showToast(`Opening conversation with ${name}`, 'success'); }
        function searchConversations(query) { /* Search implementation */ }
        function editProfile() { showToast('Profile editor opened', 'success'); }
        function viewMyPosts() { showToast('Viewing your posts', 'success'); }
        function performSearch(query) { showToast(`Searching for: ${query}`, 'success'); }
        function searchCategory(category) { showToast(`Searching ${category}`, 'success'); }
        function searchTrending(hashtag) { showToast(`Searching ${hashtag}`, 'success'); }
        function createGroup() { showToast('Group creator opened', 'success'); }
        function createEvent() { showToast('Event creator opened', 'success'); }
        function createStory() { showToast('Story creator opened', 'success'); }
        function joinGroup(name) { showToast(`Joined ${name}!`, 'success'); }
        function attendEvent(name) { showToast(`Attending ${name}!`, 'success'); }
        function startDatingChat(name) { showToast(`Starting chat with ${name}`, 'success'); }
        function openMusicLibrary() { showToast('Music library opened', 'success'); }
        function startLiveSession() { showToast('Live session started!', 'success'); }
        function discoverMusic() { showToast('Discovering new music...', 'success'); }
        function startVideoCall() { showToast('Starting video call...', 'success'); }
        function scheduleCall() { showToast('Call scheduled!', 'success'); }
        function viewCallHistory() { showToast('Viewing call history', 'success'); }
        function addContact() { showToast('Add contact opened', 'success'); }
        function launchARExperience(type) { showToast(`Launching ${type} AR experience!`, 'success'); }
        function sellItem() { showToast('Sell item form opened', 'success'); }
        function earnCoins(type) { showToast('Coins earned!', 'success'); }
        function transferCoins() { showToast('Transfer coins opened', 'success'); }
        function viewTransactions() { showToast('Transaction history opened', 'success'); }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Initialize Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful');
                }).catch(function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
